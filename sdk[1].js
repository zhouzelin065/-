!function(t){"use strict";var e,n=t.Base64,r="2.1.9";if("undefined"!=typeof module&&module.exports)try{e=require("buffer").Buffer}catch(i){}var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=function(t){for(var e={},n=0,r=t.length;n<r;n++)e[t.charAt(n)]=n;return e}(s),a=String.fromCharCode,u=function(t){if(t.length<2){var e=t.charCodeAt(0);return e<128?t:e<2048?a(192|e>>>6)+a(128|63&e):a(224|e>>>12&15)+a(128|e>>>6&63)+a(128|63&e)}var e=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320);return a(240|e>>>18&7)+a(128|e>>>12&63)+a(128|e>>>6&63)+a(128|63&e)},l=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,c=function(t){return t.replace(l,u)},d=function(t){var e=[0,2,1][t.length%3],n=t.charCodeAt(0)<<16|(t.length>1?t.charCodeAt(1):0)<<8|(t.length>2?t.charCodeAt(2):0),r=[s.charAt(n>>>18),s.charAt(n>>>12&63),e>=2?"=":s.charAt(n>>>6&63),e>=1?"=":s.charAt(63&n)];return r.join("")},p=t.btoa?function(e){return t.btoa(e)}:function(t){return t.replace(/[\s\S]{1,3}/g,d)},h=e?function(t){return(t.constructor===e.constructor?t:new e(t)).toString("base64")}:function(t){return p(c(t))},f=function(t,e){return e?h(String(t)).replace(/[+\/]/g,function(t){return"+"==t?"-":"_"}).replace(/=/g,""):h(String(t))},g=function(t){return f(t,!0)},k=new RegExp(["[À-ß][-¿]","[à-ï][-¿]{2}","[ð-÷][-¿]{3}"].join("|"),"g"),b=function(t){switch(t.length){case 4:var e=(7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3),n=e-65536;return a((n>>>10)+55296)+a((1023&n)+56320);case 3:return a((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return a((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},m=function(t){return t.replace(k,b)},y=function(t){var e=t.length,n=e%4,r=(e>0?o[t.charAt(0)]<<18:0)|(e>1?o[t.charAt(1)]<<12:0)|(e>2?o[t.charAt(2)]<<6:0)|(e>3?o[t.charAt(3)]:0),i=[a(r>>>16),a(r>>>8&255),a(255&r)];return i.length-=[0,0,2,1][n],i.join("")},w=t.atob?function(e){return t.atob(e)}:function(t){return t.replace(/[\s\S]{1,4}/g,y)},v=e?function(t){return(t.constructor===e.constructor?t:new e(t,"base64")).toString()}:function(t){return m(w(t))},x=function(t){return v(String(t).replace(/[-_]/g,function(t){return"-"==t?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))},_=function(){var e=t.Base64;return t.Base64=n,e};if(t.Base64={VERSION:r,atob:w,btoa:p,fromBase64:x,toBase64:f,utob:c,encode:f,encodeURI:g,btou:m,decode:x,noConflict:_},"function"==typeof Object.defineProperty){var T=function(t){return{value:t,enumerable:!1,writable:!0,configurable:!0}};t.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",T(function(){return x(this)})),Object.defineProperty(String.prototype,"toBase64",T(function(t){return f(this,t)})),Object.defineProperty(String.prototype,"toBase64URI",T(function(){return f(this,!0)}))}}t.Meteor&&(Base64=t.Base64)}(window);var LZString=function(){function t(t,e){if(!i[t]){i[t]={};for(var n=0;n<t.length;n++)i[t][t.charAt(n)]=n}return i[t][e]}var e=String.fromCharCode,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",i={},s={compressToBase64:function(t){if(null==t)return"";var e=s._compress(t,6,function(t){return n.charAt(t)});switch(e.length%4){default:case 0:return e;case 1:return e+"===";case 2:return e+"==";case 3:return e+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:s._decompress(e.length,32,function(r){return t(n,e.charAt(r))})},compressToUTF16:function(t){return null==t?"":s._compress(t,15,function(t){return e(t+32)})+" "},decompressFromUTF16:function(t){return null==t?"":""==t?null:s._decompress(t.length,16384,function(e){return t.charCodeAt(e)-32})},compressToUint8Array:function(t){for(var e=s.compress(t),n=new Uint8Array(2*e.length),r=0,i=e.length;r<i;r++){var o=e.charCodeAt(r);n[2*r]=o>>>8,n[2*r+1]=o%256}return n},decompressFromUint8Array:function(t){if(null===t||void 0===t)return s.decompress(t);for(var n=new Array(t.length/2),r=0,i=n.length;r<i;r++)n[r]=256*t[2*r]+t[2*r+1];var o=[];return n.forEach(function(t){o.push(e(t))}),s.decompress(o.join(""))},compressToEncodedURIComponent:function(t){return null==t?"":s._compress(t,6,function(t){return r.charAt(t)})},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),s._decompress(e.length,32,function(n){return t(r,e.charAt(n))}))},compress:function(t){return s._compress(t,16,function(t){return e(t)})},_compress:function(t,e,n){if(null==t)return"";var r,i,s,o={},a={},u="",l="",c="",d=2,p=3,h=2,f=[],g=0,k=0;for(s=0;s<t.length;s+=1)if(u=t.charAt(s),Object.prototype.hasOwnProperty.call(o,u)||(o[u]=p++,a[u]=!0),l=c+u,Object.prototype.hasOwnProperty.call(o,l))c=l;else{if(Object.prototype.hasOwnProperty.call(a,c)){if(c.charCodeAt(0)<256){for(r=0;r<h;r++)g<<=1,k==e-1?(k=0,f.push(n(g)),g=0):k++;for(i=c.charCodeAt(0),r=0;r<8;r++)g=g<<1|1&i,k==e-1?(k=0,f.push(n(g)),g=0):k++,i>>=1}else{for(i=1,r=0;r<h;r++)g=g<<1|i,k==e-1?(k=0,f.push(n(g)),g=0):k++,i=0;for(i=c.charCodeAt(0),r=0;r<16;r++)g=g<<1|1&i,k==e-1?(k=0,f.push(n(g)),g=0):k++,i>>=1}d--,0==d&&(d=Math.pow(2,h),h++),delete a[c]}else for(i=o[c],r=0;r<h;r++)g=g<<1|1&i,k==e-1?(k=0,f.push(n(g)),g=0):k++,i>>=1;d--,0==d&&(d=Math.pow(2,h),h++),o[l]=p++,c=String(u)}if(""!==c){if(Object.prototype.hasOwnProperty.call(a,c)){if(c.charCodeAt(0)<256){for(r=0;r<h;r++)g<<=1,k==e-1?(k=0,f.push(n(g)),g=0):k++;for(i=c.charCodeAt(0),r=0;r<8;r++)g=g<<1|1&i,k==e-1?(k=0,f.push(n(g)),g=0):k++,i>>=1}else{for(i=1,r=0;r<h;r++)g=g<<1|i,k==e-1?(k=0,f.push(n(g)),g=0):k++,i=0;for(i=c.charCodeAt(0),r=0;r<16;r++)g=g<<1|1&i,k==e-1?(k=0,f.push(n(g)),g=0):k++,i>>=1}d--,0==d&&(d=Math.pow(2,h),h++),delete a[c]}else for(i=o[c],r=0;r<h;r++)g=g<<1|1&i,k==e-1?(k=0,f.push(n(g)),g=0):k++,i>>=1;d--,0==d&&(d=Math.pow(2,h),h++)}for(i=2,r=0;r<h;r++)g=g<<1|1&i,k==e-1?(k=0,f.push(n(g)),g=0):k++,i>>=1;for(;;){if(g<<=1,k==e-1){f.push(n(g));break}k++}return f.join("")},decompress:function(t){return null==t?"":""==t?null:s._decompress(t.length,32768,function(e){return t.charCodeAt(e)})},_decompress:function(t,n,r){var i,s,o,a,u,l,c,d,p=[],h=4,f=4,g=3,k="",b=[],m={val:r(0),position:n,index:1};for(s=0;s<3;s+=1)p[s]=s;for(a=0,l=Math.pow(2,2),c=1;c!=l;)u=m.val&m.position,m.position>>=1,0==m.position&&(m.position=n,m.val=r(m.index++)),a|=(u>0?1:0)*c,c<<=1;switch(i=a){case 0:for(a=0,l=Math.pow(2,8),c=1;c!=l;)u=m.val&m.position,m.position>>=1,0==m.position&&(m.position=n,m.val=r(m.index++)),a|=(u>0?1:0)*c,c<<=1;d=e(a);break;case 1:for(a=0,l=Math.pow(2,16),c=1;c!=l;)u=m.val&m.position,m.position>>=1,0==m.position&&(m.position=n,m.val=r(m.index++)),a|=(u>0?1:0)*c,c<<=1;d=e(a);break;case 2:return""}for(p[3]=d,o=d,b.push(d);;){if(m.index>t)return"";for(a=0,l=Math.pow(2,g),c=1;c!=l;)u=m.val&m.position,m.position>>=1,0==m.position&&(m.position=n,m.val=r(m.index++)),a|=(u>0?1:0)*c,c<<=1;switch(d=a){case 0:for(a=0,l=Math.pow(2,8),c=1;c!=l;)u=m.val&m.position,m.position>>=1,0==m.position&&(m.position=n,m.val=r(m.index++)),a|=(u>0?1:0)*c,c<<=1;p[f++]=e(a),d=f-1,h--;break;case 1:for(a=0,l=Math.pow(2,16),c=1;c!=l;)u=m.val&m.position,m.position>>=1,0==m.position&&(m.position=n,m.val=r(m.index++)),a|=(u>0?1:0)*c,c<<=1;p[f++]=e(a),d=f-1,h--;break;case 2:return b.join("")}if(0==h&&(h=Math.pow(2,g),g++),p[d])k=p[d];else{if(d!==f)return null;k=o+o.charAt(0)}b.push(k),p[f++]=o+k.charAt(0),h--,o=k,0==h&&(h=Math.pow(2,g),g++)}}};return s}();"function"==typeof define&&define.amd?define(function(){return LZString}):"undefined"!=typeof module&&null!=module?module.exports=LZString:"undefined"!=typeof angular&&null!=angular&&angular.module("LZString",[]).factory("LZString",function(){return LZString}),!function(t,e){try{"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.JSEncrypt={})}catch(n){window.console&&window.console.log("jsen error")}}(this,function(t){"use strict";function e(t){return D.charAt(t)}function n(t,e){return t&e}function r(t,e){return t|e}function i(t,e){return t^e}function s(t,e){return t&~e}function o(t){if(0==t)return-1;var e=0;return 0==(65535&t)&&(t>>=16,e+=16),0==(255&t)&&(t>>=8,e+=8),0==(15&t)&&(t>>=4,e+=4),0==(3&t)&&(t>>=2,e+=2),0==(1&t)&&++e,e}function a(t){for(var e=0;0!=t;)t&=t-1,++e;return e}function u(t){var e,n,r="";for(e=0;e+3<=t.length;e+=3)n=parseInt(t.substring(e,e+3),16),r+=P.charAt(n>>6)+P.charAt(63&n);for(e+1==t.length?(n=parseInt(t.substring(e,e+1),16),r+=P.charAt(n<<2)):e+2==t.length&&(n=parseInt(t.substring(e,e+2),16),r+=P.charAt(n>>2)+P.charAt((3&n)<<4));(3&r.length)>0;)r+=N;return r}function l(t){var n,r="",i=0,s=0;for(n=0;n<t.length&&t.charAt(n)!=N;++n){var o=P.indexOf(t.charAt(n));o<0||(0==i?(r+=e(o>>2),s=3&o,i=1):1==i?(r+=e(s<<2|o>>4),s=15&o,i=2):2==i?(r+=e(s),r+=e(o>>2),s=3&o,i=3):(r+=e(s<<2|o>>4),r+=e(15&o),i=0))}return 1==i&&(r+=e(s<<2)),r}function c(t,e){function n(){this.constructor=t}B(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function d(t,e){return t.length>e&&(t=t.substring(0,e)+j),t}function p(){return new z(null)}function h(t,e){return new z(t,e)}function f(t,e,n,r,i,s){for(;--s>=0;){var o=e*this[t++]+n[r]+i;i=Math.floor(o/67108864),n[r++]=67108863&o}return i}function g(t,e,n,r,i,s){for(var o=32767&e,a=e>>15;--s>=0;){var u=32767&this[t],l=this[t++]>>15,c=a*u+l*o;u=o*u+((32767&c)<<15)+n[r]+(1073741823&i),i=(u>>>30)+(c>>>15)+a*l+(i>>>30),n[r++]=1073741823&u}return i}function k(t,e,n,r,i,s){for(var o=16383&e,a=e>>14;--s>=0;){var u=16383&this[t],l=this[t++]>>14,c=a*u+l*o;u=o*u+((16383&c)<<14)+n[r]+i,i=(u>>28)+(c>>14)+a*l,n[r++]=268435455&u}return i}function b(t,e){var n=nt[t.charCodeAt(e)];return null==n?-1:n}function m(t){var e=p();return e.fromInt(t),e}function y(t){var e,n=1;return 0!=(e=t>>>16)&&(t=e,n+=16),0!=(e=t>>8)&&(t=e,n+=8),0!=(e=t>>4)&&(t=e,n+=4),0!=(e=t>>2)&&(t=e,n+=2),0!=(e=t>>1)&&(t=e,n+=1),n}function w(){return new st}function v(){if(null==rt){for(rt=w();it<ot;){var t=Math.floor(65536*Math.random());at[it++]=255&t}for(rt.init(at),it=0;it<at.length;++it)at[it]=0;it=0}return rt.next()}function x(t,e){if(e<t.length+22)return console.error("Message too long for RSA"),null;for(var n=e-t.length-6,r="",i=0;i<n;i+=2)r+="ff";var s="0001"+r+"00"+t;return h(s,16)}function _(t,e){if(e<t.length+11)return console.error("Message too long for RSA"),null;for(var n=[],r=t.length-1;r>=0&&e>0;){var i=t.charCodeAt(r--);i<128?n[--e]=i:i>127&&i<2048?(n[--e]=63&i|128,n[--e]=i>>6|192):(n[--e]=63&i|128,n[--e]=i>>6&63|128,n[--e]=i>>12|224)}n[--e]=0;for(var s=new dt,o=[];e>2;){for(o[0]=0;0==o[0];)s.nextBytes(o);n[--e]=o[0]}return n[--e]=2,n[--e]=0,new z(n)}function T(t,e){for(var n=t.toByteArray(),r=0;r<n.length&&0==n[r];)++r;if(n.length-r!=e-1||2!=n[r])return null;for(++r;0!=n[r];)if(++r>=n.length)return null;for(var i="";++r<n.length;){var s=255&n[r];s<128?i+=String.fromCharCode(s):s>191&&s<224?(i+=String.fromCharCode((31&s)<<6|63&n[r+1]),++r):(i+=String.fromCharCode((15&s)<<12|(63&n[r+1])<<6|63&n[r+2]),r+=2)}return i}function E(t){return ht[t]||""}function S(t){for(var e in ht)if(ht.hasOwnProperty(e)){var n=ht[e],r=n.length;if(t.substr(0,r)==n)return t.substr(r)}return t}var R,C,I,D="0123456789abcdefghijklmnopqrstuvwxyz",P="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",N="=",B=function(t,e){return(B=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},A={decode:function(t){var e;if(void 0===R){var n="0123456789ABCDEF",r=" \f\n\r\t \u2028\u2029";for(R={},e=0;e<16;++e)R[n.charAt(e)]=e;for(n=n.toLowerCase(),e=10;e<16;++e)R[n.charAt(e)]=e;for(e=0;e<r.length;++e)R[r.charAt(e)]=-1}var i=[],s=0,o=0;for(e=0;e<t.length;++e){var a=t.charAt(e);if("="==a)break;if(a=R[a],a!=-1){if(void 0===a)throw new Error("Illegal character at offset "+e);s|=a,++o>=2?(i[i.length]=s,s=0,o=0):s<<=4}}if(o)throw new Error("Hex encoding incomplete: 4 bits missing");return i}},O={decode:function(t){var e;if(void 0===C){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r="= \f\n\r\t \u2028\u2029";for(C=Object.create(null),e=0;e<64;++e)C[n.charAt(e)]=e;for(e=0;e<r.length;++e)C[r.charAt(e)]=-1}var i=[],s=0,o=0;for(e=0;e<t.length;++e){var a=t.charAt(e);if("="==a)break;if(a=C[a],a!=-1){if(void 0===a)throw new Error("Illegal character at offset "+e);s|=a,++o>=4?(i[i.length]=s>>16,i[i.length]=s>>8&255,i[i.length]=255&s,s=0,o=0):s<<=6}}switch(o){case 1:throw new Error("Base64 encoding incomplete: at least 2 bits missing");case 2:i[i.length]=s>>10;break;case 3:i[i.length]=s>>16,i[i.length]=s>>8&255}return i},re:/-----BEGIN [^-]+-----([A-Za-z0-9+\/=\s]+)-----END [^-]+-----|begin-base64[^\n]+\n([A-Za-z0-9+\/=\s]+)====/,unarmor:function(t){var e=O.re.exec(t);if(e)if(e[1])t=e[1];else{if(!e[2])throw new Error("RegExp out of sync");t=e[2]}return O.decode(t)}},M=1e13,U=function(){function t(t){this.buf=[+t||0]}return t.prototype.mulAdd=function(t,e){var n,r,i=this.buf,s=i.length;for(n=0;n<s;++n)r=i[n]*t+e,r<M?e=0:(e=0|r/M,r-=e*M),i[n]=r;e>0&&(i[n]=e)},t.prototype.sub=function(t){var e,n,r=this.buf,i=r.length;for(e=0;e<i;++e)n=r[e]-t,n<0?(n+=M,t=1):t=0,r[e]=n;for(;0===r[r.length-1];)r.pop()},t.prototype.toString=function(t){if(10!=(t||10))throw new Error("only base 10 is supported");for(var e=this.buf,n=e[e.length-1].toString(),r=e.length-2;r>=0;--r)n+=(M+e[r]).toString().substring(1);return n},t.prototype.valueOf=function(){for(var t=this.buf,e=0,n=t.length-1;n>=0;--n)e=e*M+t[n];return e},t.prototype.simplify=function(){var t=this.buf;return 1==t.length?t[0]:this},t}(),j="…",L=/^(\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/,W=/^(\d\d\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/,F=function(){function t(e,n){this.hexDigits="0123456789ABCDEF",e instanceof t?(this.enc=e.enc,this.pos=e.pos):(this.enc=e,this.pos=n)}return t.prototype.get=function(t){if(void 0===t&&(t=this.pos++),t>=this.enc.length)throw new Error("Requesting byte offset "+t+" on a stream of length "+this.enc.length);return"string"==typeof this.enc?this.enc.charCodeAt(t):this.enc[t]},t.prototype.hexByte=function(t){return this.hexDigits.charAt(t>>4&15)+this.hexDigits.charAt(15&t)},t.prototype.hexDump=function(t,e,n){for(var r="",i=t;i<e;++i)if(r+=this.hexByte(this.get(i)),n!==!0)switch(15&i){case 7:r+="  ";break;case 15:r+="\n";break;default:r+=" "}return r},t.prototype.isASCII=function(t,e){for(var n=t;n<e;++n){var r=this.get(n);if(r<32||r>176)return!1}return!0},t.prototype.parseStringISO=function(t,e){for(var n="",r=t;r<e;++r)n+=String.fromCharCode(this.get(r));return n},t.prototype.parseStringUTF=function(t,e){for(var n="",r=t;r<e;){var i=this.get(r++);n+=i<128?String.fromCharCode(i):i>191&&i<224?String.fromCharCode((31&i)<<6|63&this.get(r++)):String.fromCharCode((15&i)<<12|(63&this.get(r++))<<6|63&this.get(r++))}return n},t.prototype.parseStringBMP=function(t,e){for(var n,r,i="",s=t;s<e;)n=this.get(s++),r=this.get(s++),i+=String.fromCharCode(n<<8|r);return i},t.prototype.parseTime=function(t,e,n){var r=this.parseStringISO(t,e),i=(n?L:W).exec(r);return i?(n&&(i[1]=+i[1],i[1]+=+i[1]<70?2e3:1900),r=i[1]+"-"+i[2]+"-"+i[3]+" "+i[4],i[5]&&(r+=":"+i[5],i[6]&&(r+=":"+i[6],i[7]&&(r+="."+i[7]))),i[8]&&(r+=" UTC","Z"!=i[8]&&(r+=i[8],i[9]&&(r+=":"+i[9]))),r):"Unrecognized time: "+r},t.prototype.parseInteger=function(t,e){for(var n,r=this.get(t),i=r>127,s=i?255:0,o="";r==s&&++t<e;)r=this.get(t);if(n=e-t,0===n)return i?-1:0;if(n>4){for(o=r,n<<=3;0==(128&(+o^s));)o=+o<<1,--n;o="("+n+" bit)\n"}i&&(r-=256);for(var a=new U(r),u=t+1;u<e;++u)a.mulAdd(256,this.get(u));return o+a.toString()},t.prototype.parseBitString=function(t,e,n){for(var r=this.get(t),i=(e-t-1<<3)-r,s="("+i+" bit)\n",o="",a=t+1;a<e;++a){for(var u=this.get(a),l=a==e-1?r:0,c=7;c>=l;--c)o+=u>>c&1?"1":"0";if(o.length>n)return s+d(o,n)}return s+o},t.prototype.parseOctetString=function(t,e,n){if(this.isASCII(t,e))return d(this.parseStringISO(t,e),n);var r=e-t,i="("+r+" byte)\n";n/=2,r>n&&(e=t+n);for(var s=t;s<e;++s)i+=this.hexByte(this.get(s));return r>n&&(i+=j),i},t.prototype.parseOID=function(t,e,n){for(var r="",i=new U,s=0,o=t;o<e;++o){var a=this.get(o);if(i.mulAdd(128,127&a),s+=7,!(128&a)){if(""===r)if(i=i.simplify(),i instanceof U)i.sub(80),r="2."+i.toString();else{var u=i<80?i<40?0:1:2;r=u+"."+(i-40*u)}else r+="."+i.toString();if(r.length>n)return d(r,n);i=new U,s=0}}return s>0&&(r+=".incomplete"),r},t}(),H=function(){function t(t,e,n,r,i){if(!(r instanceof V))throw new Error("Invalid tag value.");this.stream=t,this.header=e,this.length=n,this.tag=r,this.sub=i}return t.prototype.typeName=function(){switch(this.tag.tagClass){case 0:switch(this.tag.tagNumber){case 0:return"EOC";case 1:return"BOOLEAN";case 2:return"INTEGER";case 3:return"BIT_STRING";case 4:return"OCTET_STRING";case 5:return"NULL";case 6:return"OBJECT_IDENTIFIER";case 7:return"ObjectDescriptor";case 8:return"EXTERNAL";case 9:return"REAL";case 10:return"ENUMERATED";case 11:return"EMBEDDED_PDV";case 12:return"UTF8String";case 16:return"SEQUENCE";case 17:return"SET";case 18:return"NumericString";case 19:return"PrintableString";case 20:return"TeletexString";case 21:return"VideotexString";case 22:return"IA5String";case 23:return"UTCTime";case 24:return"GeneralizedTime";case 25:return"GraphicString";case 26:return"VisibleString";case 27:return"GeneralString";case 28:return"UniversalString";case 30:return"BMPString"}return"Universal_"+this.tag.tagNumber.toString();case 1:return"Application_"+this.tag.tagNumber.toString();case 2:return"["+this.tag.tagNumber.toString()+"]";case 3:return"Private_"+this.tag.tagNumber.toString()}},t.prototype.content=function(t){if(void 0===this.tag)return null;void 0===t&&(t=1/0);var e=this.posContent(),n=Math.abs(this.length);if(!this.tag.isUniversal())return null!==this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(e,e+n,t);switch(this.tag.tagNumber){case 1:return 0===this.stream.get(e)?"false":"true";case 2:return this.stream.parseInteger(e,e+n);case 3:return this.sub?"("+this.sub.length+" elem)":this.stream.parseBitString(e,e+n,t);case 4:return this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(e,e+n,t);case 6:return this.stream.parseOID(e,e+n,t);case 16:case 17:return null!==this.sub?"("+this.sub.length+" elem)":"(no elem)";case 12:return d(this.stream.parseStringUTF(e,e+n),t);case 18:case 19:case 20:case 21:case 22:case 26:return d(this.stream.parseStringISO(e,e+n),t);case 30:return d(this.stream.parseStringBMP(e,e+n),t);case 23:case 24:return this.stream.parseTime(e,e+n,23==this.tag.tagNumber)}return null},t.prototype.toString=function(){return this.typeName()+"@"+this.stream.pos+"[header:"+this.header+",length:"+this.length+",sub:"+(null===this.sub?"null":this.sub.length)+"]"},t.prototype.toPrettyString=function(t){void 0===t&&(t="");var e=t+this.typeName()+" @"+this.stream.pos;if(this.length>=0&&(e+="+"),e+=this.length,this.tag.tagConstructed?e+=" (constructed)":!this.tag.isUniversal()||3!=this.tag.tagNumber&&4!=this.tag.tagNumber||null===this.sub||(e+=" (encapsulates)"),e+="\n",null!==this.sub){t+="  ";for(var n=0,r=this.sub.length;n<r;++n)e+=this.sub[n].toPrettyString(t)}return e},t.prototype.posStart=function(){return this.stream.pos},t.prototype.posContent=function(){return this.stream.pos+this.header},t.prototype.posEnd=function(){return this.stream.pos+this.header+Math.abs(this.length)},t.prototype.toHexString=function(){return this.stream.hexDump(this.posStart(),this.posEnd(),!0)},t.decodeLength=function(t){var e=t.get(),n=127&e;if(n==e)return n;if(n>6)throw new Error("Length over 48 bits not supported at position "+(t.pos-1));if(0===n)return null;e=0;for(var r=0;r<n;++r)e=256*e+t.get();return e},t.prototype.getHexStringValue=function(){var t=this.toHexString(),e=2*this.header,n=2*this.length;return t.substr(e,n)},t.decode=function(e){var n;n=e instanceof F?e:new F(e,0);var r=new F(n),i=new V(n),s=t.decodeLength(n),o=n.pos,a=o-r.pos,u=null,l=function(){var e=[];if(null!==s){for(var r=o+s;n.pos<r;)e[e.length]=t.decode(n);if(n.pos!=r)throw new Error("Content size is not correct for container starting at offset "+o)}else try{for(;;){var i=t.decode(n);if(i.tag.isEOC())break;e[e.length]=i}s=o-n.pos}catch(a){throw new Error("Exception while decoding undefined length content: "+a)}return e};if(i.tagConstructed)u=l();else if(i.isUniversal()&&(3==i.tagNumber||4==i.tagNumber))try{if(3==i.tagNumber&&0!=n.get())throw new Error("BIT STRINGs with unused bits cannot encapsulate.");u=l();for(var c=0;c<u.length;++c)if(u[c].tag.isEOC())throw new Error("EOC is not supposed to be actual content.")}catch(d){u=null}if(null===u){if(null===s)throw new Error("We can't skip over an invalid tag with undefined length at offset "+o);n.pos=o+Math.abs(s)}return new t(r,a,s,i,u)},t}(),V=function(){function t(t){var e=t.get();if(this.tagClass=e>>6,this.tagConstructed=0!==(32&e),this.tagNumber=31&e,31==this.tagNumber){var n=new U;do e=t.get(),n.mulAdd(128,127&e);while(128&e);this.tagNumber=n.simplify()}}return t.prototype.isUniversal=function(){return 0===this.tagClass},t.prototype.isEOC=function(){return 0===this.tagClass&&0===this.tagNumber},t}(),K=0xdeadbeefcafe,q=15715070==(16777215&K),Y=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],G=(1<<26)/Y[Y.length-1],z=function(){function t(t,e,n){null!=t&&("number"==typeof t?this.fromNumber(t,e,n):null==e&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,e))}return t.prototype.toString=function(t){if(this.s<0)return"-"+this.negate().toString(t);var n;if(16==t)n=4;else if(8==t)n=3;else if(2==t)n=1;else if(32==t)n=5;else{if(4!=t)return this.toRadix(t);n=2}var r,i=(1<<n)-1,s=!1,o="",a=this.t,u=this.DB-a*this.DB%n;if(a-- >0)for(u<this.DB&&(r=this[a]>>u)>0&&(s=!0,o=e(r));a>=0;)u<n?(r=(this[a]&(1<<u)-1)<<n-u,r|=this[--a]>>(u+=this.DB-n)):(r=this[a]>>(u-=n)&i,u<=0&&(u+=this.DB,--a)),r>0&&(s=!0),s&&(o+=e(r));return s?o:"0"},t.prototype.negate=function(){var e=p();return t.ZERO.subTo(this,e),e},t.prototype.abs=function(){return this.s<0?this.negate():this},t.prototype.compareTo=function(t){var e=this.s-t.s;if(0!=e)return e;var n=this.t;if(e=n-t.t,0!=e)return this.s<0?-e:e;for(;--n>=0;)if(0!=(e=this[n]-t[n]))return e;return 0},t.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+y(this[this.t-1]^this.s&this.DM)},t.prototype.mod=function(e){var n=p();return this.abs().divRemTo(e,null,n),this.s<0&&n.compareTo(t.ZERO)>0&&e.subTo(n,n),n},t.prototype.modPowInt=function(t,e){var n;return n=t<256||e.isEven()?new J(e):new $(e),this.exp(t,n)},t.prototype.clone=function(){var t=p();return this.copyTo(t),t},t.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},t.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},t.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},t.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},t.prototype.toByteArray=function(){var t=this.t,e=[];e[0]=this.s;var n,r=this.DB-t*this.DB%8,i=0;if(t-- >0)for(r<this.DB&&(n=this[t]>>r)!=(this.s&this.DM)>>r&&(e[i++]=n|this.s<<this.DB-r);t>=0;)r<8?(n=(this[t]&(1<<r)-1)<<8-r,n|=this[--t]>>(r+=this.DB-8)):(n=this[t]>>(r-=8)&255,r<=0&&(r+=this.DB,--t)),0!=(128&n)&&(n|=-256),0==i&&(128&this.s)!=(128&n)&&++i,(i>0||n!=this.s)&&(e[i++]=n);return e},t.prototype.equals=function(t){return 0==this.compareTo(t)},t.prototype.min=function(t){return this.compareTo(t)<0?this:t},t.prototype.max=function(t){return this.compareTo(t)>0?this:t},t.prototype.and=function(t){var e=p();return this.bitwiseTo(t,n,e),e},t.prototype.or=function(t){var e=p();return this.bitwiseTo(t,r,e),e},t.prototype.xor=function(t){var e=p();return this.bitwiseTo(t,i,e),e},t.prototype.andNot=function(t){var e=p();return this.bitwiseTo(t,s,e),e},t.prototype.not=function(){for(var t=p(),e=0;e<this.t;++e)t[e]=this.DM&~this[e];return t.t=this.t,t.s=~this.s,t},t.prototype.shiftLeft=function(t){var e=p();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e},t.prototype.shiftRight=function(t){var e=p();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e},t.prototype.getLowestSetBit=function(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+o(this[t]);return this.s<0?this.t*this.DB:-1},t.prototype.bitCount=function(){for(var t=0,e=this.s&this.DM,n=0;n<this.t;++n)t+=a(this[n]^e);return t},t.prototype.testBit=function(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:0!=(this[e]&1<<t%this.DB)},t.prototype.setBit=function(t){return this.changeBit(t,r)},t.prototype.clearBit=function(t){return this.changeBit(t,s)},t.prototype.flipBit=function(t){return this.changeBit(t,i)},t.prototype.add=function(t){var e=p();return this.addTo(t,e),e},t.prototype.subtract=function(t){var e=p();return this.subTo(t,e),e},t.prototype.multiply=function(t){var e=p();return this.multiplyTo(t,e),e},t.prototype.divide=function(t){var e=p();return this.divRemTo(t,e,null),e},t.prototype.remainder=function(t){var e=p();return this.divRemTo(t,null,e),e},t.prototype.divideAndRemainder=function(t){var e=p(),n=p();return this.divRemTo(t,e,n),[e,n]},t.prototype.modPow=function(t,e){var n,r,i=t.bitLength(),s=m(1);if(i<=0)return s;n=i<18?1:i<48?3:i<144?4:i<768?5:6,r=i<8?new J(e):e.isEven()?new Q(e):new $(e);var o=[],a=3,u=n-1,l=(1<<n)-1;if(o[1]=r.convert(this),n>1){var c=p();for(r.sqrTo(o[1],c);a<=l;)o[a]=p(),r.mulTo(c,o[a-2],o[a]),a+=2}var d,h,f=t.t-1,g=!0,k=p();for(i=y(t[f])-1;f>=0;){for(i>=u?d=t[f]>>i-u&l:(d=(t[f]&(1<<i+1)-1)<<u-i,f>0&&(d|=t[f-1]>>this.DB+i-u)),a=n;0==(1&d);)d>>=1,--a;if((i-=a)<0&&(i+=this.DB,--f),g)o[d].copyTo(s),g=!1;else{for(;a>1;)r.sqrTo(s,k),r.sqrTo(k,s),a-=2;a>0?r.sqrTo(s,k):(h=s,s=k,k=h),r.mulTo(k,o[d],s)}for(;f>=0&&0==(t[f]&1<<i);)r.sqrTo(s,k),h=s,s=k,k=h,--i<0&&(i=this.DB-1,--f)}return r.revert(s)},t.prototype.modInverse=function(e){var n=e.isEven();if(this.isEven()&&n||0==e.signum())return t.ZERO;for(var r=e.clone(),i=this.clone(),s=m(1),o=m(0),a=m(0),u=m(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),n?(s.isEven()&&o.isEven()||(s.addTo(this,s),o.subTo(e,o)),s.rShiftTo(1,s)):o.isEven()||o.subTo(e,o),o.rShiftTo(1,o);for(;i.isEven();)i.rShiftTo(1,i),n?(a.isEven()&&u.isEven()||(a.addTo(this,a),u.subTo(e,u)),a.rShiftTo(1,a)):u.isEven()||u.subTo(e,u),u.rShiftTo(1,u);r.compareTo(i)>=0?(r.subTo(i,r),n&&s.subTo(a,s),o.subTo(u,o)):(i.subTo(r,i),n&&a.subTo(s,a),u.subTo(o,u))}return 0!=i.compareTo(t.ONE)?t.ZERO:u.compareTo(e)>=0?u.subtract(e):u.signum()<0?(u.addTo(e,u),u.signum()<0?u.add(e):u):u},t.prototype.pow=function(t){return this.exp(t,new Z)},t.prototype.gcd=function(t){var e=this.s<0?this.negate():this.clone(),n=t.s<0?t.negate():t.clone();if(e.compareTo(n)<0){var r=e;e=n,n=r}var i=e.getLowestSetBit(),s=n.getLowestSetBit();if(s<0)return e;for(i<s&&(s=i),s>0&&(e.rShiftTo(s,e),n.rShiftTo(s,n));e.signum()>0;)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=n.getLowestSetBit())>0&&n.rShiftTo(i,n),e.compareTo(n)>=0?(e.subTo(n,e),e.rShiftTo(1,e)):(n.subTo(e,n),n.rShiftTo(1,n));return s>0&&n.lShiftTo(s,n),n},t.prototype.isProbablePrime=function(t){var e,n=this.abs();if(1==n.t&&n[0]<=Y[Y.length-1]){for(e=0;e<Y.length;++e)if(n[0]==Y[e])return!0;return!1}if(n.isEven())return!1;for(e=1;e<Y.length;){for(var r=Y[e],i=e+1;i<Y.length&&r<G;)r*=Y[i++];for(r=n.modInt(r);e<i;)if(r%Y[e++]==0)return!1}return n.millerRabin(t)},t.prototype.copyTo=function(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s},t.prototype.fromInt=function(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+this.DV:this.t=0},t.prototype.fromString=function(e,n){var r;if(16==n)r=4;else if(8==n)r=3;else if(256==n)r=8;else if(2==n)r=1;else if(32==n)r=5;else{if(4!=n)return void this.fromRadix(e,n);r=2}this.t=0,this.s=0;for(var i=e.length,s=!1,o=0;--i>=0;){var a=8==r?255&+e[i]:b(e,i);a<0?"-"==e.charAt(i)&&(s=!0):(s=!1,0==o?this[this.t++]=a:o+r>this.DB?(this[this.t-1]|=(a&(1<<this.DB-o)-1)<<o,this[this.t++]=a>>this.DB-o):this[this.t-1]|=a<<o,o+=r,o>=this.DB&&(o-=this.DB))}8==r&&0!=(128&+e[0])&&(this.s=-1,o>0&&(this[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),s&&t.ZERO.subTo(this,this)},t.prototype.clamp=function(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t},t.prototype.dlShiftTo=function(t,e){var n;for(n=this.t-1;n>=0;--n)e[n+t]=this[n];for(n=t-1;n>=0;--n)e[n]=0;e.t=this.t+t,e.s=this.s},t.prototype.drShiftTo=function(t,e){for(var n=t;n<this.t;++n)e[n-t]=this[n];e.t=Math.max(this.t-t,0),e.s=this.s},t.prototype.lShiftTo=function(t,e){for(var n=t%this.DB,r=this.DB-n,i=(1<<r)-1,s=Math.floor(t/this.DB),o=this.s<<n&this.DM,a=this.t-1;a>=0;--a)e[a+s+1]=this[a]>>r|o,o=(this[a]&i)<<n;for(var a=s-1;a>=0;--a)e[a]=0;e[s]=o,e.t=this.t+s+1,e.s=this.s,e.clamp()},t.prototype.rShiftTo=function(t,e){e.s=this.s;var n=Math.floor(t/this.DB);if(n>=this.t)return void(e.t=0);var r=t%this.DB,i=this.DB-r,s=(1<<r)-1;e[0]=this[n]>>r;for(var o=n+1;o<this.t;++o)e[o-n-1]|=(this[o]&s)<<i,e[o-n]=this[o]>>r;r>0&&(e[this.t-n-1]|=(this.s&s)<<i),e.t=this.t-n,e.clamp()},t.prototype.subTo=function(t,e){for(var n=0,r=0,i=Math.min(t.t,this.t);n<i;)r+=this[n]-t[n],e[n++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r-=t.s;n<this.t;)r+=this[n],e[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<t.t;)r-=t[n],e[n++]=r&this.DM,r>>=this.DB;r-=t.s}e.s=r<0?-1:0,r<-1?e[n++]=this.DV+r:r>0&&(e[n++]=r),e.t=n,e.clamp()},t.prototype.multiplyTo=function(e,n){var r=this.abs(),i=e.abs(),s=r.t;for(n.t=s+i.t;--s>=0;)n[s]=0;for(s=0;s<i.t;++s)n[s+r.t]=r.am(0,i[s],n,s,0,r.t);n.s=0,n.clamp(),this.s!=e.s&&t.ZERO.subTo(n,n)},t.prototype.squareTo=function(t){for(var e=this.abs(),n=t.t=2*e.t;--n>=0;)t[n]=0;for(n=0;n<e.t-1;++n){var r=e.am(n,e[n],t,2*n,0,1);(t[n+e.t]+=e.am(n+1,2*e[n],t,2*n+1,r,e.t-n-1))>=e.DV&&(t[n+e.t]-=e.DV,t[n+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(n,e[n],t,2*n,0,1)),t.s=0,t.clamp()},t.prototype.divRemTo=function(e,n,r){var i=e.abs();if(!(i.t<=0)){var s=this.abs();if(s.t<i.t)return null!=n&&n.fromInt(0),void(null!=r&&this.copyTo(r));null==r&&(r=p());var o=p(),a=this.s,u=e.s,l=this.DB-y(i[i.t-1]);l>0?(i.lShiftTo(l,o),s.lShiftTo(l,r)):(i.copyTo(o),s.copyTo(r));var c=o.t,d=o[c-1];if(0!=d){var h=d*(1<<this.F1)+(c>1?o[c-2]>>this.F2:0),f=this.FV/h,g=(1<<this.F1)/h,k=1<<this.F2,b=r.t,m=b-c,w=null==n?p():n;for(o.dlShiftTo(m,w),r.compareTo(w)>=0&&(r[r.t++]=1,r.subTo(w,r)),t.ONE.dlShiftTo(c,w),w.subTo(o,o);o.t<c;)o[o.t++]=0;for(;--m>=0;){var v=r[--b]==d?this.DM:Math.floor(r[b]*f+(r[b-1]+k)*g);if((r[b]+=o.am(0,v,r,m,0,c))<v)for(o.dlShiftTo(m,w),r.subTo(w,r);r[b]<--v;)r.subTo(w,r)}null!=n&&(r.drShiftTo(c,n),a!=u&&t.ZERO.subTo(n,n)),r.t=c,r.clamp(),l>0&&r.rShiftTo(l,r),a<0&&t.ZERO.subTo(r,r)}}},t.prototype.invDigit=function(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return e=e*(2-(15&t)*e)&15,e=e*(2-(255&t)*e)&255,e=e*(2-((65535&t)*e&65535))&65535,e=e*(2-t*e%this.DV)%this.DV,e>0?this.DV-e:-e},t.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},t.prototype.exp=function(e,n){if(e>4294967295||e<1)return t.ONE;var r=p(),i=p(),s=n.convert(this),o=y(e)-1;for(s.copyTo(r);--o>=0;)if(n.sqrTo(r,i),(e&1<<o)>0)n.mulTo(i,s,r);else{var a=r;r=i,
i=a}return n.revert(r)},t.prototype.chunkSize=function(t){return Math.floor(Math.LN2*this.DB/Math.log(t))},t.prototype.toRadix=function(t){if(null==t&&(t=10),0==this.signum()||t<2||t>36)return"0";var e=this.chunkSize(t),n=Math.pow(t,e),r=m(n),i=p(),s=p(),o="";for(this.divRemTo(r,i,s);i.signum()>0;)o=(n+s.intValue()).toString(t).substr(1)+o,i.divRemTo(r,i,s);return s.intValue().toString(t)+o},t.prototype.fromRadix=function(e,n){this.fromInt(0),null==n&&(n=10);for(var r=this.chunkSize(n),i=Math.pow(n,r),s=!1,o=0,a=0,u=0;u<e.length;++u){var l=b(e,u);l<0?"-"==e.charAt(u)&&0==this.signum()&&(s=!0):(a=n*a+l,++o>=r&&(this.dMultiply(i),this.dAddOffset(a,0),o=0,a=0))}o>0&&(this.dMultiply(Math.pow(n,o)),this.dAddOffset(a,0)),s&&t.ZERO.subTo(this,this)},t.prototype.fromNumber=function(e,n,i){if("number"==typeof n)if(e<2)this.fromInt(1);else for(this.fromNumber(e,i),this.testBit(e-1)||this.bitwiseTo(t.ONE.shiftLeft(e-1),r,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(n);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(t.ONE.shiftLeft(e-1),this);else{var s=[],o=7&e;s.length=(e>>3)+1,n.nextBytes(s),o>0?s[0]&=(1<<o)-1:s[0]=0,this.fromString(s,256)}},t.prototype.bitwiseTo=function(t,e,n){var r,i,s=Math.min(t.t,this.t);for(r=0;r<s;++r)n[r]=e(this[r],t[r]);if(t.t<this.t){for(i=t.s&this.DM,r=s;r<this.t;++r)n[r]=e(this[r],i);n.t=this.t}else{for(i=this.s&this.DM,r=s;r<t.t;++r)n[r]=e(i,t[r]);n.t=t.t}n.s=e(this.s,t.s),n.clamp()},t.prototype.changeBit=function(e,n){var r=t.ONE.shiftLeft(e);return this.bitwiseTo(r,n,r),r},t.prototype.addTo=function(t,e){for(var n=0,r=0,i=Math.min(t.t,this.t);n<i;)r+=this[n]+t[n],e[n++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r+=t.s;n<this.t;)r+=this[n],e[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<t.t;)r+=t[n],e[n++]=r&this.DM,r>>=this.DB;r+=t.s}e.s=r<0?-1:0,r>0?e[n++]=r:r<-1&&(e[n++]=this.DV+r),e.t=n,e.clamp()},t.prototype.dMultiply=function(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()},t.prototype.dAddOffset=function(t,e){if(0!=t){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=t;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}},t.prototype.multiplyLowerTo=function(t,e,n){var r=Math.min(this.t+t.t,e);for(n.s=0,n.t=r;r>0;)n[--r]=0;for(var i=n.t-this.t;r<i;++r)n[r+this.t]=this.am(0,t[r],n,r,0,this.t);for(var i=Math.min(t.t,e);r<i;++r)this.am(0,t[r],n,r,0,e-r);n.clamp()},t.prototype.multiplyUpperTo=function(t,e,n){--e;var r=n.t=this.t+t.t-e;for(n.s=0;--r>=0;)n[r]=0;for(r=Math.max(e-this.t,0);r<t.t;++r)n[this.t+r-e]=this.am(e-r,t[r],n,0,0,this.t+r-e);n.clamp(),n.drShiftTo(1,n)},t.prototype.modInt=function(t){if(t<=0)return 0;var e=this.DV%t,n=this.s<0?t-1:0;if(this.t>0)if(0==e)n=this[0]%t;else for(var r=this.t-1;r>=0;--r)n=(e*n+this[r])%t;return n},t.prototype.millerRabin=function(e){var n=this.subtract(t.ONE),r=n.getLowestSetBit();if(r<=0)return!1;var i=n.shiftRight(r);e=e+1>>1,e>Y.length&&(e=Y.length);for(var s=p(),o=0;o<e;++o){s.fromInt(Y[Math.floor(Math.random()*Y.length)]);var a=s.modPow(i,this);if(0!=a.compareTo(t.ONE)&&0!=a.compareTo(n)){for(var u=1;u++<r&&0!=a.compareTo(n);)if(a=a.modPowInt(2,this),0==a.compareTo(t.ONE))return!1;if(0!=a.compareTo(n))return!1}}return!0},t.prototype.square=function(){var t=p();return this.squareTo(t),t},t.prototype.gcda=function(t,e){var n=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(n.compareTo(r)<0){var i=n;n=r,r=i}var s=n.getLowestSetBit(),o=r.getLowestSetBit();if(o<0)return void e(n);s<o&&(o=s),o>0&&(n.rShiftTo(o,n),r.rShiftTo(o,r));var a=function(){(s=n.getLowestSetBit())>0&&n.rShiftTo(s,n),(s=r.getLowestSetBit())>0&&r.rShiftTo(s,r),n.compareTo(r)>=0?(n.subTo(r,n),n.rShiftTo(1,n)):(r.subTo(n,r),r.rShiftTo(1,r)),n.signum()>0?setTimeout(a,0):(o>0&&r.lShiftTo(o,r),setTimeout(function(){e(r)},0))};setTimeout(a,10)},t.prototype.fromNumberAsync=function(e,n,i,s){if("number"==typeof n)if(e<2)this.fromInt(1);else{this.fromNumber(e,i),this.testBit(e-1)||this.bitwiseTo(t.ONE.shiftLeft(e-1),r,this),this.isEven()&&this.dAddOffset(1,0);var o=this,a=function(){o.dAddOffset(2,0),o.bitLength()>e&&o.subTo(t.ONE.shiftLeft(e-1),o),o.isProbablePrime(n)?setTimeout(function(){s()},0):setTimeout(a,0)};setTimeout(a,0)}else{var u=[],l=7&e;u.length=(e>>3)+1,n.nextBytes(u),l>0?u[0]&=(1<<l)-1:u[0]=0,this.fromString(u,256)}},t}(),Z=function(){function t(){}return t.prototype.convert=function(t){return t},t.prototype.revert=function(t){return t},t.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n)},t.prototype.sqrTo=function(t,e){t.squareTo(e)},t}(),J=function(){function t(t){this.m=t}return t.prototype.convert=function(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t},t.prototype.revert=function(t){return t},t.prototype.reduce=function(t){t.divRemTo(this.m,null,t)},t.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},t.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},t}(),$=function(){function t(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}return t.prototype.convert=function(t){var e=p();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(z.ZERO)>0&&this.m.subTo(e,e),e},t.prototype.revert=function(t){var e=p();return t.copyTo(e),this.reduce(e),e},t.prototype.reduce=function(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var n=32767&t[e],r=n*this.mpl+((n*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(n=e+this.m.t,t[n]+=this.m.am(0,r,t,e,0,this.m.t);t[n]>=t.DV;)t[n]-=t.DV,t[++n]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)},t.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},t.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},t}(),Q=function(){function t(t){this.m=t,this.r2=p(),this.q3=p(),z.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t)}return t.prototype.convert=function(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=p();return t.copyTo(e),this.reduce(e),e},t.prototype.revert=function(t){return t},t.prototype.reduce=function(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)},t.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},t.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},t}();q&&"Microsoft Internet Explorer"==navigator.appName?(z.prototype.am=g,I=30):q&&"Netscape"!=navigator.appName?(z.prototype.am=f,I=26):(z.prototype.am=k,I=28),z.prototype.DB=I,z.prototype.DM=(1<<I)-1,z.prototype.DV=1<<I;var X=52;z.prototype.FV=Math.pow(2,X),z.prototype.F1=X-I,z.prototype.F2=2*I-X;var tt,et,nt=[];for(tt="0".charCodeAt(0),et=0;et<=9;++et)nt[tt++]=et;for(tt="a".charCodeAt(0),et=10;et<36;++et)nt[tt++]=et;for(tt="A".charCodeAt(0),et=10;et<36;++et)nt[tt++]=et;z.ZERO=m(0),z.ONE=m(1);var rt,it,st=function(){function t(){this.i=0,this.j=0,this.S=[]}return t.prototype.init=function(t){var e,n,r;for(e=0;e<256;++e)this.S[e]=e;for(n=0,e=0;e<256;++e)n=n+this.S[e]+t[e%t.length]&255,r=this.S[e],this.S[e]=this.S[n],this.S[n]=r;this.i=0,this.j=0},t.prototype.next=function(){var t;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,t=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=t,this.S[t+this.S[this.i]&255]},t}(),ot=256,at=null;if(null==at){at=[],it=0;var ut=void 0;if(window.crypto&&window.crypto.getRandomValues){var lt=new Uint32Array(256);for(window.crypto.getRandomValues(lt),ut=0;ut<lt.length;++ut)at[it++]=255&lt[ut]}var ct=function(t){if(this.count=this.count||0,this.count>=256||it>=ot)return void(window.removeEventListener?window.removeEventListener("mousemove",ct,!1):window.detachEvent&&window.detachEvent("onmousemove",ct));try{var e=t.x+t.y;at[it++]=255&e,this.count+=1}catch(n){}};window.addEventListener?window.addEventListener("mousemove",ct,!1):window.attachEvent&&window.attachEvent("onmousemove",ct)}var dt=function(){function t(){}return t.prototype.nextBytes=function(t){for(var e=0;e<t.length;++e)t[e]=v()},t}(),pt=function(){function t(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}return t.prototype.doPublic=function(t){return t.modPowInt(this.e,this.n)},t.prototype.doPrivate=function(t){if(null==this.p||null==this.q)return t.modPow(this.d,this.n);for(var e=t.mod(this.p).modPow(this.dmp1,this.p),n=t.mod(this.q).modPow(this.dmq1,this.q);e.compareTo(n)<0;)e=e.add(this.p);return e.subtract(n).multiply(this.coeff).mod(this.p).multiply(this.q).add(n)},t.prototype.setPublic=function(t,e){null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=h(t,16),this.e=parseInt(e,16)):console.error("Invalid RSA public key")},t.prototype.encrypt=function(t){var e=_(t,this.n.bitLength()+7>>3);if(null==e)return null;var n=this.doPublic(e);if(null==n)return null;var r=n.toString(16);return 0==(1&r.length)?r:"0"+r},t.prototype.setPrivate=function(t,e,n){null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=h(t,16),this.e=parseInt(e,16),this.d=h(n,16)):console.error("Invalid RSA private key")},t.prototype.setPrivateEx=function(t,e,n,r,i,s,o,a){null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=h(t,16),this.e=parseInt(e,16),this.d=h(n,16),this.p=h(r,16),this.q=h(i,16),this.dmp1=h(s,16),this.dmq1=h(o,16),this.coeff=h(a,16)):console.error("Invalid RSA private key")},t.prototype.generate=function(t,e){var n=new dt,r=t>>1;this.e=parseInt(e,16);for(var i=new z(e,16);;){for(;this.p=new z(t-r,1,n),0!=this.p.subtract(z.ONE).gcd(i).compareTo(z.ONE)||!this.p.isProbablePrime(10););for(;this.q=new z(r,1,n),0!=this.q.subtract(z.ONE).gcd(i).compareTo(z.ONE)||!this.q.isProbablePrime(10););if(this.p.compareTo(this.q)<=0){var s=this.p;this.p=this.q,this.q=s}var o=this.p.subtract(z.ONE),a=this.q.subtract(z.ONE),u=o.multiply(a);if(0==u.gcd(i).compareTo(z.ONE)){this.n=this.p.multiply(this.q),this.d=i.modInverse(u),this.dmp1=this.d.mod(o),this.dmq1=this.d.mod(a),this.coeff=this.q.modInverse(this.p);break}}},t.prototype.decrypt=function(t){var e=h(t,16),n=this.doPrivate(e);return null==n?null:T(n,this.n.bitLength()+7>>3)},t.prototype.generateAsync=function(t,e,n){var r=new dt,i=t>>1;this.e=parseInt(e,16);var s=new z(e,16),o=this,a=function(){var e=function(){if(o.p.compareTo(o.q)<=0){var t=o.p;o.p=o.q,o.q=t}var e=o.p.subtract(z.ONE),r=o.q.subtract(z.ONE),i=e.multiply(r);0==i.gcd(s).compareTo(z.ONE)?(o.n=o.p.multiply(o.q),o.d=s.modInverse(i),o.dmp1=o.d.mod(e),o.dmq1=o.d.mod(r),o.coeff=o.q.modInverse(o.p),setTimeout(function(){n()},0)):setTimeout(a,0)},u=function(){o.q=p(),o.q.fromNumberAsync(i,1,r,function(){o.q.subtract(z.ONE).gcda(s,function(t){0==t.compareTo(z.ONE)&&o.q.isProbablePrime(10)?setTimeout(e,0):setTimeout(u,0)})})},l=function(){o.p=p(),o.p.fromNumberAsync(t-i,1,r,function(){o.p.subtract(z.ONE).gcda(s,function(t){0==t.compareTo(z.ONE)&&o.p.isProbablePrime(10)?setTimeout(u,0):setTimeout(l,0)})})};setTimeout(l,0)};setTimeout(a,0)},t.prototype.sign=function(t,e,n){var r=E(n),i=r+e(t).toString(),s=x(i,this.n.bitLength()/4);if(null==s)return null;var o=this.doPrivate(s);if(null==o)return null;var a=o.toString(16);return 0==(1&a.length)?a:"0"+a},t.prototype.verify=function(t,e,n){var r=h(e,16),i=this.doPublic(r);if(null==i)return null;var s=i.toString(16).replace(/^1f+00/,""),o=S(s);return o==n(t).toString()},t}(),ht={md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",ripemd160:"3021300906052b2403020105000414"},ft={};ft.lang={extend:function(t,e,n){if(!e||!t)throw new Error("YAHOO.lang.extend failed, please check that all dependencies are included.");var r=function(){};if(r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t,t.superclass=e.prototype,e.prototype.constructor==Object.prototype.constructor&&(e.prototype.constructor=e),n){var i;for(i in n)t.prototype[i]=n[i];var s=function(){},o=["toString","valueOf"];try{/MSIE/.test(navigator.userAgent)&&(s=function(t,e){for(i=0;i<o.length;i+=1){var n=o[i],r=e[n];"function"==typeof r&&r!=Object.prototype[n]&&(t[n]=r)}})}catch(a){}s(t.prototype,n)}}};var gt={};"undefined"!=typeof gt.asn1&&gt.asn1||(gt.asn1={}),gt.asn1.ASN1Util=new function(){this.integerToByteHex=function(t){var e=t.toString(16);return e.length%2==1&&(e="0"+e),e},this.bigIntToMinTwosComplementsHex=function(t){var e=t.toString(16);if("-"!=e.substr(0,1))e.length%2==1?e="0"+e:e.match(/^[0-7]/)||(e="00"+e);else{var n=e.substr(1),r=n.length;r%2==1?r+=1:e.match(/^[0-7]/)||(r+=2);for(var i="",s=0;s<r;s++)i+="f";var o=new z(i,16),a=o.xor(t).add(z.ONE);e=a.toString(16).replace(/^-/,"")}return e},this.getPEMStringFromHex=function(t,e){return hextopem(t,e)},this.newObject=function(t){var e=gt,n=e.asn1,r=n.DERBoolean,i=n.DERInteger,s=n.DERBitString,o=n.DEROctetString,a=n.DERNull,u=n.DERObjectIdentifier,l=n.DEREnumerated,c=n.DERUTF8String,d=n.DERNumericString,p=n.DERPrintableString,h=n.DERTeletexString,f=n.DERIA5String,g=n.DERUTCTime,k=n.DERGeneralizedTime,b=n.DERSequence,m=n.DERSet,y=n.DERTaggedObject,w=n.ASN1Util.newObject,v=Object.keys(t);if(1!=v.length)throw"key of param shall be only one.";var x=v[0];if(":bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:seq:set:tag:".indexOf(":"+x+":")==-1)throw"undefined key: "+x;if("bool"==x)return new r(t[x]);if("int"==x)return new i(t[x]);if("bitstr"==x)return new s(t[x]);if("octstr"==x)return new o(t[x]);if("null"==x)return new a(t[x]);if("oid"==x)return new u(t[x]);if("enum"==x)return new l(t[x]);if("utf8str"==x)return new c(t[x]);if("numstr"==x)return new d(t[x]);if("prnstr"==x)return new p(t[x]);if("telstr"==x)return new h(t[x]);if("ia5str"==x)return new f(t[x]);if("utctime"==x)return new g(t[x]);if("gentime"==x)return new k(t[x]);if("seq"==x){for(var _=t[x],T=[],E=0;E<_.length;E++){var S=w(_[E]);T.push(S)}return new b({array:T})}if("set"==x){for(var _=t[x],T=[],E=0;E<_.length;E++){var S=w(_[E]);T.push(S)}return new m({array:T})}if("tag"==x){var R=t[x];if("[object Array]"===Object.prototype.toString.call(R)&&3==R.length){var C=w(R[2]);return new y({tag:R[0],explicit:R[1],obj:C})}var I={};if(void 0!==R.explicit&&(I.explicit=R.explicit),void 0!==R.tag&&(I.tag=R.tag),void 0===R.obj)throw"obj shall be specified for 'tag'.";return I.obj=w(R.obj),new y(I)}},this.jsonToASN1HEX=function(t){var e=this.newObject(t);return e.getEncodedHex()}},gt.asn1.ASN1Util.oidHexToInt=function(t){for(var e="",n=parseInt(t.substr(0,2),16),r=Math.floor(n/40),i=n%40,e=r+"."+i,s="",o=2;o<t.length;o+=2){var a=parseInt(t.substr(o,2),16),u=("00000000"+a.toString(2)).slice(-8);if(s+=u.substr(1,7),"0"==u.substr(0,1)){var l=new z(s,2);e=e+"."+l.toString(10),s=""}}return e},gt.asn1.ASN1Util.oidIntToHex=function(t){var e=function(t){var e=t.toString(16);return 1==e.length&&(e="0"+e),e},n=function(t){var n="",r=new z(t,10),i=r.toString(2),s=7-i.length%7;7==s&&(s=0);for(var o="",a=0;a<s;a++)o+="0";i=o+i;for(var a=0;a<i.length-1;a+=7){var u=i.substr(a,7);a!=i.length-7&&(u="1"+u),n+=e(parseInt(u,2))}return n};if(!t.match(/^[0-9.]+$/))throw"malformed oid string: "+t;var r="",i=t.split("."),s=40*parseInt(i[0])+parseInt(i[1]);r+=e(s),i.splice(0,2);for(var o=0;o<i.length;o++)r+=n(i[o]);return r},gt.asn1.ASN1Object=function(){var t="";this.getLengthHexFromValue=function(){if("undefined"==typeof this.hV||null==this.hV)throw"this.hV is null or undefined.";if(this.hV.length%2==1)throw"value hex must be even length: n="+t.length+",v="+this.hV;var e=this.hV.length/2,n=e.toString(16);if(n.length%2==1&&(n="0"+n),e<128)return n;var r=n.length/2;if(r>15)throw"ASN.1 length too long to represent by 8x: n = "+e.toString(16);var i=128+r;return i.toString(16)+n},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""}},gt.asn1.DERAbstractString=function(t){gt.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(t){this.hTLV=null,this.isModified=!0,this.s=t,this.hV=stohex(this.s)},this.setStringHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof t&&("string"==typeof t?this.setString(t):"undefined"!=typeof t.str?this.setString(t.str):"undefined"!=typeof t.hex&&this.setStringHex(t.hex))},ft.lang.extend(gt.asn1.DERAbstractString,gt.asn1.ASN1Object),gt.asn1.DERAbstractTime=function(t){gt.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(t){utc=t.getTime()+6e4*t.getTimezoneOffset();var e=new Date(utc);return e},this.formatDate=function(t,e,n){var r=this.zeroPadding,i=this.localDateToUTC(t),s=String(i.getFullYear());"utc"==e&&(s=s.substr(2,2));var o=r(String(i.getMonth()+1),2),a=r(String(i.getDate()),2),u=r(String(i.getHours()),2),l=r(String(i.getMinutes()),2),c=r(String(i.getSeconds()),2),d=s+o+a+u+l+c;if(n===!0){var p=i.getMilliseconds();if(0!=p){var h=r(String(p),3);h=h.replace(/[0]+$/,""),d=d+"."+h}}return d+"Z"},this.zeroPadding=function(t,e){return t.length>=e?t:new Array(e-t.length+1).join("0")+t},this.getString=function(){return this.s},this.setString=function(t){this.hTLV=null,this.isModified=!0,this.s=t,this.hV=stohex(t)},this.setByDateValue=function(t,e,n,r,i,s){var o=new Date(Date.UTC(t,e-1,n,r,i,s,0));this.setByDate(o)},this.getFreshValueHex=function(){return this.hV}},ft.lang.extend(gt.asn1.DERAbstractTime,gt.asn1.ASN1Object),gt.asn1.DERAbstractStructured=function(t){gt.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array=t},this.appendASN1Object=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array.push(t)},this.asn1Array=new Array,"undefined"!=typeof t&&"undefined"!=typeof t.array&&(this.asn1Array=t.array)},ft.lang.extend(gt.asn1.DERAbstractStructured,gt.asn1.ASN1Object),gt.asn1.DERBoolean=function(){gt.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV="0101ff"},ft.lang.extend(gt.asn1.DERBoolean,gt.asn1.ASN1Object),gt.asn1.DERInteger=function(t){gt.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(t){this.hTLV=null,this.isModified=!0,this.hV=gt.asn1.ASN1Util.bigIntToMinTwosComplementsHex(t)},this.setByInteger=function(t){var e=new z(String(t),10);this.setByBigInteger(e)},this.setValueHex=function(t){this.hV=t},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof t&&("undefined"!=typeof t.bigint?this.setByBigInteger(t.bigint):"undefined"!=typeof t["int"]?this.setByInteger(t["int"]):"number"==typeof t?this.setByInteger(t):"undefined"!=typeof t.hex&&this.setValueHex(t.hex))},ft.lang.extend(gt.asn1.DERInteger,gt.asn1.ASN1Object),gt.asn1.DERBitString=function(t){if(void 0!==t&&"undefined"!=typeof t.obj){var e=gt.asn1.ASN1Util.newObject(t.obj);t.hex="00"+e.getEncodedHex()}gt.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(t){this.hTLV=null,this.isModified=!0,this.hV=t},this.setUnusedBitsAndHexValue=function(t,e){if(t<0||7<t)throw"unused bits shall be from 0 to 7: u = "+t;var n="0"+t;this.hTLV=null,this.isModified=!0,this.hV=n+e},this.setByBinaryString=function(t){t=t.replace(/0+$/,"");var e=8-t.length%8;8==e&&(e=0);for(var n=0;n<=e;n++)t+="0";for(var r="",n=0;n<t.length-1;n+=8){var i=t.substr(n,8),s=parseInt(i,2).toString(16);1==s.length&&(s="0"+s),r+=s}this.hTLV=null,this.isModified=!0,this.hV="0"+e+r},this.setByBooleanArray=function(t){for(var e="",n=0;n<t.length;n++)e+=1==t[n]?"1":"0";this.setByBinaryString(e)},this.newFalseArray=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=!1;return e},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof t&&("string"==typeof t&&t.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(t):"undefined"!=typeof t.hex?this.setHexValueIncludingUnusedBits(t.hex):"undefined"!=typeof t.bin?this.setByBinaryString(t.bin):"undefined"!=typeof t.array&&this.setByBooleanArray(t.array))},ft.lang.extend(gt.asn1.DERBitString,gt.asn1.ASN1Object),gt.asn1.DEROctetString=function(t){if(void 0!==t&&"undefined"!=typeof t.obj){var e=gt.asn1.ASN1Util.newObject(t.obj);t.hex=e.getEncodedHex()}gt.asn1.DEROctetString.superclass.constructor.call(this,t),this.hT="04"},ft.lang.extend(gt.asn1.DEROctetString,gt.asn1.DERAbstractString),gt.asn1.DERNull=function(){gt.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},ft.lang.extend(gt.asn1.DERNull,gt.asn1.ASN1Object),gt.asn1.DERObjectIdentifier=function(t){var e=function(t){var e=t.toString(16);return 1==e.length&&(e="0"+e),e},n=function(t){var n="",r=new z(t,10),i=r.toString(2),s=7-i.length%7;7==s&&(s=0);for(var o="",a=0;a<s;a++)o+="0";i=o+i;for(var a=0;a<i.length-1;a+=7){var u=i.substr(a,7);a!=i.length-7&&(u="1"+u),n+=e(parseInt(u,2))}return n};gt.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.setValueOidString=function(t){if(!t.match(/^[0-9.]+$/))throw"malformed oid string: "+t;var r="",i=t.split("."),s=40*parseInt(i[0])+parseInt(i[1]);r+=e(s),i.splice(0,2);for(var o=0;o<i.length;o++)r+=n(i[o]);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=r},this.setValueName=function(t){var e=gt.asn1.x509.OID.name2oid(t);if(""===e)throw"DERObjectIdentifier oidName undefined: "+t;this.setValueOidString(e)},this.getFreshValueHex=function(){return this.hV},void 0!==t&&("string"==typeof t?t.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(t):this.setValueName(t):void 0!==t.oid?this.setValueOidString(t.oid):void 0!==t.hex?this.setValueHex(t.hex):void 0!==t.name&&this.setValueName(t.name))},ft.lang.extend(gt.asn1.DERObjectIdentifier,gt.asn1.ASN1Object),gt.asn1.DEREnumerated=function(t){gt.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(t){this.hTLV=null,this.isModified=!0,this.hV=gt.asn1.ASN1Util.bigIntToMinTwosComplementsHex(t)},this.setByInteger=function(t){var e=new z(String(t),10);this.setByBigInteger(e)},this.setValueHex=function(t){this.hV=t},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof t&&("undefined"!=typeof t["int"]?this.setByInteger(t["int"]):"number"==typeof t?this.setByInteger(t):"undefined"!=typeof t.hex&&this.setValueHex(t.hex))},ft.lang.extend(gt.asn1.DEREnumerated,gt.asn1.ASN1Object),gt.asn1.DERUTF8String=function(t){gt.asn1.DERUTF8String.superclass.constructor.call(this,t),this.hT="0c"},ft.lang.extend(gt.asn1.DERUTF8String,gt.asn1.DERAbstractString),gt.asn1.DERNumericString=function(t){gt.asn1.DERNumericString.superclass.constructor.call(this,t),this.hT="12"},ft.lang.extend(gt.asn1.DERNumericString,gt.asn1.DERAbstractString),gt.asn1.DERPrintableString=function(t){gt.asn1.DERPrintableString.superclass.constructor.call(this,t),this.hT="13"},ft.lang.extend(gt.asn1.DERPrintableString,gt.asn1.DERAbstractString),gt.asn1.DERTeletexString=function(t){gt.asn1.DERTeletexString.superclass.constructor.call(this,t),this.hT="14"},ft.lang.extend(gt.asn1.DERTeletexString,gt.asn1.DERAbstractString),gt.asn1.DERIA5String=function(t){gt.asn1.DERIA5String.superclass.constructor.call(this,t),this.hT="16"},ft.lang.extend(gt.asn1.DERIA5String,gt.asn1.DERAbstractString),gt.asn1.DERUTCTime=function(t){gt.asn1.DERUTCTime.superclass.constructor.call(this,t),this.hT="17",this.setByDate=function(t){this.hTLV=null,this.isModified=!0,this.date=t,this.s=this.formatDate(this.date,"utc"),this.hV=stohex(this.s)},this.getFreshValueHex=function(){return"undefined"==typeof this.date&&"undefined"==typeof this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=stohex(this.s)),this.hV},void 0!==t&&(void 0!==t.str?this.setString(t.str):"string"==typeof t&&t.match(/^[0-9]{12}Z$/)?this.setString(t):void 0!==t.hex?this.setStringHex(t.hex):void 0!==t.date&&this.setByDate(t.date))},ft.lang.extend(gt.asn1.DERUTCTime,gt.asn1.DERAbstractTime),gt.asn1.DERGeneralizedTime=function(t){gt.asn1.DERGeneralizedTime.superclass.constructor.call(this,t),this.hT="18",this.withMillis=!1,this.setByDate=function(t){this.hTLV=null,this.isModified=!0,this.date=t,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=stohex(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=stohex(this.s)),this.hV},void 0!==t&&(void 0!==t.str?this.setString(t.str):"string"==typeof t&&t.match(/^[0-9]{14}Z$/)?this.setString(t):void 0!==t.hex?this.setStringHex(t.hex):void 0!==t.date&&this.setByDate(t.date),t.millis===!0&&(this.withMillis=!0))},ft.lang.extend(gt.asn1.DERGeneralizedTime,gt.asn1.DERAbstractTime),gt.asn1.DERSequence=function(t){gt.asn1.DERSequence.superclass.constructor.call(this,t),this.hT="30",this.getFreshValueHex=function(){for(var t="",e=0;e<this.asn1Array.length;e++){var n=this.asn1Array[e];t+=n.getEncodedHex()}return this.hV=t,this.hV}},ft.lang.extend(gt.asn1.DERSequence,gt.asn1.DERAbstractStructured),gt.asn1.DERSet=function(t){gt.asn1.DERSet.superclass.constructor.call(this,t),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var t=new Array,e=0;e<this.asn1Array.length;e++){var n=this.asn1Array[e];t.push(n.getEncodedHex())}return 1==this.sortFlag&&t.sort(),this.hV=t.join(""),this.hV},"undefined"!=typeof t&&"undefined"!=typeof t.sortflag&&0==t.sortflag&&(this.sortFlag=!1)},ft.lang.extend(gt.asn1.DERSet,gt.asn1.DERAbstractStructured),gt.asn1.DERTaggedObject=function(t){gt.asn1.DERTaggedObject.superclass.constructor.call(this),this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(t,e,n){this.hT=e,this.isExplicit=t,this.asn1Object=n,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=n.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,e),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof t&&("undefined"!=typeof t.tag&&(this.hT=t.tag),"undefined"!=typeof t.explicit&&(this.isExplicit=t.explicit),"undefined"!=typeof t.obj&&(this.asn1Object=t.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},ft.lang.extend(gt.asn1.DERTaggedObject,gt.asn1.ASN1Object);var kt=function(t){function e(n){var r=t.call(this)||this;return n&&("string"==typeof n?r.parseKey(n):(e.hasPrivateKeyProperty(n)||e.hasPublicKeyProperty(n))&&r.parsePropertiesFrom(n)),r}return c(e,t),e.prototype.parseKey=function(t){try{var e=0,n=0,r=/^\s*(?:[0-9A-Fa-f][0-9A-Fa-f]\s*)+$/,i=r.test(t)?A.decode(t):O.unarmor(t),s=H.decode(i);if(3===s.sub.length&&(s=s.sub[2].sub[0]),9===s.sub.length){e=s.sub[1].getHexStringValue(),this.n=h(e,16),n=s.sub[2].getHexStringValue(),this.e=parseInt(n,16);var o=s.sub[3].getHexStringValue();this.d=h(o,16);var a=s.sub[4].getHexStringValue();this.p=h(a,16);var u=s.sub[5].getHexStringValue();this.q=h(u,16);var l=s.sub[6].getHexStringValue();this.dmp1=h(l,16);var c=s.sub[7].getHexStringValue();this.dmq1=h(c,16);var d=s.sub[8].getHexStringValue();this.coeff=h(d,16)}else{if(2!==s.sub.length)return!1;var p=s.sub[1],f=p.sub[0];e=f.sub[0].getHexStringValue(),this.n=h(e,16),n=f.sub[1].getHexStringValue(),this.e=parseInt(n,16)}return!0}catch(g){return!1}},e.prototype.getPrivateBaseKey=function(){var t={array:[new gt.asn1.DERInteger({"int":0}),new gt.asn1.DERInteger({bigint:this.n}),new gt.asn1.DERInteger({"int":this.e}),new gt.asn1.DERInteger({bigint:this.d}),new gt.asn1.DERInteger({bigint:this.p}),new gt.asn1.DERInteger({bigint:this.q}),new gt.asn1.DERInteger({bigint:this.dmp1}),new gt.asn1.DERInteger({bigint:this.dmq1}),new gt.asn1.DERInteger({bigint:this.coeff})]},e=new gt.asn1.DERSequence(t);return e.getEncodedHex()},e.prototype.getPrivateBaseKeyB64=function(){return u(this.getPrivateBaseKey())},e.prototype.getPublicBaseKey=function(){var t=new gt.asn1.DERSequence({array:[new gt.asn1.DERObjectIdentifier({oid:"1.2.840.113549.1.1.1"}),new gt.asn1.DERNull]}),e=new gt.asn1.DERSequence({array:[new gt.asn1.DERInteger({bigint:this.n}),new gt.asn1.DERInteger({"int":this.e})]}),n=new gt.asn1.DERBitString({hex:"00"+e.getEncodedHex()}),r=new gt.asn1.DERSequence({array:[t,n]});return r.getEncodedHex()},e.prototype.getPublicBaseKeyB64=function(){return u(this.getPublicBaseKey())},e.wordwrap=function(t,e){if(e=e||64,!t)return t;var n="(.{1,"+e+"})( +|$\n?)|(.{1,"+e+"})";return t.match(RegExp(n,"g")).join("\n")},e.prototype.getPrivateKey=function(){var t="-----BEGIN RSA PRIVATE KEY-----\n";return t+=e.wordwrap(this.getPrivateBaseKeyB64())+"\n",t+="-----END RSA PRIVATE KEY-----"},e.prototype.getPublicKey=function(){var t="-----BEGIN PUBLIC KEY-----\n";return t+=e.wordwrap(this.getPublicBaseKeyB64())+"\n",t+="-----END PUBLIC KEY-----"},e.hasPublicKeyProperty=function(t){return t=t||{},t.hasOwnProperty("n")&&t.hasOwnProperty("e")},e.hasPrivateKeyProperty=function(t){return t=t||{},t.hasOwnProperty("n")&&t.hasOwnProperty("e")&&t.hasOwnProperty("d")&&t.hasOwnProperty("p")&&t.hasOwnProperty("q")&&t.hasOwnProperty("dmp1")&&t.hasOwnProperty("dmq1")&&t.hasOwnProperty("coeff")},e.prototype.parsePropertiesFrom=function(t){this.n=t.n,this.e=t.e,t.hasOwnProperty("d")&&(this.d=t.d,this.p=t.p,this.q=t.q,this.dmp1=t.dmp1,this.dmq1=t.dmq1,this.coeff=t.coeff)},e}(pt),bt=function(){function t(t){t=t||{},this.default_key_size=parseInt(t.default_key_size,10)||1024,this.default_public_exponent=t.default_public_exponent||"010001",this.log=t.log||!1,this.key=null}return t.prototype.setKey=function(t){this.log&&this.key&&console.warn("A key was already set, overriding existing."),this.key=new kt(t)},t.prototype.setPrivateKey=function(t){this.setKey(t)},t.prototype.setPublicKey=function(t){this.setKey(t)},t.prototype.decrypt=function(t){try{return this.getKey().decrypt(l(t))}catch(e){return!1}},t.prototype.encrypt=function(t){try{return u(this.getKey().encrypt(t))}catch(e){return!1}},t.prototype.sign=function(t,e,n){try{return u(this.getKey().sign(t,e,n))}catch(r){return!1}},t.prototype.verify=function(t,e,n){try{return this.getKey().verify(t,l(e),n)}catch(r){return!1}},t.prototype.getKey=function(t){if(!this.key){if(this.key=new kt,t&&"[object Function]"==={}.toString.call(t))return void this.key.generateAsync(this.default_key_size,this.default_public_exponent,t);this.key.generate(this.default_key_size,this.default_public_exponent)}return this.key},t.prototype.getPrivateKey=function(){return this.getKey().getPrivateKey()},t.prototype.getPrivateKeyB64=function(){return this.getKey().getPrivateBaseKeyB64()},t.prototype.getPublicKey=function(){return this.getKey().getPublicKey()},t.prototype.getPublicKeyB64=function(){return this.getKey().getPublicBaseKeyB64()},t.version="3.0.0-rc.1",t}();window.JSEncrypt=bt,t.JSEncrypt=bt,t["default"]=bt,Object.defineProperty(t,"__esModule",{value:!0})}),function(){var t,e;e={each:function(t,e){var n,r,i,s;for(null==t&&(t=[]),s=[],r=0,i=t.length;r<i;r++)n=t[r],s.push(e(n));return s},filter:function(t,e){var n,r,i,s,o;for(null==t&&(t=[]),o=[],s=[],r=0,i=t.length;r<i;r++)n=t[r],e(n)?s.push(o.push(n)):s.push(void 0);return s},unique:function(t,e){var n,r,i,s,o,a;for(null==t&&(t=[]),s={},a=[],r=0,i=t.length;r<i;r++)n=t[r],o=e?e(n):n,s[o]||(a.push(o),s[o]=!0);return a},keys:function(t){var e,n,r;n=[];for(e in t)r=t[e],n.push(e);return n}},t=function(){function t(t){null==t&&(t={}),this.data={wordMaxLen:t.wordMaxLen||20,
wordMinLen:t.wordMinLen||2,likeSymbol:t.likeSymbol||"%"},this._init()}return t.prototype._init=function(){return this.wordMap={},this.wordLikeMap={},this.wordLikeTree={}},t.prototype._loadWordLib=function(t){return"string"==typeof t?this._loadLibFromFile(t):t instanceof Array?this._loadLibFromArray(t):void 0},t.prototype._loadLibFromFile=function(t){var e;try{return e=require("fs").readFileSync(t).toString("utf-8").split("\n"),this._loadLibFromArray(e)}catch(n){}},t.prototype._loadLibFromArray=function(t){var n,r,i,s,o,a;for(null==t&&(t=[]),s=this.data.likeSymbol,o=[],n=0,i=t.length;n<i;n++)a=t[n],a=a.replace(/\s/,""),r=a.length,r<this.data.wordMinLen||r>this.data.wordMaxLen||(a.indexOf(s)!==-1?o.push(function(t){return function(){var n,r,i;for(r=t.wordLikeTree,i=a.split(s),i=e.unique(i).sort(),n=[];i.length>0;)a=i.shift(),t.wordLikeMap[a]=!0,r[a]||(r[a]={branch:{}}),0===i.length&&(r[a].isLeaf=!0),n.push(r=r[a].branch);return n}}(this)()):this.wordMap[a]=!0);return o},t.prototype._doPicker=function(t){var n,r,i,s,o,a,u,l,c,d,p,h,f,g,k,b,m,y;for(null==t&&(t=""),k=t.length,g={},f={},y=this.data.wordMaxLen-k>0?k:this.data.wordMaxLen,n=i=l=this.data.wordMinLen,c=y;l<=c?i<=c:i>=c;n=l<=c?++i:--i)for(r=o=0,d=k-n;0<=d?o<=d:o>=d;r=0<=d?++o:--o)b=t.substr(r,n),b&&this.wordMap[b]&&(g[b]=!0);for(n=a=1,p=y;1<=p?a<=p:a>=p;n=1<=p?++a:--a)for(r=u=0,h=k-n;0<=h?u<=h:u>=h;r=0<=h?++u:--u)b=t.substr(r,n),b&&this.wordLikeMap[b]&&(f[b]=!0);return s=e.keys(f).sort(),m=this._findExistsPath(s),e.unique(e.keys(g).concat(m))},t.prototype._findExistsPath=function(t,n,r){var i,s,o,a,u,l,c;for(null==n&&(n=this.wordLikeTree),null==r&&(r=""),c=[],s=!r,l=this.data.likeSymbol,i=function(i){return function(){var o,u;if(o=s?a:r+l+a,n[a]&&(n[a].isLeaf&&c.push(o),u=n[a].branch,e.keys(u).length>0))return c=c.concat(i._findExistsPath(t,u,o))}}(this),o=0,u=t.length;o<u;o++)a=t[o],i();return c},t.prototype.doPicker=function(t){return this._doPicker(t)},t.prototype.addLib=function(t){return this._loadWordLib(t)},t.prototype.addlib=function(t){return this.addLib(t)},t.prototype.reloadLib=function(t){return this._init(),this.addLib(t)},t}(),window.Picker=t}.call(this),function(){var SDK,csArr,i,len,m,noop,orgError,slice=[].slice;if(window){if(noop=function(){},window._alert=window.alert,window.alert=window.confirm=noop,orgError=window.onerror,window.onerror=function(t,e,n,r,i){"function"==typeof orgError&&orgError(t,e,n,r,i);try{sdk.noop(),sdk.util.justSend("http://pcfg.wps.cn:9002/report/window_error/"+sdk.util.getUrlParam("bubble_id")+"/"+t)}catch(s){}try{0!==krwebview.currentId()&&krwebview.close()}catch(o){try{0!==external.webview_currentId()&&external.webview_close()}catch(a){}}return!0},window.loadImg=function(t,e){var n;return null==e&&(e=noop),t.length>2e3&&(t=t.slice(0,1999)),n=new Image,n.onload=n.onerror=function(t){if(n.onload=n.onerror=null,e)return e(n)},n.src=t},"undefined"==typeof console)for(window.console={},csArr=["log","info","debug","warn","error"],i=0,len=csArr.length;i<len;i++)m=csArr[i],window.console[m]=function(){};if(!document||9!==document.nodeType)throw new Error("document error")}SDK=function(){function SDK(){this.initTime=new Date,this.version="20200610_1921";try{this.platform=window.krwebview?"ruby":external.wps_app()?"c++":"browser"}catch(t){this.platform="browser"}this.env="production",this.mode=function(){var t;return t=window.location.href,/bubble_svr\.html/.test(t)?"svr":/bubble_view\.html/.test(t)?"view":/bubble\.html/.test(t)?"bind":"other"}(),this.client={},this.system={},this.util={},this.tools={},this["class"]={},this.service={},this.bubble={},this.feature={},Math.random()<.001&&window.loadImg("http://pcfg.wps.cn:9002/report/sdk/version/"+this.version)}return SDK.prototype.exec=function(){var args,argsEnum,command,err,error1,jsStr,ret;command=arguments[0],args=2<=arguments.length?slice.call(arguments,1):[],ret=null;try{"ruby"===this.platform?ret=eval(command).apply(this,args):(command=command.replace(/^kr/,"").replace(/\./g,"_"),argsEnum=sdk.util.serialize(args).replace(/^\[/,"").replace(/\]$/,""),jsStr="window.external."+command+"("+argsEnum+")",ret=eval(jsStr))}catch(error1){err=error1}return ret},SDK.prototype.exec2=function(){var args,argsEnum,command,err,error1,jsStr,ret;command=arguments[0],args=2<=arguments.length?slice.call(arguments,1):[],ret=null;try{"ruby"===this.platform?ret=eval(command).apply(this,args):(command=command.replace(/^kr/,"").replace(/\./g,"_"),argsEnum=sdk.util.serialize(args).replace(/^\[/,"").replace(/\]$/,""),jsStr="window.external."+command+"("+argsEnum+")",ret=eval(jsStr))}catch(error1){err=error1,ret=new Error("not support")}return ret},SDK.prototype.existsApi=function(command){var err,error1;if(null==command&&(command=""),"ruby"!==this.platform){command=command.replace(/^kr/,"").replace(/\./g,"_");try{if(window.external[command])return!0}catch(error1){err=error1,sdk.noop()}return!1}try{if(eval(command)instanceof Function)return!0}catch(undefined){}return!1},SDK.prototype.noop=noop,SDK.prototype.addCacheToFn=function(){var t,e,n;return t={},e={},n=0,function(r,i,s){return null==i&&(i=n++),null==s&&(s=1),t[i]=null,e[i]=!1,function(){return e[i]||(t[i]=r(),e[i]=!0,setTimeout(function(){return e[i]=!1},s)),t[i]}}}(),SDK}(),this.sdk=new SDK}.call(this),function(){var t,e,n,r,i=[].slice;n="once",e="memory",r="unique",t=function(){function t(t){this._registry=[],this._firedList=[],"string"==typeof t?this.flags=t.split(/\s+/):t instanceof Array?this.flags=t:this.flags=[r]}return t.prototype.hasFlag=function(t){return this.flags.indexOf(t)>-1},t.prototype.containsFunc=function(t){var e,n,r,i;for(i=this._registry,n=0,r=i.length;n<r;n++)if(e=i[n],e===t)return!0;return!1},t.prototype.add=function(t){var n,i,s,o,a,u,l,c;if(this.hasFlag(r)&&this.containsFunc(t))return this;if(this._registry.push(t),this.hasFlag(e))for(c=this._firedList,u=0,l=c.length;u<l;u++){s=c[u],o=s.args,a=s.context;try{t.apply(a,o)}catch(i){n=i}}return this},t.prototype.remove=function(t){var e,n,r,i,s;if(t)for(s=this._registry,n=r=0,i=s.length;r<i;n=++r)e=s[n],e===t&&(this._registry[n]=null);else this._registry=[];return this},t.prototype.fire=function(){var t;return t=1<=arguments.length?i.call(arguments,0):[],t.unshift(this),this.fireWith.apply(this,t)},t.prototype.fireWith=function(){var t,r,s,o,a,u,l,c;if(s=arguments[0],t=2<=arguments.length?i.call(arguments,1):[],this.hasFlag(n)&&this._firedList.length>0)return this;for(c=this._registry,u=0,l=c.length;u<l;u++)if(r=c[u],null!==r)try{r.apply(s,t)}catch(a){o=a}return this.hasFlag(e)&&this._firedList.push({args:t,context:s}),this},t}(),sdk.callbacks=function(e){return new t(e)}}.call(this),function(){var t,e,n=[].slice;e=function(){function e(t){this.deferred=t}return e.prototype.done=function(t){return this.deferred.resolveCallbacks.add(t),this},e.prototype.fail=function(t){return this.deferred.rejectCallbacks.add(t),this},e.prototype.always=function(t){return this.done(t).fail(t)},e.prototype.then=function(e){var r,i;return i=new t,r=function(){var t;return t=1<=arguments.length?n.call(arguments,0):[],t.unshift(i),e.apply(this,t)},this.always(r),i.promise()},e}(),t=function(){function t(){this._promise=new e(this),this.resolveCallbacks=sdk.callbacks("once memory"),this.rejectCallbacks=sdk.callbacks("once memory")}return t.prototype.promise=function(){return this._promise},t.prototype.resolve=function(){var t;return t=1<=arguments.length?n.call(arguments,0):[],t.unshift(this),this.resolveWith.apply(this,t)},t.prototype.reject=function(){var t;return t=1<=arguments.length?n.call(arguments,0):[],t.unshift(this),this.rejectWith.apply(this,t)},t.prototype.resolveWith=function(){var t;return t=1<=arguments.length?n.call(arguments,0):[],this.resolveCallbacks.fireWith.apply(this.resolveCallbacks,t)},t.prototype.rejectWith=function(){var t;return t=1<=arguments.length?n.call(arguments,0):[],this.rejectCallbacks.fireWith.apply(this.rejectCallbacks,t)},t}(),sdk.promise=function(e){var n;return n=new t,e.apply(this,[n]),n.promise()},sdk.deferred=function(e){return e?sdk.promise(e):new t}}.call(this),function(){var t;t=function(){function t(t){var e;this.id="service_promise_"+Math.random(),e='window["'+this.id+'"] = sdk.deferred('+t.toString()+")",sdk.client.webview.execute(0,e)}return t.prototype.done=function(t){return sdk.noop(),sdk.client.webview.execute(0,this.function2string(t,"done")),this},t.prototype.fail=function(t){return sdk.client.webview.execute(0,this.function2string(t,"fail")),this},t.prototype.always=function(t){return sdk.client.webview.execute(0,this.function2string(t,"always")),this},t.prototype.then=function(t){return sdk.client.webview.execute(0,this.function2string(t,"then")),this},t.prototype.function2string=function(t,e){return"(function(){\n  var fn = function(){\n    return ("+t.toString()+').apply(this, Array.prototype.slice.apply(arguments))\n  };\n  window["'+this.id.toString()+'"] = window["'+this.id.toString()+'"].'+e+"(fn)\n})()"},t}(),sdk.servicePromise=function(e){var n,r;try{return new t(e)}catch(r){return n=r,sdk.noop()}}}.call(this),function(){var t=[].slice;sdk.when=function(e){var n,r,i,s,o,a,u;for(e instanceof Array||(e=Array.prototype.slice.call(arguments)),r=sdk.deferred(),o=0,i=e.length,n=[],a=0,u=e.length;a<u;a++)s=e[a],s.promise().done(function(){var e;if(e=1<=arguments.length?t.call(arguments,0):[],o++,n.push(e),o===i)return r.resolve.apply(r,n)}).fail(function(){var e;return e=1<=arguments.length?t.call(arguments,0):[],r.reject.apply(r,e)});return r.promise()}}.call(this),function(){var t;t=function(){function t(){this.interval=t.shortInterval,this.infos=[]}return t.shortInterval=3e5,t.longInterval=54e4,t.checkInterval=6e5,t.hdidSatisfy=function(){var t,e;return e=sdk.client.info.getHdid(),t="string"==typeof e&&e.length>0?parseInt(e.slice(-6),16):NaN,!isNaN(t)&&t%100===1},t.prototype.init=function(t){return this.callback=t,this._updateInfo()},t.prototype.clearInfo=function(){return this.infos=[]},t.prototype._updateInfo=function(){var e,n,r,i,s,o,a;for(e=sdk.system.listProcessesEx(),a={},n=0,r=e.length;n<r;n++)i=e[n],"1"===i.isActive&&(a=i);return s=sdk.system.listProcesses(),sdk.util.iniCache.set("topProcessBefore",a.name?encodeURIComponent(a.name):""),sdk.util.iniCache.set("topTitleBefore",a.text?encodeURIComponent(a.text):""),sdk.util.iniCache.set("processNumBefore",s.length),sdk.util.iniCache.set("frontWinNumBefore",e.length),o={topProcess:a.name?encodeURIComponent(a.name):"",topTitle:a.text?encodeURIComponent(a.text):"",processNum:s.length,frontWinNum:e.length},this.infos.unshift(o),this.infos=this.infos.slice(0,5),this._isSceneChange(function(e){return function(n){if(e.interval=n?t.longInterval:t.shortInterval,setTimeout(function(){return e._updateInfo()},e.interval),n)return e.callback()}}(this))},t.prototype._isSceneChange=function(t){var e;return sdk.noop(),e=!1,this._isTopProcessChange()?e=!0:this._isProcessNumChange()?e=!0:this._isFrontWindowNumChange()&&(e=!0),t(e)},t.prototype._isTopProcessChange=function(){return this.infos.length>=2&&this.infos[0].topProcess!==this.infos[1].topProcess},t.prototype._isProcessNumChange=function(){return this.infos.length>=2&&Math.abs(this.infos[0].processNum-this.infos[1].processNum)>3},t.prototype._isFrontWindowNumChange=function(){return this.infos.length>=2&&Math.abs(this.infos[0].frontWinNum-this.infos[1].frontWinNum)>3},t.prototype._getInterest=function(t){var e,n,r,i,s;for(s=constant.PROCESS_EFFECT,e=[],n=0,r=t.length;n<r;n++)i=t[n],s[i]&&e.push(s[i]);return e.join(",")},t}(),sdk["class"].InformationPoll=t}.call(this),function(){var t,e=[].slice;t=function(){function t(){this.cbMap={}}return t.prototype.on=function(t,e){var n,r,i,s;if(null==t&&(t=""),null==e&&(e=sdk.noop),!(t instanceof Array))return this._on(t,e);for(s=[],n=0,r=t.length;n<r;n++)i=t[n],s.push(this._on(i,e));return s},t.prototype._on=function(t,e){var n,r;return null==e&&(e=sdk.noop),r="obs_"+sdk.util.getRandomNum(),n={token:r,callback:e},this.cbMap[t]instanceof Array?this.cbMap[t].push(n):this.cbMap[t]=[n],r},t.prototype.fire=function(){var t,n,r,i,s,o,a,u,l;if(a=arguments[0],t=2<=arguments.length?e.call(arguments,1):[],this.cbMap[a]instanceof Array)try{for(u=this.cbMap[a],l=[],s=0,o=u.length;s<o;s++)n=u[s],n&&n.callback instanceof Function?l.push(n.callback.apply(this,t)):l.push(void 0);return l}catch(i){r=i}},t.prototype.clean=function(t){var e,n,r,i,s,o,a;if(!t)return this.cbMap={};a=this.cbMap;for(n in a)for(e=a[n],i=s=0,o=e.length;s<o;i=++s)if(r=e[i],r.token===t)return void(this.cbMap[n][i].callback=sdk.noop)},t}(),sdk["class"].Observer=t}.call(this),function(){var SelfWebview,ns,serverTopview,slice=[].slice;ns="krwebview",serverTopview="bubble_service",SelfWebview=function(){function SelfWebview(t){var e;if(this.onLinkClicked=t,this.url=location.href.split("?")[0],this.id=sdk.client.webview.getCurrentViewId(),this.channelView="view_"+this.id,e="linkClickedCb_"+sdk.util.getRandomNum(),window[e]=function(t){return function(){var e;if(e=1<=arguments.length?slice.call(arguments,0):[],t.onLinkClicked)return t.onLinkClicked.apply(t,e)}}(this),!this.url)throw New(Error("throw error in create SelfView, url is empty"))}return SelfWebview.prototype.setZOrder=function(t){return this.emitTopviewEvent(serverTopview,"setZOrder",t)},SelfWebview.prototype.show=function(t){return this.emitTopviewEvent(serverTopview,"show",t)},SelfWebview.prototype.hide=function(){return this.emitTopviewEvent(serverTopview,"hide")},SelfWebview.prototype.resize=function(t,e){return this.width=t,this.height=e,this.emitTopviewEvent(serverTopview,"resize",this.width,this.height)},SelfWebview.prototype.move=function(t,e){return this.left=t,this.top=e,this.emitTopviewEvent(serverTopview,"move",this.left,this.top)},SelfWebview.prototype.destroy=function(){return this.emitTopviewEvent(serverTopview,"destroy")},SelfWebview.prototype.valid=function(){return sdk.client.webview.valid(this.id)},SelfWebview.prototype.isVisible=function(){return sdk.client.webview.isVisible(this.id)},SelfWebview.prototype.onTopviewEvent=function(server,handler){var ob;return ob=sdk.tools.observer,ob.on(server,function(_this){return function(argsb64){var args,err,error;try{args=eval("("+sdk.util.decodeBase64(argsb64)+")")}catch(error){err=error,sdk.noop()}return handler.apply(_this,args)}}(this)),this.emitTopviewEvent(serverTopview,"connected",server)},SelfWebview.prototype.emitTopviewEvent=function(){var t,e,n;return t=1<=arguments.length?slice.call(arguments,0):[],e=sdk.util.encodeBase64(sdk.util.serialize(t)),n='sdk.tools.observer.fire("'+this.channelView+'", "'+e+'")',sdk.client.webview.execute(0,n)},SelfWebview}(),sdk["class"].SelfWebview=SelfWebview}.call(this),function(){var ACTIVE_WIN_FOCUS,BACKET_TAB_FOCUS,Hint_Popup,Hint_SubWindow,Hint_Widget,Hint_Window,MENUBAR_FOCUS,MOUSE_FOCUS,OTHER_FOCUS,POPUP_FOCUS,SHORTCUT_FOCUS,ShowWithoutActivating,TAB_FOCUS,Webview,ns,slice=[].slice;ns="krwebview",Hint_Widget=0,Hint_Window=1,Hint_SubWindow=18,Hint_Popup=8|Hint_Window,MOUSE_FOCUS=0,TAB_FOCUS=1,BACKET_TAB_FOCUS=2,ACTIVE_WIN_FOCUS=3,POPUP_FOCUS=4,SHORTCUT_FOCUS=5,MENUBAR_FOCUS=6,OTHER_FOCUS=7,ShowWithoutActivating=98,Webview=function(){function Webview(t,e,n,r,i,s,o,a,u,l,c){var d,p,h,f;this.url=t,this.width=null!=e?e:300,this.height=null!=n?n:200,this.left=null!=r?r:0,this.top=null!=i?i:0,this.onDestroyed=s,this.onLoaded=o,this.onLinkClicked=a,null==u&&(u=[]),null==l&&(l=""),null==c&&(c=""),f="loadedCb_"+sdk.util.getRandomNum(),h="linkClickedCb_"+sdk.util.getRandomNum(),d="destroyedCb_"+sdk.util.getRandomNum(),window[d]=function(t){return function(){var e;if(e=1<=arguments.length?slice.call(arguments,0):[],window[d]=null,t.onDestroyed)return t.onDestroyed.apply(t,e)}}(this),window[h]=function(t){return function(){var e;if(e=1<=arguments.length?slice.call(arguments,0):[],t.onLinkClicked)return t.onLinkClicked.apply(t,e)}}(this),window[f]=function(t){return function(){var e;if(e=1<=arguments.length?slice.call(arguments,0):[],sdk.noop(),t.timeStart=new Date,window[f]=null,t.onLoaded)return t.onLoaded.apply(t,e)}}(this),"ruby"===sdk.platform&&krwebview&&krwebview.createWithClassNameEx&&c?(p=this.getWinFlag(c),this.id=sdk.exec(ns+".createWithClassNameEx",p,d,h,l)-0):"ruby"===sdk.platform&&krwebview&&krwebview.createWithClassName&&l?this.id=sdk.exec(ns+".createWithClassName",d,h,l)-0:this.id=sdk.exec(ns+".create",d,h)-0,this.resize(this.width-0,this.height-0),this.move(this.left,this.top),sdk.exec(ns+".setOpacity",this.id,0),/^\/\//.test(this.url)&&(this.url=window.location.protocol+this.url),sdk.exec(ns+".load",this.id,this.url,f),sdk.noop()}return Webview.prototype.setZOrder=function(t){return sdk.exec(ns+".setZOrder",this.id,t)},Webview.prototype.show=function(t){var e,n;sdk.existsApi("krwebview.setZOrder")&&(void 0!==t?this.setZOrder(parseInt(t)):sdk.system.isAnyProcessFullScreen()?this.setZOrder(0):this.setZOrder(100));try{return sdk.exec(ns+".show",this.id),sdk.exec(ns+".setOpacity",this.id,1)}catch(n){return e=n,sdk.noop()}},Webview.prototype.hide=function(){return sdk.exec(ns+".hide",this.id)},Webview.prototype.resize=function(t,e){return this.width=t,this.height=e,sdk.exec(ns+".resize",this.id,this.width-0,this.height-0)},Webview.prototype.move=function(t,e){return this.left=t,this.top=e,sdk.exec(ns+".move",this.id,this.left-0,this.top-0)},Webview.prototype.setOpacity=function(t){return sdk.exec(ns+".setOpacity",this.id,t)},Webview.prototype.moveToRightBottom=function(){var t,e,n,r,i,s,o,a;return a=this.width,t=this.height,n=sdk.system.getScreenPadding(),r=sdk.system.getScreenSize(),o=r.width-n.right-n.left,s=r.height-n.top-n.bottom,o<a&&(a=o),s<t&&(t=s),e=r.width-a-n.right-1,i=r.height-t-n.bottom,this.move(e,i)},Webview.prototype.destroy=function(){sdk.noop();try{return sdk.exec(ns+".destroy",this.id)}catch(t){}},Webview.prototype.valid=function(){return sdk.client.webview.valid(this.id)},Webview.prototype.isVisible=function(){return sdk.client.webview.isVisible(this.id)},Webview.prototype.isHealthy=function(){return!this.isHidden()},Webview.prototype.isHidden=function(){return this.isBubbleSizeVisible()?sdk.client.info.getPlgVersion()>="1.0.5.35"&&!this.isBubbleRectVisible()?constant.HIDDEN_CODE.LOCATION:this.isVisible()===!1?constant.HIDDEN_CODE.QT:sdk.client.webview.isWindowVisible(this.id)===!1&&constant.HIDDEN_CODE.WINDOWS:constant.HIDDEN_CODE.SIZE},Webview.prototype.isBubbleSizeVisible=function(){var t;return t=sdk.client.webview.getBubbleRect(this.id),sdk.noop(),sdk.noop(),!!sdk.util.isEmptyObj(t)||t.right-t.left>10&&t.bottom-t.top>10},Webview.prototype.isBubbleRectVisible=function(){var t,e,n;return!(t=sdk.system.getDpi())||(n=sdk.system.getScreenSize(),e=sdk.client.webview.getBubbleRect(this.id),!!sdk.util.isEmptyObj(e)||e.left+(this.leftMargin*t||0)>=-1&&e.right<n.width*t&&e.top+(this.topMargin*t||0)>=0&&e.bottom<n.height*t)},Webview.prototype.getAliveTime=function(){var t;return t=this.timeStart||new Date,new Date-t},Webview.prototype.setDragArea=function(t,e,n,r){return sdk.noop(),sdk.exec(ns+".setDragArea",this.id,t-0,e-0,n-0,r-0)},Webview.prototype.setDragAreaEx=function(t,e,n,r,i){var s;return sdk.noop(),s="setDragAreaExCallback_"+sdk.util.getRandomNum(),window[s]=function(){return window[s]=sdk.noop,i&&i()},sdk.exec(ns+".setDragAreaEx",this.id,t-0,e-0,n-0,r-0,s)},Webview.prototype.setFocus=function(t){var e;switch(t){case"mouse":e=MOUSE_FOCUS;break;case"tab":e=TAB_FOCUS;break;case"backet_tab":e=BACKET_TAB_FOCUS;break;case"active_win":e=ACTIVE_WIN_FOCUS;break;case"popup":e=POPUP_FOCUS;break;case"shortcut":e=SHORTCUT_FOCUS;break;case"menubar":e=MENUBAR_FOCUS;break;default:e=OTHER_FOCUS}return sdk.noop(),sdk.exec(ns+".setFocus",this.id,e)},Webview.prototype.activeWindow=function(){return sdk.exec(ns+".activeWindow",this.id)},Webview.prototype.getWinFlag=function(t){var e;switch(t){case"widget":e=Hint_Widget;break;case"win":e=Hint_Window;break;case"popup":e=Hint_Popup;break;default:e=Hint_SubWindow}return sdk.noop(),e},Webview.prototype.setAttribute=function(t,e){return null==e&&(e=!1),sdk.exec(ns+".setAttribute",this.id,t,e)},Webview.prototype.setBubbleMsgId=function(t,e){var n;return sdk.noop(),e?(n=sdk.exec2(ns+".setBubbleTitle",this.id,e+"_"+t),n instanceof Error&&"not support"===n.message&&(sdk.noop(),n=sdk.exec2(ns+".setBubbleMsgIdEx",this.id,t,e),n instanceof Error&&"not support"===n.message)?(sdk.noop(),sdk.exec(ns+".setBubbleMsgId",this.id,t)):void 0):sdk.exec(ns+".setBubbleMsgId",this.id,t)},Webview.prototype.setBubbleTitle=function(t){var e;return e=sdk.exec2(ns+".setBubbleTitle",this.id,t),e instanceof Error&&"not support"===e.message?(sdk.noop(),!1):e},Webview.prototype.enableWindowProtection=function(t,e){return sdk.noop(),this.leftMargin=t,this.topMargin=e,sdk.exec(ns+".enableWindowProtection",this.id,t,e)},Webview.prototype.enableWindowProtection2=function(t){var e,n;return sdk.noop(),n="enableWindowProtection2_showCallback_"+sdk.util.getRandomNum(),e="enableWindowProtection2_showCallback_"+sdk.util.getRandomNum(),window[n]=function(){return window[n]=sdk.noop,t&&t("show")},window[e]=function(){return window[e]=sdk.noop,t&&t("deal")},sdk.exec(ns+".enableWindowProtection2",this.id,n,e)},Webview.prototype.enableWindowProtection3=function(){return sdk.noop(),sdk.exec(ns+".enableWindowProtection3",this.id)},Webview.prototype.setVisibleChangedCallback=function(t){var e,n;return sdk.noop(),n="visibleChanged_showCallback_"+sdk.util.getRandomNum(),e="visibleChanged_hiddenCallback_"+sdk.util.getRandomNum(),window[n]=function(){return window[n]=sdk.noop,t&&t("show")},window[e]=function(){return window[e]=sdk.noop,t&&t("hidden")},sdk.exec(ns+".setVisibleChangedCallback",this.id,n,e)},Webview.prototype.setWindowShieldCallback=function(t){var e;return sdk.noop(),e="setWindowShieldCallback_"+sdk.util.getRandomNum(),window[e]=function(e){return t&&t(e)},sdk.exec(ns+".setWindowShieldCallback",this.id,e)},Webview.prototype.enableWindowProtectionNotify=function(t){var e;return sdk.noop(),e="enableWindowProtectionNotify_"+sdk.util.getRandomNum(),window[e]=function(n){return window[e]=sdk.noop,t&&t(n)},sdk.exec(ns+".enableWindowProtectionNotify",this.id,e)},Webview.prototype.enableWindowHoverProtection=function(t,e,n){var r;return null==e&&(e=5),null==n&&(n=!0),sdk.noop(),r="enableWindowHoverProtection_"+sdk.util.getRandomNum(),window[r]=function(){return window[r]=sdk.noop,t&&t()},sdk.exec(ns+".enableWindowHoverProtection",this.id,r,e,n)},Webview.prototype.enableWindowHoverProtection2=function(t,e,n,r,i){var s;return null==e&&(e=5),null==n&&(n=1),null==r&&(r=60),null==i&&(i=!0),sdk.noop(),s="enableWindowHoverProtection2_"+sdk.util.getRandomNum(),window[s]=function(){return window[s]=sdk.noop,t&&t()},sdk.exec(ns+".enableWindowHoverProtection2",this.id,s,e,n,r,i)},Webview.prototype.isBubbleActive=function(){var err,error,i,json,len,p,process,res;if(json=sdk.exec2(ns+".isBubbleActive",this.id),json instanceof Error&&"not support"===json.message)return sdk.noop(),!0;try{if(sdk.noop(),res=eval("("+json+")"),!res.center.pid)return!0;if("桌面整理"===res.center.text)return!0;for(process=sdk.system.listProcessesEx(),i=0,len=process.length;i<len;i++)if(p=process[i],p.pid-0===res.center.pid)return!!/^(wps\.exe|wpscenter\.exe|wpscloudsvr\.exe)$/.test(p.name);return!1}catch(error){return err=error,sdk.noop(),!0}},Webview.prototype.activeBubble=function(){return sdk.noop(),sdk.exec(ns+".activeBubble",this.id)},Webview.prototype.setUnableHide=function(t){return null==t&&(t=!0),sdk.exec(ns+".setUnableHide",this.id,t)},Webview}(),Webview.constant={TYPE_CLOSE_BY_CLOSE_BTN:1,TYPE_CLOSE_BY_NORMAL_CLICK_EVENT:2,TYPE_CLOSE_BY_TIMEOUT:3,TYPE_CLOSE_BY_FORCE:4,TYPE_CLOSE_BY_NOT_INTERESTED:5,TYPE_CLOSE_BY_RETRY:6,TYPE_CLOSE_BY_TRY_CLICK_HAT:7,TYPE_CLOSE_BY_AS_HIDDEN:8,TYPE_CLOSE_BY_WEBVIEW_STOP:9,TYPE_CLOSE_BY_CMD:10,TYPE_CLOSE_BY_VIP_GUIDE:11,TYPE_CLOSE_BY_RELOAD:12,TYPE_CLOSE_BY_NON_HEARTBEAT:13,TYPE_CLOSE_BY_OVERLAY_GROUP:14,TYPE_CLOSE_BY_MIDNIGHT_RELOAD:15,TYPE_CLOSE_BY_HIDDEN:16},sdk["class"].Webview=Webview}.call(this),function(){var t,e,n,r,i,s,o,a,u,l,c=function(t,e){function n(){this.constructor=t}for(var r in e)d.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},d={}.hasOwnProperty,p=[].slice;l="krwebview",i=8192,r=16384,n=32768,e=1,t=18,u=0,a=1,o=2,s=function(s){function o(s,o,a,u,c,d,h,f,g,k,b){var m,y,w,v,x;this.url=s,this.width=null!=o?o:300,this.height=null!=a?a:200,this.left=null!=u?u:0,this.top=null!=c?c:0,this.onDestroyed=null!=d?d:sdk.noop,this.onLoaded=null!=h?h:sdk.noop,this.onLinkClicked=null!=f?f:sdk.noop,null==g&&(g=[]),null==k&&(k=""),this.type=null!=b?b:1,x=new Date-0+"_"+Math.floor(1e3*Math.random()),v="loadedCb_"+x,m="clickedCb_"+x,y="destroyedCb_"+x,window[y]=function(t){return function(){var e;if(e=1<=arguments.length?p.call(arguments,0):[],window[y]=null,t.onDestroyed)return t.onDestroyed.apply(t,e)}}(this),window[m]=function(t){return function(){var e;if(e=1<=arguments.length?p.call(arguments,0):[],t.onLinkClicked)return t.onLinkClicked.apply(t,e)}}(this),window[v]=function(t){return function(){var e;if(e=1<=arguments.length?p.call(arguments,0):[],sdk.noop(),t.timeStart=new Date,window[v]=null,t.onLoaded)return t.onLoaded.apply(t,e)}}(this),w=1===this.type?i|r|n|e:i|r|n|t,this.id=sdk.exec(l+".createWithClassNameEx",w,y,m,k)-0,/^\/\//.test(this.url)&&(this.url=window.location.protocol+this.url),this.resize(this.width-0,this.height-0),this.move(this.left,this.top),sdk.exec(l+".setOpacity",this.id,0),sdk.exec(l+".load",this.id,this.url,v),sdk.noop()}return c(o,s),o.prototype.setPropertyStoreForWindow=function(t,e,n){return sdk.exec(l+".setPropertyStoreForWindow",this.id,t,e,n)},o.prototype.setPropertyStoreForWindowWithLaunchExe=function(t,e,n,r){return sdk.exec(l+".setPropertyStoreForWindowWithLaunchExe",this.id,t,n,e,r)},o.prototype.setWindowIconByPath=function(t){return sdk.exec(l+".setWindowIconByPath",this.id,t)},o.prototype.setWindowIconByData=function(t,e){return sdk.exec(l+".setWindowIconByData",this.id,t,e)},o.prototype.setIconicThumbnailByPath=function(t,e,n){return sdk.client.webview.isSupportToWINHBITMAP2()?(this.enableIconicBitMap(!0),sdk.exec(l+".setIconicThumbnailByPath",this.id,t,e,n)):(sdk.noop(),!1)},o.prototype.setIconicThumbnailByData=function(t,e,n,r){return sdk.client.webview.isSupportToWINHBITMAP2()?(this.enableIconicBitMap(!0),sdk.exec(l+".setIconicThumbnailByData",this.id,t,e,n,r)):(sdk.noop(),!1)},o.prototype.setWindowIconText=function(t){return sdk.exec(l+".setWindowIconText",this.id,t)},o.prototype.setStateChangedCallback=function(t){var e,n;return null==t&&(t=sdk.noop),n=new Date-0+"_"+Math.floor(1e3*Math.random()),e="linkedCb_"+n,window[e]=function(e){return function(e,n){if(t)return t(e,n)}}(this),sdk.exec(l+".setStateChangedCallback",this.id,e)},o.prototype.showMinimized=function(){return sdk.exec(l+".showMinimized",this.id)},o.prototype.showMaximized=function(){return sdk.exec(l+".showMaximized",this.id)},o.prototype.showNormal=function(){return sdk.exec(l+".showNormal",this.id)},o.prototype.showWithoutActivating=function(){return this.setAttribute(98,!1)},o.prototype.flashWindow=function(t){return sdk.exec(l+".flashWindow",this.id,t)},o.prototype.flashWindowEx=function(t,e,n){return null==t&&(t=3),null==e&&(e=400),null==n&&(n=2),sdk.exec(l+".flashWindowEx",this.id,n,t,e)},o.prototype.enableIconicBitMap=function(t){return sdk.exec(l+".enableIconicBitMap",this.id,t)},o.prototype.windowState=function(){return sdk.exec(l+".windowState",this.id)},o.prototype.getWindowProp=function(t){return sdk.exec(l+".getWindowProp",this.id,t)},o.prototype.setWindowProp=function(t,e){return sdk.exec(l+".setWindowProp",this.id,t,e)},o.prototype.showTaskbarTab=function(){return sdk.exec(l+".showTaskbarTab",this.id)},o.prototype.hideTaskbarTab=function(){return sdk.exec(l+".hideTaskbarTab",this.id)},o.prototype.isHidden=function(){var t,e,n;return n=this.windowState(),e=n===a,t=this.width-0===1&&this.height-0===1,sdk.noop(),e||t||this.isBubbleSizeVisible()?!e&&!t&&sdk.client.info.getPlgVersion()>="1.0.5.35"&&!this.isBubbleRectVisible()?constant.HIDDEN_CODE.LOCATION:1===this.getWindowProp("ITaskList_Deleted")?constant.HIDDEN_CODE.TASKLIST:this.isVisible()===!1?constant.HIDDEN_CODE.QT:sdk.client.webview.isWindowVisible(this.id)===!1&&constant.HIDDEN_CODE.WINDOWS:constant.HIDDEN_CODE.SIZE},o}(sdk["class"].Webview),sdk["class"].WebviewEx=s}.call(this),function(){var t;t={},sdk.client.dom=t}.call(this),function(){var t,e,n;e="krwps",n={pptassist:{dist_num:{path:"HKEY_CURRENT_USER\\Software\\PPTAssist\\Common",name:"DistSrc"},guid:{path:"HKEY_CURRENT_USER\\Software\\PPTAssist\\Common",name:"infoGUID"}},te:{dist_num:{path:"HKEY_CURRENT_USER\\Software\\Kingsoft\\TypeEasy\\TypeEasyEx",name:"DistSrc"},guid:{path:"HKEY_CURRENT_USER\\Software\\Kingsoft\\TypeEasy\\TypeEasyEx",name:"infoGUID"}},qing:{new_installed:{path:"HKEY_CURRENT_USER\\SOFTWARE\\Kingsoft\\Office\\6.0\\Common",name:"NewInstallTime",day:7}},powerword:{dist_num:{path:"HKEY_CURRENT_USER\\Software\\Kingsoft\\power word",name:"PipeNumber"},guid:{path:"HKEY_CURRENT_USER\\Software\\Kingsoft\\power word",name:"AppUUID"}},wpsemail:null,docersoso:{dist_num:{path:"HKEY_CURRENT_USER\\Software\\Kingsoft\\docersoso\\Common\\",name:"DistSrc"},guid:{path:"HKEY_CURRENT_USER\\Software\\Kingsoft\\docersoso\\Common\\",name:"infoGUID"}},pwa:{dist_num:{path:"HKEY_CURRENT_USER\\SOFTWARE\\Kingsoft\\PowerWordAssist\\",name:"PipeNumber"},guid:{path:"HKEY_CURRENT_USER\\SOFTWARE\\Kingsoft\\PowerWordAssist\\",name:"AppUUID"}},ky:{dist_num:{path:"HKEY_CURRENT_USER\\SOFTWARE\\Kingsoft\\PowerWordKuaiYi\\",name:"PipeNumber"},guid:{path:"HKEY_CURRENT_USER\\SOFTWARE\\Kingsoft\\PowerWordKuaiYi\\",name:"AppUUID"}},ms:{dist_num:{path:"HKEY_CURRENT_USER\\SOFTWARE\\Kingsoft\\PowerWordMiaoSou\\",name:"PipeNumber"},guid:{path:"HKEY_CURRENT_USER\\SOFTWARE\\Kingsoft\\PowerWordMiaoSou\\",name:"AppUUID"}},ks:{dist_num:{path:"HKEY_CURRENT_USER\\SOFTWARE\\Kingsoft\\PowerWordKuaiSou\\",name:"PipeNumber"},guid:{path:"HKEY_CURRENT_USER\\SOFTWARE\\Kingsoft\\PowerWordKuaiSou\\",name:"AppUUID"}}},t={getAppName:function(){var t;return t=sdk.exec(e+".app")||"",t.toLocaleLowerCase()},getAppVersion:function(){return sdk.exec(e+".version")||""},getDistNum:function(){var t,r,i,s;t=this.getAppName();try{s=n[t].dist_num}catch(i){r=i,s=null}return s?sdk.system.getReg(s.name,s.path):sdk.exec(e+".distnum")||""},isSpecDistNewUser:function(){var t,e,r,i,s,o;t=this.getAppName();try{s=n[t].new_installed}catch(i){r=i,s=null}return o=/(00360\.[\d]{8})|(00020\.00002766)/,e=sdk.client.info.getDistNum(),!!(o.test(e)&&s&&new Date-0-(sdk.util.parseDate(sdk.system.getReg(s.name,s.path))-0)<=2592e6)},isInstallNewUser:sdk.addCacheToFn(function(){var t,e,r,i,s,o;t=sdk.client.info.getAppName();try{o=n[t].new_installed}catch(r){e=r,o=null}return s=7,"12012.00002019"===sdk.client.info.getDistNum()?(i=sdk.client.info.getHdid(),parseInt(i.substr(i.length-1,1),16)%2===0&&(s=30)):(i=sdk.client.info.getHdid(),"0"===i[0]&&(s=30)),!!(o&&new Date-0-(sdk.util.parseDate(sdk.system.getReg(o.name,o.path))-0)<=24*s*3600*1e3)}),getGuid:function(){return sdk.exec(e+".guid")||""},getProjectGuid:function(){var t,r,i,s,o;t=this.getAppName();try{s=n[t].guid}catch(i){r=i,s=null}return s?(o=sdk.system.getReg(s.name,s.path)||"",o.replace(/\{|\}|-/g,"").toLocaleLowerCase()):sdk.exec(e+".guid")||""},getUuid:function(){return sdk.exec(e+".uuid")||""},getHdid:function(){var t,n;return"production"===sdk.env?(sdk.exec(e+".hdid")||"").toLowerCase():(t=sdk.system.getReg("hdid","HKEY_CURRENT_USER\\Software\\HDID\\"),n=(t||"").toLowerCase()||(sdk.exec(e+".hdid")||"").toLowerCase(),sdk.noop(),n)},getPlgVersion:function(){return sdk.exec(e+".plgVersion")||""},getHostProcessName:function(){var t;return t=sdk.exec(e+".getHostProcessName")||"",sdk.noop(),t},getAdType:sdk.addCacheToFn(function(){return"2"}),isEduVersion:sdk.addCacheToFn(function(){return!!/^11\.1\.0\.(7837|7842|7848)$/.test(sdk.client.info.getAppVersion())||"edu"===sdk.system.getReg("category","HKEY_CURRENT_USER\\Software\\Kingsoft\\Office\\6.0\\common");
}),hasInstallWps:sdk.addCacheToFn(function(){return sdk.system.existsRegKeyOrPath("HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\Kingsoft Office\\DisplayVersion")}),skipClientFilter:sdk.addCacheToFn(function(){return"true"===sdk.system.getReg("skipClientFilter","HKEY_CURRENT_USER\\Software\\Kingsoft\\Office\\6.0\\plugins\\kbubble\\")})},sdk.client.info=t}.call(this),function(){var closing,exitTimeout,ns,plugin;ns="krwps",closing=!1,exitTimeout=null,plugin={stopExit:function(){if(exitTimeout)return sdk.noop(),clearTimeout(exitTimeout),exitTimeout=null},exit:function(t,e,n){return null==t&&(t=0),null==n&&(n=""),this.stopExit(),exitTimeout=setTimeout(function(){var t,n,r,i,s;try{return s="production"===sdk.env?.001:1,Math.random()<s&&(window.service?(t=window.service.appName,i=service.getPluginLoadNumToday()||1,sdk.util.justSend("http://pcfg.wps.cn:9002/report/"+t+"/plugin_exit/"+i)):(t="unknown_app",i="-1",sdk.util.justSend("http://pcfg.wps.cn:9002/report/"+t+"/plugin_exit/"+i))),sdk.service.info.pluginExit(e),sdk.util.iniCache.clear(),setTimeout(function(){return"view"===sdk.mode?(sdk.noop(),sdk.client.plugin.setWorkingStatus(!1),sdk.client.plugin.notifyQueryExit()):(sdk.noop(),sdk.exec(ns+".exit")||"")},3e3)}catch(r){return n=r,sdk.noop()}},t),sdk.noop()},forceExit:function(t){return sdk.noop(),sdk.service.info.pluginExit(t),sdk.exec(ns+".exit")||""},reload:function(t){return sdk.service.info.pluginExit(t),setTimeout(function(){return sdk.exec(ns+".reload")},3e3)},upgrade:function(){return sdk.exec(ns+".upgrade")||""},bubbleDisabled:function(){return!!sdk.exec(ns+".bubbleDisabled")},restartKBubble:function(){return sdk.exec(ns+".restartKBubble")||""},serviceReady:function(){return sdk.exec(ns+".serviceReady")||""},serviceLoaded:function(){return sdk.exec(ns+".serviceLoaded")||""},emit:function(t,e){if(sdk.noop(),sdk.exec(ns+".fireRequest",t,e),sdk.service.info._should_report_by_hdid(.01))return sdk.service.info._sendEncryptedAll({p3:"interface",p4:"",p5:"fireRequest",p7:t,p8:e})},setMsgPushIni:function(t,e,n){return sdk.exec(ns+".setMsgPushIni",t,e,n)},getMsgPushIni:function(t,e){return sdk.exec(ns+".getMsgPushIni",t,e)},isRunInWps:function(){var t;return t=sdk.exec(ns+".isRunInWps"),sdk.noop(),t},runBubble2:function(t,e){var n,r;n="runBubble2_callback_"+sdk.util.getRandomNum(),window[n]=function(r){return window[n]=sdk.noop,r?t&&t():e&&e()};try{if(r=sdk.exec(ns+".runBubble2",n,"2"),null===r)return sdk.noop(),e&&e()}catch(i){return sdk.noop(),e&&e()}},runBubbleWithOtherExe:function(t,e,n,r){var i,s,o;i="runBubbleWithOtherExe_callback_"+sdk.util.getRandomNum(),window[i]=function(t){var e;return window[i]=sdk.noop,t?n&&n():r&&r(e=!0)};try{if(s=e&&sdk.client.info.getPlgVersion()>="1.0.5.27"?sdk.exec(ns+".runBubbleWithOtherExeEx",i,t,!0):sdk.exec(ns+".runBubbleWithOtherExe",i,t),null===s)return sdk.noop(),r&&r(o=!1)}catch(a){return sdk.noop(),r&&r(o=!0)}},getUserInfoData:sdk.addCacheToFn(function(){var err,error,json,obj;json=sdk.exec(ns+".getUserInfoData");try{obj=eval("("+json+")"),obj=obj||{}}catch(error){err=error,sdk.noop(),obj={}}return obj}),openVipAutoLoginUrl:function(t){var e;if(e=sdk.exec(ns+".openVipAutoLoginUrl",t),null===e)return sdk.noop(),sdk.system.openUrl(t)},showUpgradeVip:function(t){var e,n,r;if(r="pc_ad",r+="&position="+sdk.bubble.id,t&&(r+="_"+t),n={param:r},e=sdk.exec(ns+".showUpgradeVip",sdk.util.encodeBase64(sdk.util.serialize(n))),null===e)return sdk.noop(),!1},isUserLogin:function(){return sdk.exec(ns+".isUserLogin")},getAdvertiseStatus:function(){return sdk.exec(ns+".getAdvertiseStatus")},getDisplayMode:function(){return sdk.exec(ns+".getDisplayMode")},getWpsRecentFiles:function(app,callback){var callbackFnName,err,inputObj,timeout;return sdk.noop(),callbackFnName="getWpsRecentFiles_callback_"+sdk.util.getRandomNum(),timeout=setTimeout(function(){return sdk.noop(),window[callbackFnName]=sdk.noop,callback([])},1e4),window[callbackFnName]=function(base64json){var err,error,json,obj;window[callbackFnName]=sdk.noop,clearTimeout(timeout),json=sdk.util.decodeBase64(base64json);try{obj=eval("("+json+")")}catch(error){err=error,sdk.noop()}return sdk.noop(),callback&&callback(obj.files)},inputObj={app:app,callback:callbackFnName},err=sdk.exec(ns+".getWpsRecentFiles",sdk.util.encodeBase64(sdk.util.serialize(inputObj))),err instanceof Error&&"not support"===err.message&&sdk.noop(),err},registerProcessMonitorList:function(t){return sdk.noop(),sdk.exec(ns+".registerProcessMonitorList",t)},unRegisterProcessMonitorList:function(t){return sdk.noop(),sdk.exec(ns+".unRegisterProcessMonitorList",t)},launchWpsInfoExe:function(t){return sdk.noop(),sdk.service.info.sendMsgTrace("js_svr_send",Math.floor(new Date/1e3),t),sdk.exec(ns+".launchWpsInfoExe",t)},notifyBubbleMsg:function(t,e){return null==e&&(e=!1),sdk.noop(),!e&&sdk.util.indexOf("wpscloudsvr.exe",sdk.system.listProcesses())<0?(sdk.service.info.sendMsgTrace("js_view_not_send",Math.floor(new Date/1e3),t),sdk.noop(),!1):(sdk.service.info.sendMsgTrace("js_view_send",Math.floor(new Date/1e3),t),sdk.exec(ns+".notifyBubbleMsg",t))},setWorkingStatus:function(t){return sdk.noop(),sdk.exec(ns+".setWorkingStatus",t)},notifyQueryExit:function(){return sdk.noop(),sdk.exec(ns+".notifyQueryExit")},enableSceneMsgPush:function(t){return sdk.noop(),sdk.exec(ns+".enableSceneMsgPush",t)}},sdk.client.plugin=plugin}.call(this),function(){var INI_PATH,REG_PATH,ns;ns="krtrayicon",REG_PATH="HKEY_CURRENT_USER\\Software\\kingsoft\\Office\\6.0\\plugins\\kbubble",INI_PATH="%appdata%\\kingsoft\\wps\\addons\\data\\win-i386\\kbubble_sp.ini",sdk.client.trayicon={init:function(t,e){var n,r;return null==t&&(t=!1),null==e&&(e=sdk.noop),!!sdk.client.trayicon.isSupport()&&(this.isSubscribe()&&!this.isInit()&&(sdk.service.info.trayicon("init"),sdk.client.trayicon.setBaseData(!0,"1;2;3;4;5"),sdk.client.trayicon.setInit(),sdk.shopping.setUserData(),sdk.shopping.createShortCut("http://img1.pcfg.cache.wpscdn.cn/ks3_4f0613ff0543f9561c27a986f471e219/logo-lnk.ico"),sdk.shopping.getManualData(function(t){var n,r,i,s;for(s=Math.floor(sdk.util.getNow()/1e3),n=0,i=t.length;n<i;n++)r=t[n],r.gt||(r.gt=s),sdk.shopping.setPopup(r.id);return sdk.shopping.dataStoreToRecommend(t),e&&e()})),this.isSubscribe()?(n=sdk.util.formatDate(this.getLastExitTime()-0,"yyyy-MM-dd"),r=sdk.util.formatDate(new Date,"yyyy-MM-dd"),!t&&this.isExit()&&n===r?void sdk.noop():(t?this.setSilence(!1):this.setSilence(this.isSilence()),sdk.shopping.updateToolTip(),this.showTrayIcon(),sdk.service.info.trayicon("loaded"))):void 0)},isSupport:function(){try{return!!(window.krtrayicon&&krtrayicon.showTrayIcon&&window.krutil&&krutil.aesEncrypt_ECB)}catch(t){return!1}},hideTrayIcon:function(){return this.setExit(!0),sdk.exec2(ns+".hideTrayIcon")},showTrayIcon:function(){return this.setExit(!1),sdk.exec2(ns+".showTrayIcon")},setTrayIcon:function(t){return sdk.exec2(ns+".setTrayIcon",t)},setIconNormal:function(){var t;return t=sdk.system.getLocalPath(),t&&sdk.client.trayicon.setTrayIcon(t+"\\img\\logo-n.png")},setIconSilence:function(){var t;return t=sdk.system.getLocalPath(),t&&sdk.client.trayicon.setTrayIcon(t+"\\img\\logo-s.png")},setIconMessage:function(){var t;return t=sdk.system.getLocalPath(),t&&sdk.client.trayicon.setTrayIcon(t+"\\img\\logo-m.png")},setToolTip:function(t){return sdk.exec2(ns+".setToolTip",t)},setActionChecked:function(t,e){return sdk.exec2(ns+".setActionChecked",t,e)},getTrayIconPosition:function(){var err,error,str;try{return str=sdk.exec2(ns+".getTrayIconPosition"),eval("("+str+")")}catch(error){return err=error,sdk.noop(),{}}},moveWithTrayIcon:function(t,e){var n;return null==t&&(t=0),null==e&&(e=0),n="sdk.tools.observer.fire('window_moveWithTray_"+this.getCurrentViewId()+"', "+t+","+e+")",sdk.noop(),sdk.client.webview.execute(0,n)},isSubscribe:function(){return"true"===sdk.system.getReg("shoppingSubscribe",REG_PATH)},setSubscribe:function(t){return null==t&&(t=!0),sdk.system.setReg("shoppingSubscribe",t,REG_PATH)},isInit:function(){return"true"===sdk.system.getReg("shoppingInit",REG_PATH)},setInit:function(){return sdk.system.setReg("shoppingInit","true",REG_PATH)},isSilence:function(){return"silence"===sdk.system.getReg("shoppingStatus",REG_PATH)},setSilence:function(t){var e;return null==t&&(t=!0),t?(e="silence",sdk.client.trayicon.setIconSilence()):(e="normal",sdk.client.trayicon.setIconNormal()),sdk.system.setReg("shoppingStatus",e,REG_PATH),sdk.client.trayicon.setActionChecked("silence",t),sdk.shopping.updateToolTip()},isExit:function(){var t,e;return t=sdk.system.getReg("shoppingExit",REG_PATH)||"",e=t.split("#"),"true"===e[0]},setExit:function(t){var e,n;return null==t&&(t=!0),n=new Date-0,e=t+"#"+n,sdk.system.setReg("shoppingExit",e,REG_PATH)},getLastExitTime:function(){var t,e;return t=sdk.system.getReg("shoppingExit",REG_PATH)||"",e=t.split("#"),e[1]||""},getBaseData:function(){return{coupon_radar:sdk.system.getReg("shoppingCouponRadar",REG_PATH),subscribe_type:sdk.system.getReg("shoppingSubscribeType",REG_PATH)}},setBaseData:function(t,e){return sdk.system.setReg("shoppingCouponRadar",t,REG_PATH),sdk.system.setReg("shoppingSubscribeType",e,REG_PATH)},setBindMode:function(t){return null==t&&(t=!0),sdk.system.setReg("assslp",t,REG_PATH)},forceWindowClose:function(t){var e;return null==t&&(t=17),e="sdk.tools.observer.fire('window_close', -1, "+t+")",sdk.noop(),setTimeout(function(){return sdk.client.webview.execute(0,e)},0)},setIni:function(t,e,n){var r;return r=sdk.system.getRealPath(INI_PATH),sdk.util.setIniByPath(t,e,n,r)},getIni:function(t,e){var n;return n=sdk.system.getRealPath(INI_PATH),sdk.util.getIniByPath(t,e,n)}}}.call(this),function(){var t,e,n,r,i;t="HKEY_CURRENT_USER\\Software\\Kingsoft\\Office\\6.0\\plugins\\kbubble",n="HKEY_CURRENT_USER\\Software\\Kingsoft\\wpscloud",e=864e5,r={qing:{path:n,name:"usertype",compare:function(t){return(t-0||0)>10&&"104"!==t}},pptassist:{path:"HKEY_CURRENT_USER\\Software\\PPTAssist\\Common",name:"usertype",compare:function(t){return(t-0||0)>10}},powerword:null,wpsemail:null,docersoso:null,te:null,iqiyi:null},r.pwa=r.ky=r.ms=r.ks=r.pptassist,i={isPaidUser:sdk.addCacheToFn(function(){var t;try{if(t=sdk.client.plugin.getUserInfoData(),"41000207"===t.companyID&&t["c-name"]&&t["c-name"].indexOf("金山办公")>-1)return!1}catch(e){}return i.isWpsPaidUser()||i.isCurrentClientPaidUser()}),isCurrentClientPaidUser:function(){var t,e,n,i;try{if(t=sdk.client.info.getAppName(),i=r[t])return i.compare(sdk.system.getReg(i.name,i.path))}catch(n){e=n}return!1},isWpsPaidUser:function(){var t,e;return e=r.qing,t=sdk.system.getReg("vasprivilege",n),e.compare(sdk.system.getReg(e.name,e.path))||"true"===t},isWpsPaidMember:function(){var t,e;return!("production"===sdk.env&&(e=sdk.client.plugin.getUserInfoData(),"41000207"===e.companyID&&e["c-name"]&&e["c-name"].indexOf("金山办公")>-1))&&(t=r.qing,t.compare(sdk.system.getReg(t.name,t.path)))},isComplainedUser:sdk.addCacheToFn(function(){return"1"===sdk.system.getReg("isn",t)}),isAdvancedUser:sdk.addCacheToFn(function(){return sdk.system.existsRegKeyOrPath("HKEY_LOCAL_MACHINE\\SOFTWARE\\TortoiseSVN\\Directory")||sdk.system.existsRegKeyOrPath("HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\App Paths\\devenv.exe\\")||sdk.system.existsRegKeyOrPath("HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\App Paths\\msdev.exe\\")}),getUserMark:sdk.addCacheToFn(function(){return sdk.system.getReg("urmk",t)}),getUserType:function(){return sdk.system.getReg("usertype",n)},getLastLoginUserId:function(){var n,r;return r=sdk.system.getReg("lastLoginUserId",t),n=r.split("_"),n[1]&&n[1]-0+30*e>Date.now()?n[0]:""},setLastLoginUserId:function(){var e,n;if(n=sdk.client.plugin.getUserInfoData(),e=n.userId,e&&i.isWpsPaidMember())return sdk.system.setReg("lastLoginUserId",e+"_"+sdk.util.getNow().getTime(),t)},getLastDoubleCheckTime:function(){return sdk.system.getReg("lastDoubleCheckTime",t)},setLastDoubleCheckTime:function(e){return e||(e=sdk.util.getNow().getTime()),sdk.system.setReg("lastDoubleCheckTime",e.toString(),t)},getLastLoginUserData:function(){return sdk.system.getReg("lastLoginUserData",t)},isNonAdMemberByReg:function(){var e,n,r;return r=i.getLastLoginUserId(),!!(e=sdk.system.getReg("lastLoginUserData",t))&&(n=e.split("_"),3===n.length&&r===n[0]&&"1"===n[1]&&n[2]-0>sdk.util.getNow().getTime())},setMemberReg:function(e,n,r){var i;return i=e+"_"+n+"_"+r,sdk.system.setReg("lastLoginUserData",i,t)},requestInfoByUserId:function(t,e){return t||e(new Error("缺少userid")),sdk.util.ajax({url:"//pcfg.wps.cn:9002/api/users/"+t+"/overview",type:"get",timeout:10,success:function(n){var r,s;try{return sdk.noop(),sdk.noop(),n=JSON.parse(n),n&&0===n.code?(i.setMemberReg(n.data.userid,n.data.isvip,n.data.expire),i.setLastDoubleCheckTime(),e(null)):(i.setLaterExpireUserData(t),e(new Error("请求失败")))}catch(s){return r=s,sdk.noop(),i.setLaterExpireUserData(t),e(new Error("请求失败"))}},error:function(n){return sdk.noop(),i.setLaterExpireUserData(t),e(n)}})},setLaterExpireUserData:function(t){var n,r,s;return n=36e5,s=sdk.util.getNow(),r=s.getTime()-7*e+n,i.setMemberReg(t,0,s.getTime()),i.setLastDoubleCheckTime(r)}},sdk.client.user=i}.call(this),function(){var Webview,initDate,ns,slice=[].slice;ns="krwebview",Webview=sdk["class"].Webview,initDate=new Date,sdk.client.webview={heartbeat:function(){return sdk.exec(ns+".heartbeat")},enableHeartbeat:function(t){return sdk.exec(ns+".enableHeartbeat",t)},kill:function(t){return sdk.exec(ns+".kill",t)},getCurrentViewId:function(){return sdk.exec(ns+".currentId")},closeCurrentWindowByCloseBtn:function(){return this.closeCurrentWindow(Webview.constant.TYPE_CLOSE_BY_CLOSE_BTN)},closeCurrentWindowByNormalClick:function(){return this.closeCurrentWindow(Webview.constant.TYPE_CLOSE_BY_NORMAL_CLICK_EVENT)},closeCurrentWindowByNotInterested:function(){return this.closeCurrentWindow(Webview.constant.TYPE_CLOSE_BY_NOT_INTERESTED)},closeCurrentWindowByVipGuide:function(){return this.closeCurrentWindow(Webview.constant.TYPE_CLOSE_BY_VIP_GUIDE)},closeCurrentWindowByTimeout:function(){return this.closeCurrentWindow(Webview.constant.TYPE_CLOSE_BY_TIMEOUT)},closeCurrentWindow:function(t){var e;return null==t&&(t=Webview.constant.TYPE_CLOSE_BY_NORMAL_CLICK_EVENT),e="sdk.tools.observer.fire('window_close', "+this.getCurrentViewId()+", "+t+")",sdk.noop(),setTimeout(function(){sdk.client.webview.execute(0,e);try{return krwebview.close()}catch(t){try{return external.webview_close()}catch(n){}}},0)},resize:function(t,e){var n;return n="sdk.tools.observer.fire('window_resize_"+this.getCurrentViewId()+"', "+t+","+e+")",sdk.noop(),sdk.client.webview.execute(0,n)},move:function(t,e){var n;return n="sdk.tools.observer.fire('window_move_"+this.getCurrentViewId()+"', "+t+","+e+")",sdk.noop(),sdk.client.webview.execute(0,n)},setDragArea:function(t,e,n,r){var i;return i="sdk.tools.observer.fire('window_setDragArea_"+this.getCurrentViewId()+"', "+t+", "+e+", "+n+", "+r+")",sdk.noop(),sdk.client.webview.execute(0,i)},setDragAreaEx:function(t,e,n,r){var i;return i="sdk.tools.observer.fire('window_setDragAreaEx_"+this.getCurrentViewId()+"', "+t+", "+e+", "+n+", "+r+")",sdk.noop(),sdk.client.webview.execute(0,i)},hideCurrentWindow:function(){var t;return t="sdk.tools.observer.fire('window_hide_"+this.getCurrentViewId()+"')",sdk.client.webview.execute(0,t)},inspector:function(t,e){return null==t&&(t={}),null==e&&(e=!0),sdk.exec(ns+".inspector",t.id,e)},inspectorCurrWin:function(t){var e;return null==t&&(t=!0),e=this.getCurrentViewId(),this.inspector({id:e},t)},generateWebview:function(t,e,n,r,i,s,o,a,u){return new sdk["class"].Webview(t,e-0,n-0,r,i,s,o,a,u)},generateRightBottomWebview:function(t,e,n,r,i,s,o,a,u){var l,c,d,p,h,f;return c=sdk.system.getScreenPadding(),d=sdk.system.getScreenSize(),f=d.width-c.right-c.left,h=d.height-c.top-c.bottom,f<e&&(e=f),h<n&&(n=h),l=d.width-e-c.right-1,p=d.height-n-c.bottom,new sdk["class"].Webview(t,e,n,l,p,r,i,s,o,a,u)},generateRightBottomBubble:function(t,e,n,r,i,s,o,a,u,l,c,d,p){var h,f,g,k;return null==s&&(s=0),null==o&&(o=18e4),null==a&&(a=sdk.noop),null==u&&(u=sdk.noop),null==l&&(l=sdk.noop),g=sdk.util.createGetUrl(n,{bubble_id:r,bubble_name:i}),h=function(){var t,e,o,a,u,c,d,p;if(o=1<=arguments.length?slice.call(arguments,0):[],n=o[1],sdk.util.isHttpUrl(n)){for(e=["info_title","info_name"],c=0,d=e.length;c<d&&(t=e[c],!(p=sdk.util.getUrlParam(t,n)));c++);p=p||"link_click",sdk.service.info.click(r,i,p,-1,sdk.util.getUrlParam("bubble_testId",n));try{if(sdk.system.openUrl(n),l&&l.apply(this,o),s-0===1)return k.destroy(Webview.constant.TYPE_CLOSE_BY_NORMAL_CLICK_EVENT)}catch(u){return a=u,sdk.noop()}}},f=function(){var t;if(t=1<=arguments.length?slice.call(arguments,0):[],u instanceof Function)return u.apply(this,t)},k=this.generateRightBottomWebview(g,t,e,a,f,h,c,d,p),sdk.client.webview.setBubbleId(k.id,r),sdk.noop(),k},generateWebviewEx:function(t,e,n,r,i,s,o,a,u){return new sdk["class"].WebviewEx(t,e-0,n-0,r,i,s,o,a,u)},setCurrentProcessExplicitAppUserModelID:function(t){return sdk.exec(ns+".setCurrentProcessExplicitAppUserModelID",t)},isSupportWebviewEx:function(){return krwebview&&!!krwebview.createWithClassNameEx},isSupportToWINHBITMAP2:function(){return sdk.exec(ns+".isSupportToWINHBITMAP2","iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAApJREFUCNdjYAAAAAIAAeIhvDMAAAAASUVORK5CYII=","png")},execute:function(t,e){return null==t&&(t=0),sdk.exec(ns+".execute",t,e)},setBubbleId:function(t,e){return sdk.exec(ns+".setBubbleId",t,e)},isVisible:function(t){return sdk.exec(ns+".isVisible",t)},isWindowVisible:function(t){return sdk.exec(ns+".isWindowVisible",t)},setWindowVisible:function(t,e){return sdk.exec(ns+".setWindowVisible",t,e)},getBubbleRect:function(id){var error,json,res;json=sdk.exec(ns+".getBubbleRect",id);try{return res=eval("("+json+")"),res||{}}catch(error){return{}}},isBubbleRectVisible:function(t){var e,n,r;return!(e=sdk.system.getDpi())||(r=sdk.system.getScreenSize(),n=sdk.client.webview.getBubbleRect(t),sdk.noop(),n.left>=-1&&n.right<r.width*e&&n.top>=0&&n.bottom<r.height*e)},valid:function(t){return null==t&&(t=0),t=t-0||0,sdk.exec(ns+".valid",t)},syncCookie:function(t,e){var n,r,i,s;for(e instanceof Array||(e=[e]),s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(sdk.exec(ns+".setCookie",t,n.url,n.domain));return s},notifyPopupResult:function(t,e,n){return null==e&&(e=0),null==n&&(n=0),sdk.noop(),sdk.exec(ns+".notifyPopupResult",t,e,n)}}}.call(this),function(){var KEY_WOW64_32KEY,KEY_WOW64_64KEY,REG_BINARY,REG_DWORD,REG_SZ,addCacheToFn,ns,regPath,str2list;ns="krwinsys",regPath="HKEY_CURRENT_USER\\Software\\kingsoft\\Office\\6.0\\common",KEY_WOW64_64KEY=256,KEY_WOW64_32KEY=512,REG_SZ=1,REG_BINARY=3,REG_DWORD=4,str2list=function(t,e){var n,r,i,s,o,a,u;for(null==t&&(t=""),null==e&&(e=";"),n=t.split(e),a={},u=[],i=0,o=n.length;i<o;i++)r=n[i],r&&(a[r]=1);for(s in a)u.push(s.toLocaleLowerCase());return u},addCacheToFn=sdk.addCacheToFn,sdk.system={getRealPath:function(t){return sdk.exec(ns+".varPathToRealPath",t)},isAnyProcessFullScreen:addCacheToFn(function(){return sdk.exec(ns+".isFullScreen")}),getDpi:function(){return sdk.exec(ns+".getDpi")},getScreenSize:function(){return{width:sdk.exec(ns+".screenWidth")||1920,height:sdk.exec(ns+".screenHeight")||1040}},getScreenPadding:function(){var t,e,n,r,i,s,o,a;return o=sdk.exec(ns+".taskbarPosY"),t=sdk.exec(ns+".taskbarPosX"),s=sdk.exec(ns+".taskbarHeight"),a=sdk.exec(ns+".taskbarWidth"),o>0?(e=s,i=0):(e=0,i=0),t>0?(n=0,r=a):(n=0,r=0),{left:n,right:r,top:i,bottom:e}},getTaskbarSize:function(){var t,e,n,r;return n=sdk.exec(ns+".taskbarPosY"),t=sdk.exec(ns+".taskbarPosX"),e=sdk.exec(ns+".taskbarHeight"),r=sdk.exec(ns+".taskbarWidth"),{left:t,top:n,tw:r,th:e}},setReg:function(t,e,n,r,i){return null==e&&(e=""),null==n&&(n=regPath),null==r&&(r=""),null==i&&(i=!1),e+="",r=r.toLowerCase(),r="dword"===r?REG_DWORD:"binary"===r?REG_BINARY:REG_SZ,i||r!==REG_SZ?this._setRegWin(t,e,n,r,KEY_WOW64_64KEY):this._setReg(t,e,n)},getReg:function(t,e,n,r){var i;return null==e&&(e=regPath),null==n&&(n=""),null==r&&(r=!1),n=n.toLowerCase(),n="dword"===n?REG_DWORD:"binary"===n?REG_BINARY:REG_SZ,r||n!==REG_SZ?(i=this._getRegWin(t,e,n,KEY_WOW64_64KEY),i instanceof Error&&"not support"===i.message&&(i=""),i):this._getReg(t,e)},_setReg:function(t,e,n){return e+="",sdk.exec(ns+".setReg",n,t,e)},_getReg:function(t,e){return sdk.exec(ns+".getReg",e,t)},_setRegWin:function(t,e,n,r,i){return null==r&&(r=REG_SZ),null==i&&(i=0),e+="",sdk.exec2(ns+".setRegWin",n,t,e,r,i)},_getRegWin:function(t,e,n,r){return null==n&&(n=REG_SZ),null==r&&(r=0),sdk.exec2(ns+".getRegWin",e,t,n,r)},openUrl:function(t){return!!sdk.util.isHttpUrl(t)&&(sdk.noop(),sdk.bubble.openUrl=t,sdk.bubble.openUrlByBrowser="default_"+sdk.system.getDefaultBrowserName(),sdk.exec(ns+".openUrl",t))},openUrlWithTargetBrowser:function(t,e){var n;return sdk.util.indexOf("360tray.exe",sdk.system.listProcesses())>=0&&(/^https?:\/\/e\.cn\.miaozhen\.com\//.test(t)||/^https?:\/\/clickc\.admaster\.com\.cn\//.test(t))?sdk.system.openUrl(t):!!sdk.util.isHttpUrl(t)&&(e||(e=sdk.bubble.getBubbleInfo("msgPid")),e||(e=sdk.browser.getLastTopPid()),e?(sdk.noop(),sdk.bubble.openUrl=t,sdk.bubble.openUrlByBrowser="top_"+sdk.browser.processName2BrowserName(sdk.bubble.getBubbleInfo("msgBrowser")),n=sdk.exec2(ns+".openUrlWithTargetBrowser",t,e),n instanceof Error&&"not support"===n.message?(sdk.noop(),sdk.bubble.openUrlByBrowser="not support",sdk.system.openUrl(t)):n===!1?(sdk.noop(),sdk.bubble.openUrlByBrowser="failed",sdk.system.openUrl(t)):void 0):sdk.system.openUrl(t))},openUrlWithIE:function(t,e){var n;if(null==e&&(e=!1),!sdk.util.isHttpUrl(t))return!1;if(sdk.noop(),sdk.bubble.openUrl=t,n=sdk.exec2(ns+".openUrlWithIE",t),!e){if(n===!1)return sdk.noop(),sdk.system.openUrl(t);if(n instanceof Error&&"not support"===n.message)return sdk.noop(),sdk.system.openUrl(t)}return n},openUrlWithPrometheus:function(t){var e;return e=function(t){var e,n;return n=sdk.system.getReg("InstallRoot","HKEY_CURRENT_USER\\Software\\Kingsoft\\Office\\6.0\\Common"),e=sdk.util.encodeBase64(t),sdk.system.runProcessEx(n+"/office6/ksolaunch.exe","/prometheus plugin://pageBrowser?"+e,"","Zhuhai Kingsoft Office Software Co., Ltd.")},sdk.client.webview.execute(0,"("+e.toString().replace(/\n|\r|\t/g,"")+')("'+t+'")')},openUrlWithMiniBox:function(t,e,n,r){var i,s,o,a,u;null==e&&(e=!1),null==n&&(n="eb");try{if(u=sdk.system.getReg("minisiteparam","HKEY_CURRENT_USER\\Software\\Kingsoft\\Office\\6.0\\plugins\\minisiteex"),!u)return!1;if(s=JSON.parse(sdk.util.decodeBase64(u)),!sdk.system.isPathExists(s.path))return!1}catch(a){return o=a,sdk.noop(),!1}return sdk.util.isHttpUrl(t)&&(r=t,t="",e=!1),i=function(t,e,n,r,i){var s;return s=sdk.system.getReg("InstallRoot","HKEY_CURRENT_USER\\Software\\Kingsoft\\Office\\6.0\\Common"),t+=" /source:0",r&&(t+=" /mini_type:"+r),e&&(t+=" /coupon:"+e),n&&(t+=" /shortcut:"+n),i&&(t+=" /u:"+sdk.util.encodeC64(i)),sdk.system.runProcessEx(s+"/office6/wpscenter.exe",t,"","Zhuhai Kingsoft Office Software Co., Ltd.")},sdk.client.webview.execute(0,"("+i.toString().replace(/\n|\r|\t/g,"")+')("'+s.param.replace(/(["\\])/g,"\\$1")+'", "'+t+'", '+e+', "'+n+'", "'+r+'")'),!0},listProcesses:function(){var t;return t=addCacheToFn(function(){return sdk.system._listProcesses()},null,1)}(),_listProcesses:function(){var t;return t=sdk.exec(ns+".listProcesses"),str2list(t)},listProcessesEx:function(){var t;return t=addCacheToFn(function(){return sdk.system._listProcessesEx()},null,1)}(),_listProcessesEx:function(){var err,error,str;str=sdk.exec(ns+".listProcessesWithExtraInfo");try{return eval("("+str+")").processList}catch(error){return err=error,sdk.noop(),[]}},getProcessesByPid:function(t){var e;return e=this.listProcessesByPid(),e[t]&&e[t].name||""},listProcessesByPid:function(){var t;return t=addCacheToFn(function(){return sdk.system._listProcessesJson()},null,1)}(),_listProcessesJson:function(){var err,error,str;str=sdk.exec(ns+".listProcessesJson");try{return eval("("+str+")").processList}catch(error){return err=error,sdk.noop(),{}}},getTopProcess:function(){var t,e,n,r;for(r=this.listProcessesEx(),t=0,e=r.length;t<e;t++)if(n=r[t],"1"===n.isActive)return n;return{}},killProcess:function(t){return sdk.exec(ns+".killProcess",t)||!1},runProcess:function(t,e,n,r){return null==t&&(t=""),null==e&&(e=""),null==n&&(n=""),null==r&&(r=1),r+="",sdk.noop(),sdk.exec(ns+".runProcess",t,e,n,r)},runProcessEx:function(t,e,n,r,i){return null==t&&(t=""),null==e&&(e=""),null==n&&(n=""),null==r&&(r=""),null==i&&(i=0),e={path:t,params:e,uac:i},n&&(e.md5=n),r&&(e.sign=r),sdk.noop(),sdk.exec(ns+".runProcessEx",sdk.util.serialize(e))},_runNetExe:function(t,e,n,r,i){var s,o,a;null==t&&(t=""),null==e&&(e=""),null==n&&(n=""),null==r&&(r="1");try{n=n||t.match(/[0-9a-z]{32}/)[0]}catch(a){o=a}return s=function(t){return sdk.system.runProcess(t,e,n,r)},setTimeout(function(){return i?sdk.system.downloadAndThen(t,i,s):sdk.system.downloadAndThen(t,s)},1)},runNetExe:function(t,e,n,r,i){return null==t&&(t=""),sdk.client.webview.execute(0,"sdk.system._runNetExe('"+t+"', '"+e+"', '"+n+"', '"+r+"', '"+(i||"")+"')")},runNetExeInstallIcon:function(t,e,n){null==n&&(n=sdk.bubble.id);try{sdk.bubble.iconVersion=t.match(/[^\/\.]+\.\d+\.\d+\.\d+\.\d+/)[0]}catch(r){}return sdk.client.webview.execute(0,"sdk.system._runNetExeInstallIcon('"+t+"', '"+e+"', '"+n+"')")},_runNetExeInstallIcon:function(t,e,n){var r,i,s,o,a,u,l,c,d,p,h;return a=t.match(/\/ks3_([a-zA-Z0-9]{32})\/(\w+)\.(\d+\.\d+\.\d+\.\d+)(\.\w+)?\.exe$/),!(!a||5!==a.length)&&(u=a[1],o=a[2],h=a[3],s=new RegExp("(^|\\/)"+e+"\\.lnk(\\/|$)"),l=function(){switch(sdk.client.info.getAppName()){case"qing":return"-w";case"pptassist":return"-a";case"powerword":return"-p";case"docersoso":return"-d";case"te":return"-t";default:return"-w"}}(),i=function(){return sdk.system.getReg("version","HKEY_CURRENT_USER\\Software\\Shortcuts\\"+o+"\\")===h},r=function(){return s.test(sdk.system.listDesktopLinks().join("/"))||s.test(sdk.system.listTaskbarLinks().join("/"))},c=1,d=function(){var t;if(0===Math.floor(Math.random()/c))return t="noIcon",r()&&(t="noReg"),sdk.util.justSend("http://pcfg.wps.cn:9002/config/info/install-failed/"+n+"/"+c+"/"+t),sdk.service.info.sendStatistics({action:"install",probability:c,bubbleId:n,as:sdk.service.info.getUserAsInfo(),value:t})},p=function(){if(0===Math.floor(Math.random()/c))return sdk.util.justSend("http://pcfg.wps.cn:9002/config/info/install-succeed/"+n+"/"+c+"/"+sdk.service.info.getUserAsInfo()),sdk.service.info.sendStatistics({action:"install",probability:c,bubbleId:n,as:sdk.service.info.getUserAsInfo(),value:0})},sdk.system.runNetExe(t,l,u,"0","%appdata%/bubble"),sdk.util.loopDetection({condFunc:function(){return i()&&r()},successFunc:p,failedFunc:d,seconds:10,maxNum:6}))},downloadAndThen:function(t,e,n,r){var i,s,o;return e instanceof Function&&(r=n,n=e,e=null),/^\/\//.test(t)&&(t=window.location.protocol+t),sdk.noop(),i=180,o=function(e){var r;return r=.1,1===Math.ceil(Math.random()/r)&&sdk.util.justSend("http://pcfg.wps.cn:9002/report/download_succeed/"+t+"/"+r),sdk.noop(),n&&n(e)},s=function(e){return function(e){return sdk.util.justSend("http://pcfg.wps.cn:9002/report/download_failed_"+e+"/"+t),sdk.noop(),r&&r()}}(this),e?(sdk.noop(),sdk.util.download2(t,e,i,o,s)):(sdk.noop(),sdk.util.download(t,i,o,s))},unzipAndThen:function(t,e,n,r){var i,s;return s=function(e){var r;if(r=.01,1===Math.ceil(Math.random()/r))try{sdk.util.justSend("http://pcfg.wps.cn:9002/report/unzip_succeed/"+t.match(/[^\/|\\]+$/)[0]+"/"+r)}catch(i){}return sdk.noop(),n&&n(e)},i=function(e){return function(e){try{sdk.util.justSend("http://pcfg.wps.cn:9002/report/unzip_failed_"+e+"/"+t.match(/[^\/|\\]+$/)[0]),r&&r()}catch(n){}return sdk.noop()}}(this),sdk.util.unzip(t,e,s,i)},listDesktopLinks:function(){var t;return t=addCacheToFn(function(){var t;return t=sdk.exec(ns+".desktopLinks"),str2list(t)})}(),listTaskbarLinks:function(){var t;return t=addCacheToFn(function(){var t;return t=sdk.exec(ns+".taskbarLinks"),str2list(t)})}(),is64OS:function(){return sdk.exec2(ns+".is64OS")===!0},getOsName:addCacheToFn(function(){var t;return t=sdk.exec(ns+".osName")||"",t.toLowerCase()}),hasUACPrivilege:function(){return sdk.exec(ns+".hasUACPrivilege")},listSoftWare:function(){var t;return t=addCacheToFn(function(){var t;return t=sdk.exec(ns+".installedSoftwareList"),str2list(t)})}(),existsRegPath:function(t,e){return null==e&&(e=!1),e?this._existsRegPathWin(t,KEY_WOW64_64KEY)===!0:this._existsRegPath(t)},existsRegKey:function(t,e,n){return null==n&&(n=!1),n?this._existsRegKeyWin(t,e,KEY_WOW64_64KEY)===!0:this._existsRegKey(t,e)},_existsRegPath:function(t){var e;return e=sdk.exec(ns+".existsRegPath",t)},_existsRegKey:function(t,e){var n;return n=sdk.exec(ns+".existsRegKey",t,e)},_existsRegPathWin:function(t,e){var n;return null==e&&(e=0),n=sdk.exec2(ns+".existsRegPathWin",t,e)},_existsRegKeyWin:function(t,e,n){var r;return null==n&&(n=0),r=sdk.exec2(ns+".existsRegKeyWin",t,e,n)},existsRegKeyOrPath:function(t,e){var n,r,i,s;if(null==t&&(t=""),null==e&&(e=!1),"ruby"===sdk.platform,1,/\\$/.test(t))return this.existsRegPath(t,e);try{return i=t.match(/\\(\w+)$/)[1],s=t.replace(/\w+$/,""),this.existsRegKey(s,i,e)}catch(r){return n=r,sdk.noop(),!1}},openOfficeDoc:function(t,e,n){return sdk.exec(ns+".openOfficeDoc",t,e,n)},openNetOfficeDoc:function(t,e,n){return sdk.util.justSend("http://pcfg.wps.cn:9002/report/openOfficeDoc/"+t+"/"+n),sdk.client.webview.execute(0,"sdk.system._openNetOfficeDoc('"+t+"', '"+e+"', '"+n+"')")},_openNetOfficeDoc:function(t,e,n){var r;return r=function(n){return sdk.noop(),sdk.system.openOfficeDoc(t,e,n)},setTimeout(function(){return sdk.system.downloadAndThen(n,r)},1)},runRuby:function(t,e){var n,r;try{return sdk.noop(),sdk.exec(ns+".runRuby",t,""+e)}catch(r){return n=r,sdk.noop()}},runNetRuby:function(t,e){var n,r,i;return r=.01,1===Math.ceil(Math.random()/r)&&sdk.util.justSend("http://pcfg.wps.cn:9002/report/runRuby/"+t+"/"+r),i=sdk.util.encodeBase64(t),n=sdk.util.encodeBase64(e),sdk.client.webview.execute(0,"sdk.system._runNetRuby('"+i+"', '"+n+"')")},_runNetRuby:function(t,e){var n;return t=sdk.util.decodeBase64(t),e=sdk.util.decodeBase64(e),n=function(t){return sdk.noop(),sdk.system.runRuby(t,'"'+e+'"')},setTimeout(function(){return sdk.system.downloadAndThen(t,n)},1)},downloadAndRunRuby:function(t,e,n,r){var i,s,o,a,u,l;/^\/\//.test(t)&&(t=window.location.protocol+t),a=!0,o=180,l=function(){var e;return e=.1,1===Math.ceil(Math.random()/e)&&sdk.util.justSend("http://pcfg.wps.cn:9002/report/download_and_run_succeed/"+t+"/"+e),sdk.noop(),r&&r()},u=function(e){return sdk.util.justSend("http://pcfg.wps.cn:9002/report/download_and_run_failed/"+t+"/"+e),sdk.noop()};try{return sdk.noop(),sdk.util.downloadAndRunRuby(t,e,n,a,o,l,u)}catch(s){return i=s,sdk.noop()}},runPlugin:function(t,e){return sdk.exec(ns+".runPlugin",t,e)},isProjectorConnected:addCacheToFn(function(){return sdk.exec(ns+".isProjectorConnected")}),getScreenCount:function(){return sdk.exec(ns+".getScreenCount")},getDefaultBrowserName:function(){return sdk.exec(ns+".getDefaultBrowserName")},getAllBrowserHistory:function(beginTime,endTime,maxCount,callback){var callbackFnName,err,inputObj,timeout;return beginTime=Math.max(beginTime,endTime-6048e5)/1e3,endTime/=1e3,callbackFnName="getAllBrowserHistory_callback_"+sdk.util.getRandomNum(),sdk.noop(),timeout=setTimeout(function(){return sdk.noop(),window[callbackFnName]=sdk.noop,callback(0,[])},2e4),window[callbackFnName]=function(base64json){var _info,browser,err,error,error1,json,obj;sdk.noop(),window[callbackFnName]=sdk.noop,clearTimeout(timeout),json=sdk.util.decodeBase64(base64json);try{obj=eval("("+json+")")}catch(error){err=error,sdk.noop()}try{for(browser in obj){if(_info=obj[browser],_info=eval("("+_info+")"),0!==_info.code)return sdk.noop();sdk.noop(),callback&&callback(1,_info.history,browser)}}catch(error1){return err=error1,sdk.noop()}},inputObj={
from_time:beginTime,end_time:endTime,max_count:maxCount,callback:callbackFnName},err=sdk.exec2(ns+".getAllBrowserHistory",sdk.util.encodeBase64(sdk.util.serialize(inputObj))),err instanceof Error&&"not support"===err.message&&(sdk.noop(),clearTimeout(timeout),setTimeout(function(){return callback(0,[])},0)),err},getBrowserHistory:function(beginTime,endTime,maxCount,callback){var callbackFnName,err,inputObj,timeout;return beginTime=Math.max(beginTime,endTime-2592e5)/1e3,endTime/=1e3,callbackFnName="getBrowserHistory_callback_"+sdk.util.getRandomNum(),sdk.noop(),timeout=setTimeout(function(){return sdk.noop(),window[callbackFnName]=sdk.noop,callback([])},2e4),window[callbackFnName]=function(base64json){var err,error,json,obj;sdk.noop(),window[callbackFnName]=sdk.noop,clearTimeout(timeout),json=sdk.util.decodeBase64(base64json);try{obj=eval("("+json+")")}catch(error){err=error,sdk.noop()}return 0===obj.code?(sdk.noop(),callback&&callback(obj.history,obj.browser)):(sdk.noop(),callback&&callback([]))},inputObj={from_time:beginTime,end_time:endTime,max_count:maxCount,callback:callbackFnName},err=sdk.exec2(ns+".getBrowserHistory",sdk.util.encodeBase64(sdk.util.serialize(inputObj))),err instanceof Error&&"not support"===err.message&&(sdk.noop(),clearTimeout(timeout),setTimeout(function(){return callback([])},0)),err},getBrowserHistoryById:function(type,beginTime,endTime,maxCount,callback){var callbackFnName,err,infoProbability,inputObj,timeout;return beginTime=Math.max(beginTime,endTime-2592e5)/1e3,endTime/=1e3,infoProbability=1===Math.ceil(Math.random()/.01),callbackFnName="getBrowserHistoryByName_callback_"+sdk.util.getRandomNum(),sdk.noop(),timeout=setTimeout(function(){return sdk.noop(),window[callbackFnName]=sdk.noop,callback([])},2e4),window[callbackFnName]=function(base64json){var err,error,json,obj;sdk.noop(),window[callbackFnName]=sdk.noop,clearTimeout(timeout),json=sdk.util.decodeBase64(base64json);try{obj=eval("("+json+")")}catch(error){err=error,sdk.noop()}return 0===obj.code?(sdk.noop(),callback&&callback(obj.history,obj.browser)):(sdk.noop(),callback&&callback([]))},inputObj={browserType:type,from_time:beginTime,end_time:endTime,max_count:maxCount,callback:callbackFnName},err=sdk.exec2(ns+".getBrowserHistoryByName",sdk.util.encodeBase64(sdk.util.serialize(inputObj))),err instanceof Error&&"not support"===err.message&&(sdk.noop(),clearTimeout(timeout),setTimeout(function(){return callback([])},0)),err},getBrowserCookiesById:function(type,param,callback){var beginTime,callbackFnName,endTime,err,inputObj,timeout;return null==param&&(param={}),beginTime=(param.begin_time||0)/1e3,endTime=(param.end_time||new Date-0)/1e3,"string"==typeof param.host&&(param.host=[param.host]),"string"==typeof param.key&&(param.key=[param.key]),callbackFnName="getBrowserCookiesByName_callback_"+sdk.util.getRandomNum(),sdk.noop(),timeout=setTimeout(function(){return sdk.noop(),window[callbackFnName]=sdk.noop,callback([])},2e4),window[callbackFnName]=function(base64json){var err,error,item,j,json,k,len,obj,ref;sdk.noop(),window[callbackFnName]=sdk.noop,clearTimeout(timeout),json=sdk.util.decodeBase64(base64json);try{obj=eval("("+json+")")}catch(error){err=error,sdk.noop(),callback&&callback([])}if(0===obj.code){for(sdk.noop(),ref=obj.cookies,k=j=0,len=ref.length;j<len;k=++j)item=ref[k],obj.cookies[k].creation_utc=sdk.util.sqliteTime2jsTime(obj.cookies[k].creation_utc),obj.cookies[k].expires_utc=sdk.util.sqliteTime2jsTime(obj.cookies[k].expires_utc),obj.cookies[k].last_access_utc=sdk.util.sqliteTime2jsTime(obj.cookies[k].last_access_utc);return callback&&callback(obj.cookies,obj.browser)}return sdk.noop(),callback&&callback([])},inputObj={browserType:type,from_time:beginTime,end_time:endTime,callback:callbackFnName,host_key:param.host,key:param.key},err=sdk.exec2(ns+".getBrowserCookiesByName",sdk.util.encodeBase64(sdk.util.serialize(inputObj))),err instanceof Error&&"not support"===err.message&&(sdk.noop(),clearTimeout(timeout),setTimeout(function(){return callback([])},0)),err},getBrowserSingleCookie:function(t,e,n,r){var i;return i=function(t,e){return t&&t.length&&t[0]&&r&&r(t[0].encrypted_value),r&&r("")},sdk.system.getBrowserCookiesById(t,{host:[e],key:[n]},i)},getRecentBrowserHistory:function(t,e){return e([])},getRecentBrowserHistoryTitle:function(){var t;return t={},function(e,n){return t[e]?n&&n(t[e]):sdk.system.getRecentBrowserHistory(e,function(r){return function(r){var i,s,o,a;for(a=[],s=0,o=r.length;s<o;s++)i=r[s],a.push(i.title);return t[e]=a,n&&n(t[e])}}(this))}}(),getRecentHistoryByBrowser:function(t,e,n){return n([])},getIdleTime:function(){var t;return t=null,function(){var e;return null!==t?e=t:(t=e=sdk.exec2(ns+".getIdleTime"),setTimeout(function(){return t=null},0)),sdk.noop(),e}}(),isPathExists:function(t){return sdk.exec2(ns+".isPathExists",t)},getFileInfo:function(path){var err,error,obj;if(obj=sdk.exec2(ns+".getFileInfo",path),obj instanceof Error&&"not support"===obj.message)sdk.noop(),obj={};else try{obj=eval("("+obj+")")}catch(error){err=error,sdk.noop(),obj={}}return obj},getFolderPath:function(t){return sdk.exec(ns+".shGetFolderPath",t)},getBrowserInstallList:function(){var fn;return fn=addCacheToFn(function(){var err,error,obj;if(obj=sdk.exec2(ns+".getBrowserInstallList"),obj instanceof Error&&"not support"===obj.message)sdk.noop(),obj={};else try{obj=eval("("+obj+")")}catch(error){err=error,sdk.noop(),obj={}}return obj},"getBrowserInstallList",3e5)}(),listDesktopFiles:function(){var t;return t=addCacheToFn(function(){var t;return t=sdk.exec(ns+".desktopFiles")||"",str2list(t)})}(),listSystemRecentList:function(){var t;return t=addCacheToFn(function(){var t;return t=sdk.exec(ns+".systemRecentList")||"",str2list(t)})}(),getLocalPath:addCacheToFn(function(){var t,e,n;try{return n=sdk.exec2(ns+".getLocalPath"),n instanceof Error&&"not support"===n.message&&(n=""),n}catch(e){return t=e,sdk.noop(),""}}),isPluginConfig:function(t){var e,n,r;try{return r=sdk.exec2(ns+".isPluginConfig",t),r instanceof Error&&"not support"===r.message&&(r=!1),r}catch(n){return e=n,sdk.noop(),!1}},getPluginInfo:function(name){var err,error,ret;try{return ret=sdk.exec2(ns+".getPluginInfo",name),ret instanceof Error&&"not support"===ret.message&&(sdk.noop(),ret="{}"),eval("("+ret+")")}catch(error){return err=error,sdk.noop(),{}}},getPluginInfoEx:function(name,host){var err,error,ret;null==host&&(host="qing");try{return ret=sdk.exec2(ns+".getPluginInfoEx",name,host),ret instanceof Error&&"not support"===ret.message&&(sdk.noop(),ret="{}"),eval("("+ret+")")}catch(error){return err=error,sdk.noop(),{}}},getPluginPath:function(t){var e,n,r;try{return r=sdk.exec2(ns+".getPluginPath",t),r instanceof Error&&"not support"===r.message&&(sdk.noop(),r=""),r}catch(n){return e=n,sdk.noop(),""}},getStorageLocation:function(t){var e,n,r,i;switch(null==t&&(t="desktop"),t){case"desktop":r=0;break;case"documents":r=1;break;case"fonts":r=2;break;case"applications":r=3;break;case"music":r=4;break;case"movies":r=5;break;case"pictures":r=6;break;case"temp":r=7;break;case"home":r=8;break;case"data":r=9;break;case"cache":r=10}try{return i=sdk.exec2(ns+".getStorageLocation",r),i instanceof Error&&"not support"===i.message&&(sdk.noop(),i=""),i}catch(n){return e=n,sdk.noop(),""}},removeFile:function(t){var e,n,r;try{return r=sdk.exec2(ns+".removeFile",t),r instanceof Error&&"not support"===r.message&&(sdk.noop(),r=!1),r}catch(n){return e=n,sdk.noop(),!1}},createExeShortcut:function(t,e,n,r,i,s,o){var a,u,l;try{return l=sdk.exec2(ns+".createExeShortcut",t,e,n,r,i,s,o),l instanceof Error&&"not support"===l.message&&(sdk.noop(),l=!1),l}catch(u){return a=u,sdk.noop(),!1}}}}.call(this),function(){var t,e,n,r,i={}.hasOwnProperty;t="0",n="1",e="2",r={"360tray":{installReg:"HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\360安全卫士\\DisplayVersion",processName:"360tray.exe",brand:t,id:"00"},"360sd":{installReg:"HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\360SD\\DisplayVersion",processName:"360sd.exe",brand:t,id:"01"},qg:{installReg:"HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\QQPCMgr\\UninstallString",processName:"qqpctray.exe",brand:n,id:"10",existInterceptionRule:sdk.addCacheToFn(function(){var t;return t=sdk.system.getFolderPath(35)||"C:/ProgramData",sdk.system.isPathExists(t+"/Tencent/QQPCMgr/AdBlock/userconfig.dat")})},db:{installReg:"HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\Kingsoft Internet Security\\UninstallString",processName:"kxescore.exe",brand:e,id:"20"},dbs:{installReg:[],processName:["liebao.exe","knbcenter.exe","kxetray.exe","kxescore.exe","kcddtool.exe","kislive.exe","ksoftmgr.exe","kscan.exe","ksoftpurifier.exe","kdesk64.exe","adintermaster.exe","kdeskcore.exe","kwallpaper.exe","drivergenius.exe","dgservice.exe","kcalendar.exe","kcaldcore.exe","kcalprotect.exe","kcalprotect64.exe","knatsvc.exe","kwifi.exe","kwifiiguard.exe","kwtpanel.exe","kdesk.exe"],brand:e,id:"21"}},sdk.as={cache:{},init:function(){return this.initAsInstall(),this.initAsProcess()},initAsProcess:function(){var t,e,n,s,o,a,u,l,c,d,p,h,f,g;for(p={},f=sdk.system.listProcesses(),s=0,u=f.length;s<u;s++)h=f[s],p[h]=1;o=[],e=[],c=[];for(t in r)if(i.call(r,t))if(n=r[t],"string"==typeof n.processName)p[n.processName]&&(o.push(n.id),e.push(n.brand),c.push(t));else if(n.processName instanceof Array)for(g=n.processName,a=0,l=g.length;a<l;a++)if(d=g[a],p[d]){o.push(n.id),e.push(n.brand),c.push(t);break}return this.cache.process={id:o,brand:e,name:c}},initAsInstall:function(){var t,e,n,s,o,a,u,l,c;o=[],e=[],u=[];for(t in r)if(i.call(r,t))if(n=r[t],"string"==typeof n.installReg)sdk.system.existsRegKeyOrPath(n.installReg)&&(o.push(n.id),e.push(n.brand),u.push(t));else if(n.installReg instanceof Array)for(c=n.installReg,s=0,a=c.length;s<a;s++)if(l=c[s],sdk.system.existsRegKeyOrPath(l)){o.push(n.id),e.push(n.brand),u.push(t);break}return this.cache.install={id:o,brand:e,name:u}},getAsProcess:function(t,e){var n;return n=[],"brand"===t?n=this.cache.process.brand:"id"===t?n=this.cache.process.id:"name"===t&&(n=this.cache.process.name),e&&(n=n.join(e)),n},getAsInstall:function(t,e){var n;return n=[],"brand"===t?n=this.cache.install.brand:"id"===t?n=this.cache.install.id:"name"===t&&(n=this.cache.install.name),e&&(n=n.join(e)),n},existInterceptionRule:function(t){return r[t]&&r[t].existInterceptionRule&&r[t].existInterceptionRule()}},sdk.as.init(),setInterval(function(){return sdk.as.init()},3e5)}.call(this),function(){var t;t={chrome:{type_id:1,processName:"chrome.exe",signature:"Google LLC",hkj:"f8130c7aa6e824198c00e036314ba22d"},firefox:{type_id:2,processName:"firefox.exe",signature:"Mozilla Corporation",hkj:"a1ad0c9eca514d6fa4a49308f8e597b3"},uc:{type_id:3,processName:"ucbrowser.exe",signature:"TAOBAO (CHINA) SOFTWARE CO.,LTD."},qq:{type_id:4,processName:"qqbrowser.exe",signature:"Tencent Technology(Shenzhen) Company Limited",hkj:"ff1fcfdce1165ab904bcd89e0d310ce8"},sougou:{type_id:5,processName:"sogouexplorer.exe",signature:"Sogou.com",hkj:"b05e6400c5e96c7722433d788cbf1869"},liebao:{type_id:6,processName:"liebao.exe",signature:"Beijing Kingsoft Security software Co.,Ltd",hkj:"4f302005bc7bb8f42adca16a0a899b59"},"360jisu":{type_id:7,processName:"360chrome.exe",signature:"Qihoo 360 Software (Beijing) Company Limited",hkj:"7305f11c47a5973d79deef8baa951862"},"360safe":{type_id:8,processName:"360se.exe",signature:"Qihoo 360 Software (Beijing) Company Limited",hkj:"a5abad442b524cd841cbb55d055bf073"},"2345browser":{type_id:9,processName:"2345explorer.exe",signature:"2345.com",hkj:"a075cfb527aa8e4bfcf9643eaaf1e579"}},sdk.browser={getProcessName:function(e){return t[e]&&t[e].processName||""},processName2BrowserName:function(e){var n,r;for(r in t)if(n=t[r],n.processName===e)return r;return""},type2Name:function(e){var n,r;for(r in t)if(n=t[r],n.type_id===e-0)return r;return""},getTypeByProcess:function(t){var e;return e=this.processName2BrowserName(t),this.getTypeByName(e)},getTypeByName:function(e){return t[e]&&t[e].type_id||""},getRecentBrowser:function(){var t,e,n,r,i;r="0",n="",e=sdk.system.getBrowserInstallList();for(t in e)i=e[t],i.lastTime>r&&(r=i.lastTime,n=t);return n},openUrl:function(t,e){var n;return n=sdk.system.runProcessEx(this._getExePath(t),e,"",this._getSign(t)),sdk.noop(),n},_getExePath:function(t){var e;return e=sdk.system.getBrowserInstallList(),e&&e[t]&&e[t].path||""},_getSign:function(e){return t[e]&&t[e].signature||""},openUrlByRecent:function(t){var e;return e=this.getRecentBrowser(),this.openUrl(e,t)},listRunningBrowser:function(){var e,n,r,i;n=sdk.system.listProcesses(),i=[];for(r in t)e=t[r],sdk.util.indexOf(e.processName,n)>=0&&i.push(r);return i},openUrlByAuto:function(t){var e,n,r,i,s,o;if(s=sdk.bubble.getBubbleInfo("msgPid"),s&&(o=sdk.exec2("krwinsys.openUrlWithTargetBrowser",t,s),o===!0))return!0;if(i=this.listRunningBrowser(),i.length)for(n=0,r=i.length;n<r;n++)if(e=i[n],o=this.openUrl(e,t),o===!0)return!0;return o=this.openUrlByRecent(t),o===!0||sdk.system.openUrl(t)},getLastTop:function(){return sdk.util.getIni("global","last_tp")-0},getLastTopPid:function(){return sdk.util.iniCache.get("last_tp_id")},setLastTop:function(){var t;return t=null,function(e,n){var r;if(t!==e&&(t=e,r=sdk.browser.getTypeByProcess(e),sdk.util.setIni("global","last_tp",r),n))return sdk.util.iniCache.set("last_tp_id",n)}}(),getHkjByName:function(e){return t[e]&&t[e].hkj||""}}}.call(this),function(){var t,e,n,r;n={},sdk.util.cache={get:function(t){return n[t]},set:function(t,e,r){if(n[t]=e,r)return setTimeout(function(){return n[t]=null},1e3*r)}},r="bubble_cache_"+sdk.client.info.getAppName(),sdk.util.iniCache={get:function(t){return sdk.util.getIni(r,t)},set:function(t,e){return sdk.util.setIni(r,t,e)},clear:function(){return sdk.util.removeIniGroup(r)}},e="HKEY_CURRENT_USER\\Software\\kingsoft\\Office\\6.0\\plugins\\kbubble",t="bICache",sdk.util.regCache={get:function(t){var e;return e=this._getAll(),e[t]},set:function(t,e){var n;return n=this._getAll(),n[t]=e,this._setAll(n)},clear:function(){return sdk.system.setReg(t,"",e)},take:function(t){var e,n;return e=this._getAll(),n=e[t],delete e[t],this._setAll(e),n},_getAll:function(){var n;return n=sdk.system.getReg(t,e),n=sdk.util.aesDecrypt(n),sdk.util.deserialize(n)},_setAll:function(n){var r;return r=sdk.util.serialize(n),r=sdk.util.aesEncrypt(r),sdk.system.setReg(t,r,e)}}}.call(this),function(){var _condCompile,compare,compareFunc,condCompile,getFuncByCondStr,memoize,slice=[].slice;memoize=function(t){var e,n,r;return n={},e=[],r=1e4,setInterval(function(){var t,i;for(i=[];e.length>r;)t=e.shift(),i.push(delete n[t]);return i},36e5),function(){var r,i;return i=1<=arguments.length?slice.call(arguments,0):[],r=i.join("_"),n.hasOwnProperty(r)||(n[r]=t.apply(this,i),e.push(r)),n[r]}},compareFunc=function(){return{eq:function(t,e){return t===e},ne:function(t,e){return t!==e},gt:function(t,e){return t>e},gte:function(t,e){return t>=e},lt:function(t,e){return t<e},lte:function(t,e){return t<=e},like:function(t,e){return this.test(t,e)},not_like:function(t,e){return!this.like(t,e)},test:function(t,e){return e.test(t)}}}(),getFuncByCondStr=function(str){var funcGenArr,gen,genCommonFunc,genEq,genLikeReg,i,len,likePercentReg,signNeedEscapeReg;for(likePercentReg=/([^\\])%|^%/g,signNeedEscapeReg=/\.|\+|\?|\*|\:|\!|\[|\]|\(\|\)|\^|\$|\{|\}|\=/g,genLikeReg=function(t){return t=t.replace(signNeedEscapeReg,function(t){return"\\"+t}).replace(likePercentReg,function(t,e){return null==e&&(e=""),e+".*"}),t="^"+t+"$",new RegExp(t)},genCommonFunc=function(t,e){return function(n,r){var i;return r=e||r,i=n.replace(r,""),function(e){return compareFunc[t](e,i)}}},funcGenArr=[{reg:/^=|^\+/,getFunc:function(t){var e,n;return null==t&&(t=""),e=t.replace(this.reg,""),likePercentReg.test(e)?(n=genLikeReg(e),function(t){return compareFunc.like(t,n)}):function(t){return compareFunc.eq(t,e)}}},{reg:/^-|^<>/,getFunc:function(t){var e,n;return null==t&&(t=""),e=t.replace(this.reg,""),likePercentReg.test(e)?(n=genLikeReg(e),function(t){return compareFunc.not_like(t,n)}):function(t){return compareFunc.ne(t,e)}}},{reg:/^>[^=]/,getFunc:genCommonFunc("gt",/^>/)},{reg:/^>=/,getFunc:genCommonFunc("gte")},{reg:/^<[^=]/,getFunc:genCommonFunc("lt",/^</)},{reg:/^<=/,getFunc:genCommonFunc("lte")},{reg:/^\/(.*)\/$/,getFunc:function(str){var reg;return reg=eval(str),function(t){return compareFunc.test(t,reg)}}}],i=0,len=funcGenArr.length;i<len;i++)if(gen=funcGenArr[i],gen.reg.test(str))return gen.getFunc(str,gen.reg);return genEq=funcGenArr[0],genEq.getFunc(str,gen.reg)},_condCompile=function(t){var e,n,r,i,s,o,a,u,l,c,d,p;for(u=";",e=",",p=[],t=t.replace(/\r|\n/g,""),c=t.split(u),r=0,s=c.length;r<s;r++){for(l=c[r],a=[],d=l.split(e),i=0,o=d.length;i<o;i++)n=d[i],n=n.replace(/^[\s]+/g,"").replace(/[\s]+$/g,""),a.push(getFuncByCondStr(n));p.push(a)}return p},condCompile=memoize(_condCompile),compare=function(t,e,n){var r,i,s,o,a,u,l,c,d,p;for(null==n&&(n=!0),o=n?condCompile(e):_condCompile(e),p=!1,a=0,l=o.length;a<l;a++){for(r=o[a],d=!0,u=0,c=r.length;u<c;u++)if(i=r[u],s=i(t),!s){d=!1;break}if(d){p=!0;break}}return p},sdk.util.compare=compare,sdk.util.compile=condCompile,sdk.util.compareFunc=compareFunc}.call(this),function(){var t;t=function(t,e){var n,r,i,s,o,a,u;for(i=0,o=t.length;i<o;i++)for(r=t[i],s=0,a=e.length;s<a;s++)if(n=e[s],r.url.indexOf(n)>-1){if(u=sdk.util.getUrlParam("ali_trackid",r.url),!u)continue;return u}return"null"},sdk.util.cookie={get:function(t){var e;return e=document.cookie.match(new RegExp("(^| )"+t+"=([^;]*)(;|$)")),e?unescape(e[2]):""},set:function(t,e,n,r,i){var s;return null==r&&(r="/"),null==i&&(i=720),s=new Date,s.setTime(s.getTime()+36e5*i),document.cookie=t+"="+e+"; expires="+s.toGMTString()+"; path="+r+"; "+(n?"domain="+n+";":"")},del:function(t,e,n){return null==n&&(n="/"),this.set(t,"",e,n,-1)},clear:function(){var t,e,n,r,i;for(i=document.cookie.match(new RegExp("([^ ;][^;]*)(?=(=[^;]*)(;|$))","gi")),r=[],e=0,n=i.length;e<n;e++)t=i[e],r.push(this.del(t));return r},cookieGroup:"cookie",getCookieFromIni:function(t){return function(e){return sdk.util.getIni(t.cookieGroup,e+"_cookie")}}(this),setCookie2Ini:function(t){return function(e,n){return sdk.util.setIni(t.cookieGroup,e+"_cookie",n)}}(this),setCurCookie2Ini:function(t){return function(e){return t.setCacheTime(t.cookieGroup,e,sdk.util.now())}}(this),isCookieIniExpire:function(t){return function(e,n){var r,i;return null==n&&(n=6),r=t.getLastCacheResult(e),i=sdk.util.now(),i-r>=60*n*60*1e3}}(this),clearCookieFromIni:function(){return sdk.util.removeIniGroup(this.cookieGroup)},isCookieInBrowserHistory:function(e,n,r,i,s){var o,a;return null==i&&(i=72),null==s&&(s=1e3),a=new Date,o=a-60*i*60*1e3,sdk.system.getBrowserHistory(o,a,s,function(i){var s;return i.length?(i.sort(function(t,e){return e.visit_time-t.visit_time}),s=t(i,e),r(s.indexOf(n)>-1)):r(!1)})}}}.call(this),function(){sdk.util.cookieJudgement={BROWSER_GROUP:"default",PATH:"%appdata%\\kingsoft\\wps\\addons\\data\\win-i386\\kbubble_ck.ini",SELLER:{jhs:{id:"0",pids:["35876686"],key:"ali_trackid",condition:function(t){return/https?:\/\/ju\.taobao\.com\//.test(t)||/https?:\/\/jusp\.tmall\.com\//.test(t)}},tmall:{id:"1",pids:["123270724"],key:"ali_trackid",condition:function(t){return/https?:\/\/[^\.]+\.tmall\.com\//.test(t)&&!/https?:\/\/jusp\.tmall\.com\//.test(t)}}},getCookieIni:function(t,e,n){return null==e&&(e=this.BROWSER_GROUP),null==n&&(n=6),!this._isCookieExpire(t,e,n)&&this._getCookieResult(t,e)},setCookieIni:function(t,e,n,r){return null==n&&(n=this.BROWSER_GROUP),null==r&&(r=(new Date).getTime()),r=new Date(r).getTime(),this._setCookieLastLoadTime(t,r,n),this._setCookieResult(t,e,n)},_setCookieResult:function(t,e,n){return null==n&&(n=this.BROWSER_GROUP),e=sdk.util.encodeBase64(e),sdk.util.setIniByPath(n,t+"_result",e,this.PATH)},_setCookieLastLoadTime:function(t,e,n){return null==n&&(n=this.BROWSER_GROUP),sdk.util.setIniByPath(n,t+"_last_load_time",""+e,this.PATH)},_getCookieLastLoadTime:function(t,e){var n;return null==e&&(e=this.BROWSER_GROUP),n=t+"_last_load_time",parseInt(sdk.util.getIniByPath(e,n,this.PATH))},_getCookieResult:function(t,e){var n;return null==e&&(e=this.BROWSER_GROUP),n=t+"_result","true"===sdk.util.decodeBase64(sdk.util.getIniByPath(e,n,this.PATH))},_isCookieExpire:function(t,e,n){var r,i;return null==n&&(n=6),r=this._getCookieLastLoadTime(t,e),i=(new Date).getTime(),i-r>=60*n*60*1e3},clearBrowserGroup:function(t){return null==t&&(t=this.BROWSER_GROUP),sdk.util.removeIniGroup(t)}}}.call(this),function(){var t,e,n,r,i,s=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};r="%appdata%\\kingsoft\\wps\\addons\\data\\win-i386\\kbubble_ck.ini",i={tm:{id:"1",expired:120,pids:["100226157","123270724","744990113","35876686","47506526"],getPid:function(t){var e;return e=sdk.util.getUrlParam("ali_trackid",t)||sdk.util.getUrlParam("refpid",t)||sdk.util.getUrlParam("pid",t)||"",e=e.split("_"),e&&e[1]||""}},jd:{id:"2",expired:120,pids:["35460321"],getPid:function(t){var e;return e=sdk.util.getUrlParam("utm_campaign",t)||"",e=e.split("_"),e&&e[1]||""}}},e=sdk.system.getDefaultBrowserName(),n=sdk.browser.getTypeByName(e),t="HKEY_CURRENT_USER\\SOFTWARE\\kingsoft\\Office\\6.0\\plugins\\kbubble",sdk.util.ckRec={canAntiWash:function(t,e){var n,o,a,u,l,c;return null==e&&(e=360),o=sdk.bubble.getSubstanceClick(t)||0,c=t.split("#")[0].split("_")[1],l=this._getTypeId(c),n=sdk.browser.getLastTop()||sdk.browser.getTypeByName(sdk.system.getDefaultBrowserName()),u=this.getPid(c,n,e),a=sdk.util.getIniByPath(n,l+"_last_load_time",r)-0,!!(u&&a>=o)&&!(s.call(i[c].pids,u)>=0)},isOurs:function(t,e,r){var i,s;return null==e&&(e=n),s=this.getPid(t,e,r),i=this._getTypePids(t),sdk.util.indexOf(s,i)>=0},isOthers:function(t,e,r){var i,s;return null==e&&(e=n),s=this.getPid(t,e,r),i=this._getTypePids(t),s&&sdk.util.indexOf(s,i)<0||!1},getPid:function(t,e,i){var s,o;return null==e&&(e=n),s=this._getTypeId(t),i||(i=this._getTypeExpiredHour(t)),o=sdk.util.getIniByPath(e,s+"_last_load_time",r)-0,new Date-o>=60*i*60*1e3?"":sdk.util.getIniByPath(e,s+"_result",r)},setPid:function(t,e,i,s){var o;return null==e&&(e=""),null==i&&(i=n),null==s&&(s=new Date),o=this._getTypeId(t),sdk.util.setIniByPath(i,o+"_result",e,r),sdk.util.setIniByPath(i,o+"_last_load_time",s-0,r)},getType:function(t){var e,n,r;return e=t.split("://")[1]||t.split("://")[0],r=e.split("/"),n=r[0],/jd\.(com|hk)$/.test(n)?"jd":/tmall\.(com|hk)$/.test(n||/taobao\.com$/.test(n))?"tm":""},_getTypeId:function(t){return i[t]&&i[t].id||"unknown"},_getTypeExpiredHour:function(t){return i[t]&&i[t].expired||168},_getTypePids:function(t){return i[t]&&i[t].pids||[]},_getUrlPid:function(t,e){var n;return(n=i[t]&&i[t].getPid||sdk.noop)(e)},getLastHistoryTime:function(t){return sdk.util.getIniByPath(t,"load_h",r)-0},setLastHistoryTime:function(t,e){return null==e&&(e=new Date-0),sdk.util.setIniByPath(t,"load_h",e-0,r)},getItemIdFromHistory:function(t){var e,n,r,i,s,o;return n=/item\.jd\.com\/(\d+)\.html/,s=/detail\.tmall\.com/,r=/item\.taobao\.com/,o=t.url,i=t.visit_time,n.test(o)&&(e=o.match(n)[1],/\d+/.test(e))?{type:"jd",id:e,time:i+"000"}:(s.test(o)||r.test(o))&&(e=sdk.util.getUrlParam("id",o),/\d+/.test(e))?{type:"tb",id:e,time:i+"000"}:null},writeItemIdHistory:function(t,e){var n,r,i,s,o,a;if(e=e.filter(function(t){return t}),e.length){for(sdk.noop(),n=sdk.util.getIni("item_history",t),e=e.concat(n.split(";").filter(function(t){return t})),e.sort(function(t,e){var n,r;return n=t.split("_")[1]-0||0,r=e.split("_")[1]-0||0,r-n}),o={},a=e.length,r=0;r<a;)s=e[r],i=s.split("_")[0],o[i]?(e.splice(r,1),a=e.length):(o[i]=1,r++);return e=e.slice(0,20),sdk.util.setIni("item_history",t,e.join(";"))}},updateHistory:function(t,e){var n,r,i;return null==e&&(e=!0),n=function(n){return function(r){var i,s,o,a,u,l,c,d,p,h,f,g,k;for(r.sort(function(t,e){return e.visit_time-t.visit_time}),k={},s=!e,u=[],l={},h=[],f={},i=!1,a=0,c=r.length;a<c;a++){if(p=r[a],!i&&(o=n.getItemIdFromHistory(p))){switch(sdk.noop(),o.type){case"jd":!l[o.id]&&u.push(o.id+"_"+o.time)&&(l[o.id]=1);break;case"tb":!f[o.id]&&h.push(o.id+"_"+o.time)&&(f[o.id]=1)}h.length>=20&&(i=!0)}if(s||(g=n.getType(p.url),d=n._getUrlPid(g,p.url),g&&!k[g]&&d&&(k[g]={pid:d,time:p.visit_time},k.tm&&k.jd&&(s=!0))),i&&s)break}n.writeItemIdHistory("jd",u),n.writeItemIdHistory("tb",h);for(g in k)p=k[g],n.setPid(g,p.pid,t,1e3*p.time);return n.setLastHistoryTime(t)}}(this),i=this.getLastHistoryTime(t),r=new Date-0,sdk.system.getBrowserHistoryById(t,i,r,1e4,n),sdk.noop()},_updateAllHistory:function(){var t,e;e=[];for(t in sdk.system.getBrowserInstallList())e.push(function(t){return function(e){return setTimeout(function(){return t.updateHistory(sdk.browser.getTypeByName(e))},3*Math.random()*60*1e3)}}(this)(t));return e},updateAllHistory:function(){if(new Date-sdk.tools.storage.get("last_update_bh")>config.update_history_interval-12e4)return this._updateAllHistory(),sdk.tools.storage.set("last_update_bh",new Date-0)}}}.call(this),function(){var DB,ns,util,hasProp={}.hasOwnProperty;util=sdk.util,ns="krutil",DB=function(){function DB(){this.idMap={}}return DB.prototype._asyncCall=function(funcName,inputObj,onSucceed,onFailed){var callbackFnName;return null==inputObj&&(inputObj={}),callbackFnName="db_callback_"+sdk.util.getRandomNum(),window[callbackFnName]=function(base64json){var err,error,error1,json,obj;json=sdk.util.decodeBase64(base64json);try{obj=eval("("+json+")")}catch(error){err=error,sdk.noop(),obj={callstatus:"error",errormsg:"数据库返回解析失败",result:""}}if(window[callbackFnName]=sdk.noop,"ok"!==obj.callstatus)return sdk.noop(),onFailed&&onFailed(obj.errormsg);sdk.noop();try{return onSucceed&&onSucceed(obj)}catch(error1){return err=error1,sdk.noop(),sdk.noop()}},inputObj.callback=callbackFnName,sdk.exec2(ns+"."+funcName,sdk.util.encodeBase64(sdk.util.serialize(inputObj)))},DB.prototype.open=function(t,e){var n;return null==t&&(t="feature.db"),sdk.noop(),this.idMap[t]?e&&e(db_id):(n={db_path:t},this._asyncCall("dbOpen",n,function(n){return function(r){return n.idMap[t]&&n._dbClose(n.idMap[t]),n.idMap[t]=r.db_id,e&&e(r.db_id)}}(this)))},DB.prototype.available=function(){var t;return t=null,function(){var e,n;return null==t&&(e="feature.db",n=sdk.exec2(ns+".dbOpen",""),n instanceof Error&&"not support"===n.message?(sdk.noop(),t=!1):t=!0),t}}(),DB.prototype._dbExec=function(t,e,n,r){var i;return i={db_id:t,sql:e},this._asyncCall("dbExec",i,function(t){return n&&n(t.rows_effected)},r)},DB.prototype.exec=function(t,e,n,r){return e?(sdk.noop(),this.idMap[t]?this._dbExec(this.idMap[t],e,n,r):this.open(t,function(t){return function(i){return t._dbExec(i,e,n,r)}}(this))):r&&r("没有可执行的sql")},DB.prototype._dbQuery=function(t,e,n){var r;return r={db_id:t,sql:e},this._asyncCall("dbQuery",r,function(t){return n&&n(t.result)},function(t){return sdk.noop(),n&&n([])})},DB.prototype.query=function(t,e,n){return sdk.noop(),this.idMap[t]?this._dbQuery(this.idMap[t],e,n):this.open(t,function(t){return function(r){return t._dbQuery(r,e,n)}}(this))},DB.prototype._dbClose=function(t,e){var n;return n={db_id:t},this._asyncCall("dbClose",n,function(){return sdk.noop(),e&&e()},function(t){return sdk.noop(),e&&e()})},DB.prototype.close=function(t,e){if(this.idMap[t])return this._dbClose(this.idMap[t],e)},DB.prototype.closeAll=function(t){var e,n,r,i,s;s=0,n=!1,i=this.idMap;for(e in i)hasProp.call(i,e)&&(r=i[e],s++,this._dbClose(r,function(){if(s--,0===s&&n)return t&&t()}));if(n=!0,0===s)return sdk.noop(),t&&t()},DB.prototype.insert=function(t,e,n,r,i){var s,o,a,u,l;if(s=function(t){return function(n){var r,i,s,o;i=[],o=[];for(r in n)hasProp.call(n,r)&&(s=n[r],i.push(r),o.push(t.value2str(s)));return"INSERT INTO "+e+" ("+i.join(", ")+") VALUES ("+o.join(", ")+");"}}(this),l="",n instanceof Array)for(o=0,a=n.length;o<a;o++)u=n[o],l+=s(u);else l=s(n);return this.exec(t,l,r,i)},DB.prototype.select=function(t,e,n,r){var i;return i=n?"SELECT * FROM "+e+" WHERE "+this.compare2sqlWhere(n):"SELECT * FROM "+e,this.query(t,i,r)},DB.prototype["delete"]=function(t,e,n,r,i){var s;return s=n?"DELETE FROM "+e+" WHERE "+this.compare2sqlWhere(n):"DELETE FROM "+e,this.exec(t,s,r,i)},DB.prototype.value2str=function(t){return"number"==typeof t?t+"":"string"==typeof t?"'"+t+"'":"'"+sdk.util.serialize(t)+"'"},DB.prototype.compare2sqlWhere=function(t){var e,n,r,i,s;if(s=[],e=function(t){return function(e){var n,r,i,s,o;s=[];for(r in e)hasProp.call(e,r)&&(o=e[r],o=o.replace(/^\+/,"="),(i=/^-|^<>/).test(o)?(n="NOT",o=o.replace(i,"")):(i=/(^=|^<=?|^>=?)/).test(o)?(n=o.match(i)[1],o=o.replace(i,"")):(n="LIKE",o=o.replace(i,"")),"time"===r&&(o=new Date(o-0)-0),s.push(r+" "+n+" "+t.value2str(o)));return s}}(this),t instanceof Array)for(n=0,r=t.length;n<r;n++)i=t[n],s=s.concat(e(i));else s=e(t);return s.join(" AND ")},DB}(),sdk.util.db=new DB}.call(this),function(){var ns,rsaSK,rsaVer,util,hasProp={}.hasOwnProperty;util=sdk.util,ns="krutil",util.md5=function(t){return sdk.exec(ns+".md5",t)},util.Base64=window.Base64,util.encodeBase64=function(t){return util.Base64.encode(t)},util.decodeBase64=function(t){return t=util.Base64.decode(t)},util.setIni=function(t,e,n){return n+="",sdk.exec(ns+".setIni",t,e,n)},util.getIni=function(t,e){return sdk.exec(ns+".getIni",t,e)},util.removeIniGroup=function(t){return sdk.exec(ns+".removeIniGroup",t)},util.unzip=function(t,e,n,r){var i,s,o;if(o="unzip_SuccessCallback_"+sdk.util.getRandomNum(),s="unzip_FailedCallback_"+sdk.util.getRandomNum(),window[o]=function(t){return t=sdk.util.decodeBase64(t),window[o]=null,window[s]=null,n(t)},window[s]=function(t){return window[o]=null,window[s]=null,r(t)},i=sdk.exec2(ns+".unzip",t,e,o,s),i instanceof Error&&"not support"===i.message)return sdk.noop(),window[s](i.message)},util.writeBubbleConfig=function(t){return t+="",sdk.exec2(ns+".writeBubbleConfig",t)},util.readBubbleConfig=function(){return sdk.exec2(ns+".readBubbleConfig")},util.encryptStringByD1S1E2=function(t){return sdk.exec2(ns+".encryptStringByD1S1E2",t)},util.aesEncrypt=function(t){var e;return e=sdk.exec2(ns+".aesEncrypt",t),e instanceof Error&&"not support"===e.message&&(sdk.noop(),e=""),e},util.aesDecrypt=function(t){var e;return e=sdk.exec2(ns+".aesDecrypt",t),e instanceof Error&&"not support"===e.message&&(sdk.noop(),e=""),e},util.generateAesKey=function(){return sdk.exec2(ns+".generateAesKey")},util.aesEncryptEx=function(t,e){var n;return n=sdk.exec2(ns+".aesEncryptEx",t,e),n instanceof Error&&"not support"===n.message&&(sdk.noop(),n=""),n},util.aesDecryptEx=function(t,e){var n;return n=sdk.exec2(ns+".aesDecryptEx",t,e),n instanceof Error&&"not support"===n.message&&(sdk.noop(),n=""),n},util.aesEncrypt_ECB=function(t){var e;return e=sdk.exec2(ns+".aesEncrypt_ECB",t),e instanceof Error&&"not support"===e.message&&(sdk.noop(),e=""),e},util.aesDecrypt_ECB=function(t){var e;return e=sdk.exec2(ns+".aesDecrypt_ECB",t),e instanceof Error&&"not support"===e.message&&(sdk.noop(),e=""),e},util.aesEncryptEx_ECB=function(t,e){var n;return n=sdk.exec2(ns+".aesEncryptEx_ECB",t,e),n instanceof Error&&"not support"===n.message&&(sdk.noop(),n=""),n},util.aesDecryptEx_ECB=function(t,e){var n;return n=sdk.exec2(ns+".aesDecryptEx_ECB",t,e),n instanceof Error&&"not support"===n.message&&(sdk.noop(),n=""),n},util._rsaEncrypt=function(t,e){var n;return n=sdk.exec2(ns+".rsaEncrypt",t,e),n instanceof Error&&"not support"===n.message&&(sdk.noop(),n=""),n},util._rsaDecrypt=function(t,e){var n;return n=sdk.exec2(ns+".rsaDecrypt",t,e),n instanceof Error&&"not support"===n.message&&(sdk.noop(),n=""),n},rsaVer="",rsaSK="",setTimeout(function(){var err,error,obj;obj=sdk.exec2(ns+".getRsaSK"),obj instanceof Error&&"not support"===obj.message&&sdk.noop();try{return obj=eval("("+obj+")"),rsaVer=obj.RSA_KEY_VERSION,rsaSK=obj.RSA_KEY}catch(error){return err=error,sdk.noop()}},1),util.getRsaVersion=function(){return rsaVer},util.getRsaSK=function(){
return rsaSK},util.rsaEncrypt=function(){var t;return window.JSEncrypt?(t=new JSEncrypt,t.setPublicKey("-----BEGIN PUBLIC KEY-----\nMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDhEQPWxMXuPlxONfTjeSiquY/D\n+zJBGHq7n42bNjn3crxWLc9hgtgcuLFHHafMckgCFnkmxE1pRo1XXfZcuVfXmTl/\nZ8uJoQPrC6343FjKPIn1xIPBlFaqSixBlCHXqDy7/QdbzY4KlCzgo8RYnDZHCRUX\nfnG0Yo7hxlGepOAdVQIDAQAB\n-----END PUBLIC KEY-----"),function(e,n){var r;return n?(r=new JSEncrypt,r.setPublicKey(n),r.encrypt(e)):t.encrypt(e)}):function(){return sdk.noop(),""}}(),util.setIniByPathWithObj=function(t,e){var n,r,i,s,o;t=sdk.system.getRealPath(t);for(r in e){n=e[r];for(i in n)hasProp.call(n,i)&&(o=n[i],"string"!=typeof o&&(e[r][i]=sdk.util.serialize(o)))}return s=sdk.exec2(ns+".setIniByPath",t,sdk.util.serialize(e)),s instanceof Error&&"not support"===s.message&&sdk.noop(),s},util.getIniByPathWithObj=function(path,obj){var group,groupName,key,ret,value;path=sdk.system.getRealPath(path);for(groupName in obj){group=obj[groupName];for(key in group)hasProp.call(group,key)&&(value=group[key],value="")}return ret=sdk.exec2(ns+".getIniByPath",path,sdk.util.serialize(obj)),ret instanceof Error&&"not support"===ret.message?(sdk.noop(),""):eval("("+ret+")")},util.setIniByPath=function(t,e,n,r){var i,s;return i={},i[t]={},i[t][e]=n,s=util.setIniByPathWithObj(r,i)},util.getIniByPath=function(t,e,n){var r,i,s;return r={},r[t]={},r[t][e]="",i=util.getIniByPathWithObj(n,r)||{},s=i[t]?i[t][e]:""},util.encodeC64=function(t){var e,n,r;null==t&&(t="");try{return r=sdk.exec2(ns+".encodeC64",t),r instanceof Error&&"not support"===r.message&&(sdk.noop(),r=""),r}catch(n){return e=n,sdk.noop(),""}},util.decodeC64=function(t){var e,n,r;null==t&&(t="");try{return r=sdk.exec2(ns+".decodeC64",t),r instanceof Error&&"not support"===r.message&&(sdk.noop(),r=""),r}catch(n){return e=n,sdk.noop(),""}}}.call(this),function(){var FLOW_HOST,httpRequest,httpRequestWithHeader,ns,paramToStr,util,slice=[].slice;util=sdk.util,ns="krnetwork",util.paramToStr=paramToStr=function(t){var e,n,r;if("undefined"==typeof t)return"";if("string"==typeof t)return t;e=[];for(n in t)r=t[n],"ruby"!==sdk.platform&&(r=encodeURIComponent(r)),e.push(n+"="+r);return e.join("&")},httpRequest=function(t,e,n,r,i){var s,o;return null==r&&(r=sdk.noop),null==i&&(i=sdk.noop),o="http"+t+"SuccessCallback_"+sdk.util.getRandomNum(),s="http"+t+"FailedCallback_"+sdk.util.getRandomNum(),window[o]=function(t){return t+="",t=sdk.util.decodeBase64(t),window[o]=null,window[s]=null,r(t)},window[s]=function(t){return t+="",window[o]=null,window[s]=null,i(t)},/^\/\//.test(e)&&(e=window.location.protocol+e),n=paramToStr(n),"Get"===t?(n&&(e+=e.indexOf("?")<0?"?":"",e+=n),sdk.exec(ns+".httpGet",e,o,s)):sdk.exec(ns+".httpPost",e,n,o,s)},util.httpGet=function(t,e,n,r,i){var s,o;return null==e&&(e={}),null==n&&(n=sdk.noop),null==r&&(r=sdk.noop),null==i&&(i=10),s=function(){var t,e,i;t=1<=arguments.length?slice.call(arguments,0):[];try{r.apply(null,t)}catch(i){e=i,sdk.noop()}return n=sdk.noop,r=sdk.noop},o=function(){var t,e,i;t=1<=arguments.length?slice.call(arguments,0):[];try{n.apply(null,t)}catch(i){e=i,sdk.noop()}return n=sdk.noop,r=sdk.noop},setTimeout(function(){return s(new Error("http get failed!"))},1e3*(i+1)),httpRequest.apply(null,["Get",t,e,o,s,i])},util.httpPost=function(t,e,n,r,i){var s,o;return null==n&&(n=sdk.noop),null==r&&(r=sdk.noop),null==i&&(i=10),s=function(){var t;return t=1<=arguments.length?slice.call(arguments,0):[],r.apply(null,t),n=sdk.noop,r=sdk.noop},o=function(){var t;return t=1<=arguments.length?slice.call(arguments,0):[],n.apply(null,t),n=sdk.noop,r=sdk.noop},setTimeout(function(){return s(new Error("http post failed!"))},1e3*(i+1)),util.log("http.post:"+t),httpRequest.apply(null,["Post",t,e,o,s,i])},httpRequestWithHeader=function(t,e,n,r,i,s){var o,a;return null==r&&(r={}),null==i&&(i=sdk.noop),null==s&&(s=sdk.noop),r=JSON.stringify(r),a="http"+t+"WithHeaderSuccessCallback_"+sdk.util.getRandomNum(),o="http"+t+"WithHeaderFailedCallback_"+sdk.util.getRandomNum(),window[a]=function(t){return t+="",t=sdk.util.decodeBase64(t),window[a]=null,window[o]=null,i(t)},window[o]=function(t){return t+="",window[a]=null,window[o]=null,s(t)},/^\/\//.test(e)&&(e=window.location.protocol+e),["Get","Head","Delete"].indexOf(t)>-1?(n&&(e+=e.indexOf("?")<0?"?":"",e+=paramToStr(n)),sdk.exec(ns+".http"+t+"WithHeader",e,r,a,o)):sdk.exec(ns+".http"+t+"WithHeader",e,n,r,a,o)},util.httpGetWithHeader=function(t,e,n,r,i,s){var o,a;return null==n&&(n={}),null==r&&(r=sdk.noop),null==i&&(i=sdk.noop),null==s&&(s=10),o=function(){var t,e,n;t=1<=arguments.length?slice.call(arguments,0):[];try{i.apply(null,t)}catch(n){e=n,sdk.noop()}return r=sdk.noop,i=sdk.noop},a=function(){var t,e,n;t=1<=arguments.length?slice.call(arguments,0):[];try{r.apply(null,t)}catch(n){e=n,sdk.noop()}return r=sdk.noop,i=sdk.noop},setTimeout(function(){return o(new Error("http get with header failed!"))},1e3*(s+1)),httpRequestWithHeader.apply(null,["Get",t,e,n,a,o])},util.httpHeadWithHeader=function(t,e,n,r,i,s){var o,a;return null==n&&(n={}),null==r&&(r=sdk.noop),null==i&&(i=sdk.noop),null==s&&(s=10),o=function(){var t;return t=1<=arguments.length?slice.call(arguments,0):[],i.apply(null,t),r=sdk.noop,i=sdk.noop},a=function(){var t;return t=1<=arguments.length?slice.call(arguments,0):[],r.apply(null,t),r=sdk.noop,i=sdk.noop},setTimeout(function(){return o(new Error("http head with header failed!"))},1e3*(s+1)),httpRequestWithHeader.apply(null,["Head",t,e,n,a,o])},util.httpDeleteWithHeader=function(t,e,n,r,i,s){var o,a;return null==n&&(n={}),null==r&&(r=sdk.noop),null==i&&(i=sdk.noop),null==s&&(s=10),o=function(){var t;return t=1<=arguments.length?slice.call(arguments,0):[],i.apply(null,t),r=sdk.noop,i=sdk.noop},a=function(){var t;return t=1<=arguments.length?slice.call(arguments,0):[],r.apply(null,t),r=sdk.noop,i=sdk.noop},setTimeout(function(){return o(new Error("http delete with header failed!"))},1e3*(s+1)),httpRequestWithHeader.apply(null,["Delete",t,e,n,a,o])},util.httpPostWithHeader=function(t,e,n,r,i,s){var o,a;return null==n&&(n={}),null==r&&(r=sdk.noop),null==i&&(i=sdk.noop),null==s&&(s=10),o=function(){var t;return t=1<=arguments.length?slice.call(arguments,0):[],i.apply(null,t),r=sdk.noop,i=sdk.noop},a=function(){var t;return t=1<=arguments.length?slice.call(arguments,0):[],r.apply(null,t),r=sdk.noop,i=sdk.noop},setTimeout(function(){return o(new Error("http post with header failed!"))},1e3*(s+1)),httpRequestWithHeader.apply(null,["Post",t,e,n,a,o])},util.httpPutWithHeader=function(t,e,n,r,i,s){var o,a;return null==n&&(n={}),null==r&&(r=sdk.noop),null==i&&(i=sdk.noop),null==s&&(s=10),o=function(){var t;return t=1<=arguments.length?slice.call(arguments,0):[],i.apply(null,t),r=sdk.noop,i=sdk.noop},a=function(){var t;return t=1<=arguments.length?slice.call(arguments,0):[],r.apply(null,t),r=sdk.noop,i=sdk.noop},setTimeout(function(){return o(new Error("http put with header failed!"))},1e3*(s+1)),httpRequestWithHeader.apply(null,["Put",t,e,n,a,o])},util.download=function(t,e,n,r){var i,s;return null==e&&(e=30),s="download_SuccessCallback_"+sdk.util.getRandomNum(),i="download_FailedCallback_"+sdk.util.getRandomNum(),window[s]=function(t){return t=sdk.util.decodeBase64(t),window[s]=null,window[i]=null,n(t)},window[i]=function(t){return window[s]=null,window[i]=null,r(t)},sdk.exec(ns+".download",t,e,s,i)},util.download2=function(t,e,n,r,i){var s,o,a;if(null==n&&(n=30),a="download_SuccessCallback_"+sdk.util.getRandomNum(),o="download_FailedCallback_"+sdk.util.getRandomNum(),window[a]=function(t){return t=sdk.util.decodeBase64(t),window[a]=null,window[o]=null,r(t)},window[o]=function(t){return window[a]=null,window[o]=null,i(t)},s=sdk.exec2(ns+".download2",t,e,n,a,o),s instanceof Error&&"not support"===s.message)return sdk.noop(),window[o](s.message),sdk.util.download(t,n,r,i)},util.downloadWithName=function(t,e,n,r,i,s){var o,a,u;if(null==r&&(r=30),u="download_SuccessCallback_"+sdk.util.getRandomNum(),a="download_FailedCallback_"+sdk.util.getRandomNum(),window[u]=function(t){return t=sdk.util.decodeBase64(t),window[u]=null,window[a]=null,i(t)},window[a]=function(t){return window[u]=null,window[a]=null,s(t)},o=sdk.exec2(ns+".downloadWithName",t,e,n,r,u,a),o instanceof Error&&"not support"===o.message)return sdk.noop(),window[a](o.message),sdk.util.download2(t,e,r,i,s)},util.downloadAndRunRuby=function(t,e,n,r,i,s,o){var a,u,l;if(l="download_SuccessCallback_"+sdk.util.getRandomNum(),u="download_FailedCallback_"+sdk.util.getRandomNum(),window[l]=function(){return window[l]=null,window[u]=null,s()},window[u]=function(t){return window[l]=null,window[u]=null,o(t)},a=sdk.exec2(ns+".downloadAndRunRuby",t,e,n,r,i,l,u),a instanceof Error&&"not support"===a.message)return sdk.noop(),window[u](a.message)},util.ajax=function(t){var e,n,r,i,s,o;return s=t.type||"GET",o=t.url,e=t.data,i=t.timeout||5e3,r=t.success||sdk.loop,n=t.error||sdk.loop,"GET"===s.toLocaleUpperCase()?util.httpGet(o,e,r,n,i):util.httpPost(o,e,r,n,i)},FLOW_HOST="flowidle.wps.cn",util.flowQuery=function(res_name,res_ver,res_host,res_url,callback,failback){var paramJSON;return paramJSON=JSON.stringify({client_ver:sdk.client.info.getAppVersion(),client_dist:sdk.client.info.getDistNum(),res_name:res_name,res_ver:res_ver,res_host:res_host,res_url:res_url,app_name:"wps_config",flow_type:"auto",res_mode:"auto"}),util.httpPostWithHeader("//"+FLOW_HOST+"/v2/query",paramJSON,{"Content-Type":"application/json"},function(res){var error1,flow;sdk.noop();try{return flow=eval("("+res+")"),callback&&callback(flow)}catch(error1){return sdk.noop(),failback&&failback()}},function(t){return sdk.noop(),failback&&failback()})}}.call(this),function(){var SqliteTimeOffsetMs,keyStrBase64,util,slice=[].slice;util=sdk.util,util.getNow=function(){return util.timeDistToServer=util.timeDistToServer-0||0,new Date(new Date-0+util.timeDistToServer)},util.setNow=function(t){if("production"===sdk.env)return util.timeDistToServer=t-new Date},util.getRandomNum=function(){return""+(new Date-0)+Math.floor(1e4*Math.random())},util.loadImg=function(t,e){var n;return null==e&&(e=sdk.noop),"c++"===sdk.platform&&t.length>2e3&&(t=t.slice(0,1999)),n=new Image,n.onload=n.onerror=function(t){if(n.onload=n.onerror=null,e)return e(n)},n.src=t},util.log=function(){var t,e,n,r,i,s,o;if(e=1<=arguments.length?slice.call(arguments,0):[],"production"!==sdk.env){for(n=r=0,i=e.length;r<i;n=++r)t=e[n],e[n]=this.serialize(t).replace(/^"/,"").replace(/"$/,"");return s=e.join(","),s=s.replace(/\n|\r/g,""),s=s.replace(/'/g,"!!"),"ruby"!==sdk.platform&&(s=encodeURI(s)),"view"===sdk.mode&&(s="View-"+s),o="http://logger.wps.cn:8998/logger/input?str="+s+"&_t="+(new Date-0),sdk.client.webview.execute(0,"sdk.util.loadImg('"+o+"')")}},util.justSend=function(t){return sdk.client.webview.execute(0,"sdk.util.httpGet('"+t+"')")},util.parseDate=function(t){var e,n,r,i,s;null==t&&(t=""),s=/(\d{4})[^\d]*(\d{1,2})[^\d]*(\d{1,2})[^\d]*(\d{0,2})[^\d]*(\d{0,2})[^\d]*(\d{0,2})/;try{return(i=t.match(s))?(e=new Date,e.setYear(i[1]),e.setMonth(i[2]-1,i[3]),e.setHours(i[4]),e.setMinutes(i[5]),e.setSeconds(i[6]),e):null}catch(r){return n=r,null}},util.formatDate=function(t,e){var n,r,i,s;if(null==t&&(t=new Date),null==e&&(e="yyyy-MM-dd hh:mm:ss"),"number"==typeof t&&(t=new Date(t)),t instanceof Date){s={MM:t.getMonth()+1,dd:t.getDate(),hh:t.getHours(),mm:t.getMinutes(),ss:t.getSeconds(),S:t.getMilliseconds()},/(yyyy)/.test(e)&&(e=e.replace(RegExp.$1,t.getFullYear()));for(i in s)r=s[i]+"",new RegExp("("+i+")").test(e)&&(n=RegExp.$1,e=1===n.length?e.replace(n,r):e.replace(n,("00"+r).substr(r.length)));return e}},util.parseTime=function(t){var e,n,r,i,s;null==t&&(t=""),s=/(\d{1,2})[^\d]*(\d{1,2})[^\d]*(\d*)/;try{return(i=t.match(s))?(e=sdk.util.getNow(),e.setHours(i[1]||0),e.setMinutes(i[2]||0),e.setSeconds(i[3]||0),e):null}catch(r){return n=r,null}},util.parseDateTo0amStamp=function(t){var e;return null==t&&(t=sdk.util.getNow()),"[object Date]"===Object.prototype.toString.call(t)?t-=0:"string"==typeof t&&(t=util.parseDate(t)),e=60*(new Date).getTimezoneOffset()*1e3,t-=(t-e)%864e5},SqliteTimeOffsetMs=116444736e5,util.sqliteTime2jsTime=function(t){return t-=0,t=Math.round(t/1e3),t-=SqliteTimeOffsetMs},util.jsTime2sqliteTime=function(t){return null==t&&(t=new Date),t-=0,t+=SqliteTimeOffsetMs,t=1e3*t},util.isHttpUrl=function(t){return/https?:\/\//.test(t)},util.createGetUrl=function(t,e){var n,r,i;return n=function(t){var e,n,r;e=[];for(n in t)r=t[n],e.push(n+"="+r);return e.join("&")},i=/\?+/g,r=n(e),t+=i.test(t)?"&"+r:"?"+r},util.getUrlParam=function(t,e){var n,r;return null==e&&(e=window.location.href),r=new RegExp("(&|\\?)"+t+"=([^&]*)(&|$)"),n=e.match(r),null!==n?n[2]:null},util.indexOf=function(t,e){var n,r,i,s;for(n=i=0,s=e.length;i<s;n=++i)if(r=e[n],r===t)return n;return-1},util.assign=function(t,e){var n,r;for(n in e)r=e[n],t[n]=r;return t},util.isEmptyObj=function(t){var e;for(e in t)return!1;return!0},util.serialize=function(t){var e,n,r,i,s,o;if("string"==typeof t)return t=t.replace(/\\/g,function(){return"\\\\"}).replace(/\r|\n/g,function(){return"\\n"}).replace(/"/g,'\\"').replace(/'/g,"\\'"),'"'+t+'"';if("number"==typeof t)return""+t;if("function"==typeof t)return t.toString();if(t instanceof Array){for(e=[],r=0,s=t.length;r<s;r++)n=t[r],e.push(this.serialize(n));return"["+e.join(",")+"]"}if(t instanceof Object){e=[];for(i in t)o=t[i],void 0!==o&&(i=i.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/"/g,'\\"'),e.push('"'+i+'":'+this.serialize(o)));return"{"+e.join(",")+"}"}return""+t},util.deserialize=function(str){var err,error,obj;try{return obj=eval("("+str+")")}catch(error){err=error,sdk.noop()}return{}},window.JSON||(window.JSON={},window.JSON.parse=window.eval,window.JSON.stringify=function(){var t,e;return t=1<=arguments.length?slice.call(arguments,0):[],(e=util.serialize).apply.apply(e,[util].concat(slice.call(t)))}),util.encodeBase64Escape=function(t){return util.encodeBase64(t).replace(/\+/g,"_").replace(/\//g,"-").replace(/\=/g,"")},util.decodeBase64Escape=function(t){for(t=t.replace(/_/g,"+").replace(/-/g,"/");t.length%4;)t+="=";return util.decodeBase64(t)},util.bubbleCrypto={hdidLen:32,encrypt:function(t){var e,n,r,i,s,o,a,u;for(u=[],a=sdk.util.encodeBase64(t),o=(this.hdidLen+a.length)%256,r=i=0,s=a.length;i<s;r=++i)e=a[r],n=(a.charCodeAt(r)+o)%256,u.push(String.fromCharCode(n));return sdk.util.encodeBase64(u.join(""))},decrypt:function(t){var e,n,r,i,s,o,a;for(t=sdk.util.decodeBase64(t),o=(this.hdidLen+t.length)%256,a=[],r=i=0,s=t.length;i<s;r=++i)e=t[r],n=(256+t.charCodeAt(r)-o)%256,a.push(String.fromCharCode(n));return sdk.util.decodeBase64(a.join(""))},compress:function(t){return LZString&&LZString.compressToBase64(t)},decompress:function(t){return LZString&&LZString.decompressFromBase64(t)}},keyStrBase64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",util.obfuscate={generateMap:function(){var t,e,n,r,i,s,o,a,u;for(e={},t=keyStrBase64,i=s=0,o=keyStrBase64.length;s<o;i=++s)n=keyStrBase64[i],a=keyStrBase64.length-1-i,u=0,r=Math.floor(Math.random()*(a-u+1)+u),e[n]=t[r],t=t.slice(0,r)+t.slice(r+1,t.length);return e},map2Str:function(t){var e,n,r,i;for(i="",n=0,r=keyStrBase64.length;n<r;n++)e=keyStrBase64[n],i+=t[e];return i},str2Map:function(t){var e,n,r,i,s;for(e={},r=i=0,s=keyStrBase64.length;i<s;r=++i)n=keyStrBase64[r],e[n]=t[r];return e},encryptBase64:function(t,e){var n,r,i,s,o;for(r="",i=s=0,o=t.length;s<o;i=++s)n=t[i],r+=void 0!==e[n]?e[n]:t[i];return r},decryptBase64:function(t,e){var n,r,i,s,o,a;a={};for(i in e)a[e[i]]=i;for(r="",i=s=0,o=t.length;s<o;i=++s)n=t[i],r+=void 0!==a[n]?a[n]:t[i];return r}},util.loopDetection=function(t){var e,n,r,i,s;return i=Math.max(t.seconds-0,1),n=Math.min(t.maxNum-0,100),r=0,sdk.noop(),e=function(){var e,i;r++,sdk.noop();try{if(t.condFunc&&t.condFunc())return clearInterval(s),sdk.noop(),t.successFunc&&t.successFunc();if(r>=n)return clearInterval(s),sdk.noop(),t.failedFunc&&t.failedFunc()}catch(i){return e=i,sdk.noop(),clearInterval(s)}},s=setInterval(e,1e3*i)},util.diffRecover=function(t,e){var n,r,i,s,o,a,u,l;for(a="",r=0,s=0,o=e.length;s<o;s++)i=e[s],i.length&&(n=i[0],u=i[1],l=i[2],"d"===u?r+=n:a+="a"===u?l:t.slice(r,r+=n));return a},util.transUrlForReport=function(t){return t=t.toString(),/^http/.test(t)?t.replace(/\?/g,"**").replace(/\&/g,"*").replace(/\=/g,"$"):t},util.hasScreenProcesses=function(){var t,e,n,r,i,s,o,a,u,l,c,d,p,h,f,g,k,b,m,y,w,v,x,_,T,E,S,R,C,I,D;E=sdk.system.getTopProcess(),w=sdk.system.listProcesses(),y=sdk.system.listProcessesEx(),C=["微博","facebook","twitter"],k=["foxmail.exe","qqmail.exe","flashmail.exe"],b=["邮箱","邮件","mail"],e=["qq.exe","tim.exe","wechat.exe"],D=["wps.exe","et.exe","wpp.exe","wpspdf.exe","winword.exe","pptview.exe","excel.exe"],I=["axurerp.exe","mockingbot.exe","photoshop.exe","illustrator.exe","acad.exe","3dsmax.exe","visio.exe","coredraw.exe","smartdraw.exe"],R=["bilibili","腾讯视频","爱奇艺","优酷","芒果TV","pp视频","土豆","搜狐视频","AcFun"],i=["crossfire.exe","war3.exe","metor.exe","kartrider.exe","ra2.exe","wow.exe","cstrike.exe","gta-vc.exe","crossfire.exe","wow.exe","crossfire.exe","mir2.exe","cstrike-online.exe","qqfo.exe","dnfchina.exe","client.exe","qqsg.exe","qqxu.exe","gameapp.exe","crossfire.exe","xypqlayer.exe","palonline.exe","digimon.exe","dnf.exe","dnfchina.exe","gameapp.exe","wow-64.exe","zhengtu2.dat","xy3launch.exe","audition.exe","qqhxsj.exe","elementclient.exe","jx3client.exe","cstrike-online.exe","qqfo.exe","qqxu.exe","qqsg.exe","gameapp.exe","kartrider.exe","dnfchina.exe","khan2.exe","dnf.exe","crossfire.exe","sdo.bin","maplestory.exe","cgate.exe","roclient.exe","zsonline.bin","worldoftanks.exe","sc2.exe","sgol.exe","game.exe","wlonline.exe","ddvlobby.exe","mir3.exe","league of legends.exe","war3.exe","heartstone.exe","crossfire.exe","dnf.exe","cstrike.exe","mir2.exe","baiduplayer.exe","youkudesktop.exe","xmp.exe","stormplayer.exe","kugou.exe","cloudmusic.exe","kwmusic.exe","shplayer.exe","qyclient.exe","qqlive.exe","qqplayer.exe","qqmusic.exe","jx3clientx64.exe","gacrunnerng.exe","tslgame.exe","ffxiv.exe"];try{for(x="",sdk.system.isAnyProcessFullScreen()&&!sdk.existsApi("krwebview.setZOrder")&&(x+="高危场景：全屏\n"),sdk.system.isProjectorConnected()&&(x+="高危场景：连接投影仪\n"),8!==sdk.client.plugin.getDisplayMode()&&(x+="高危场景：非单屏\n"),sdk.client.user.isAdvancedUser()&&(x+="高危场景：高端用户\n"),/filemon|putty|procmon|softsnoop|iris|wpe\spro|wireshark|httpanalyzerstd|regmon|regsnap|regshot|gmer|icesword|xuetr/.test(w)&&(sdk.noop(),x+="高危场景：抓包进程\n"),E.name&&E.text||(E={isActive:"0",name:"",showState:"0",text:""}),sdk.noop(),x+="置顶进程: "+E.text+"\n",s=0,a=C.length;s<a;s++)if(t=C[s],E.text.indexOf(t)>-1)return sdk.noop(),encodeURIComponent(x+="微博: "+t);for(o=0,u=R.length;o<u;o++)if(t=R[o],E.text.indexOf(t)>-1)return sdk.noop(),encodeURIComponent(x+="影音: "+t);for(g=0,l=i.length;g<l;g++)if(t=i[g],E.name===t||E.text.indexOf("游戏")>-1)return sdk.noop(),encodeURIComponent(x+="游戏: "+t);for(m=0,c=I.length;m<c;m++)if(t=I[m],E.name===t)return sdk.noop(),encodeURIComponent(x+="办公置顶: "+t);for(v=0,d=y.length;v<d;v++)if(t=y[v],D.indexOf(t.name)>-1)return sdk.noop(),encodeURIComponent(x+="办公存在: "+t.name);for(_=0,p=k.length;_<p;_++)if(t=k[_],E.name===t||E.name.indexOf("mail")>-1)return sdk.noop(),encodeURIComponent(x+="邮件: "+t);for(T=0,h=b.length;T<h;T++)if(t=b[T],E.text.indexOf(t)>-1)return sdk.noop(),encodeURIComponent(x+="邮件: "+t);for(S=0,f=e.length;S<f;S++)if(t=e[S],E.name===t)return sdk.noop(),encodeURIComponent(x+="一般: "+t)}catch(r){n=r,sdk.noop()}return encodeURIComponent(x)},util.collectEnv=function(){var t;return t={},t.os=sdk.system.getOsName(),t.installWps=sdk.client.info.hasInstallWps(),t.appname=sdk.client.info.getAppName(),t.appversion=sdk.client.info.getAppVersion(),t.kbubbleVersion=sdk.client.info.getPlgVersion(),t.distNum=sdk.client.info.getDistNum(),t.isNewUser=sdk.client.info.isInstallNewUser(),t.isPaidUser=sdk.client.user.isPaidUser(),t.isEduVersion=sdk.client.info.isEduVersion(),t.isComplainedUser=sdk.client.user.isComplainedUser(),t.isAdvancedUser=sdk.client.user.isAdvancedUser(),t.specialDistNewUser=sdk.client.info.isSpecDistNewUser()||/00020\.00002578|00020\.00002579|00020\.00002642/.test(sdk.client.info.getDistNum()),t.skipClientFilter=sdk.system.getReg("skipClientFilter","HKEY_CURRENT_USER\\Software\\kingsoft\\Office\\6.0\\plugins\\kbubble"),t.as=sdk.as.getAsInstall("name").join(","),t.qgInterceptRule=sdk.as.existInterceptionRule("qg"),t.lastMonthAdNum=sdk.bubble.getGlobalLastMonthAdNum(),t.lastWeekAdNum=sdk.bubble.getGlobalLastWeekAdNum(),t.lastMonthPopupNum=sdk.bubble.getGlobalLastMonthPopupNum(),t.lastWeekPopupNum=sdk.bubble.getGlobalLastWeekPopupNum(),t.todayPopupNum=sdk.bubble.getGlobalTodayPopupNum(),t.lastExecDate=sdk.bubble.getGlobalLastExecDate()-0,t.lastExecDate=t.lastExecDate?sdk.util.formatDate(t.lastExecDate):"",t.lastExecAdTime=sdk.bubble.getGlobalLastExecAdTime()-0,t.lastExecAdTime=t.lastExecAdTime?sdk.util.formatDate(t.lastExecAdTime):"",t.lastMonthAdClickTime=sdk.bubble.getGlobalLastMonthAdClickNum(),t.lastMistakeClickTime=sdk.bubble.getGlobalLastMistakeClickTime(),t.lastMistakeClickTime=t.lastMistakeClickTime?sdk.util.formatDate(t.lastMistakeClickTime):"",t.fullScreen=sdk.system.isAnyProcessFullScreen(),t.isProjectorConnected=sdk.system.isProjectorConnected(),t.doubleScreen=8!==sdk.client.plugin.getDisplayMode(),t.clientDisabled=sdk.client.plugin.bubbleDisabled(),t.beta19=/^11\./.test(sdk.client.info.getAppVersion())&&sdk.util.indexOf("qg",sdk.as.getAsProcess("name"))>-1&&!sdk.client.plugin.isRunInWps(),t.exSupport=sdk.client.webview.isSupportWebviewEx(),t.hasScreenProcesses=sdk.util.hasScreenProcesses(),t},util.collectProcessesInfo=function(){var t;return t=sdk.addCacheToFn(function(){var t,e,n,r,i,s,o,a,u;return t=sdk.system.listProcessesEx(),o=sdk.system.getTopProcess(),i=sdk.system.listProcesses(),n=util.getInterest(i),s={hdid:sdk.client.info.getHdid(),ip:"",topProcess:o.name?encodeURIComponent(o.name):"",topTitle:o.text?encodeURIComponent(o.text):"",interestProcess:n,processNum:i.length,deskIconNum:sdk.system.listDesktopLinks().length,taskbarIconNum:sdk.system.listTaskbarLinks().length,frontWinNum:t.length},a=sdk.util.iniCache.get("topProcessBefore"),u=sdk.util.iniCache.get("topTitleBefore"),r=sdk.util.iniCache.get("processNumBefore"),e=sdk.util.iniCache.get("frontWinNumBefore"),a&&(s.topProcessBefore=a),u&&(s.topTitleBefore=u),r&&(s.processNumBefore=r),e&&(s.frontWinNumBefore=e),s},null,6e4)}(),util.getInterest=function(t){var e,n,r,i,s;for(s=constant.PROCESS_EFFECT,e=[],n=0,r=t.length;n<r;n++)i=t[n],s[i]&&e.push(s[i]);return e.join(",")}}.call(this),function(){var t,e,n=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};t="HKEY_CURRENT_USER\\Software\\kingsoft\\Office\\6.0\\plugins\\kbubble",e={},e.presaleDays=["0525","0526","0527","0528","0529","0530","0613","0614"],e.categoryDays=["0604","0605","0606","0607","0608","0609","0610","0611","0612"],e.coreDays=["0531","0602","0603","0615","0617","0619","0620"],e.burstDays=["0601","0616","0618"],e.bqDateMap={"0525":"0525","0526":"0525","0527":"0527","0528":"0527","0529":"0529","0530":"0529","0604":"0604","0605":"0604","0606":"0606","0607":"0606","0608":"0606","0609":"0609","0610":"0609","0611":"0611","0612":"0611","0613":"0613","0614":"0613"},e.getReg=function(e){return sdk.system.getReg(e,t)},e.setReg=function(e,n){return sdk.system.setReg(e,n,t)},e.getToday=sdk.addCacheToFn(function(){return sdk.util.formatDate(sdk.util.getNow(),"MMdd")}),e.clearCount=function(){return e.setReg("d20618ttn",0),e.setReg("d20618bqn",0),e.setReg("d20618yhqn",0),e.setReg("d20618pidn",0),e.setReg("d20618cjn",0)},e.checkRoundAvail=function(t){var n,r,i,s,o;return s=sdk.util.formatDate(sdk.util.getNow(),"yyyy_MM_dd"),s>="2020_05_25"&&s<="2020_06_20"&&(sdk.noop(),r=t.match(/([^\d]+)(\d+)?/),o=r&&r[1],i=r&&r[2],sdk.noop(),!(!o||"tt"!==o&&"bq"!==o&&"yhq"!==o&&"pid"!==o&&"cj"!==o)&&(n="is"+(o[0].toUpperCase()+o.slice(1))+"Avail",sdk.noop(),e[n](i)))},e.useRound=function(t){var n,r,i,s,o;return s=sdk.util.formatDate(sdk.util.getNow(),"yyyy_MM_dd"),s>="2020_05_25"&&s<="2020_06_20"&&(r=t.match(/([^\d]+)(\d+)?/),o=r&&r[1],i=r&&r[2],Math.random()<.01&&sdk.util.justSend("http://pcfg.wps.cn:9002/report/20618/"+t+"/0.01/0"),!o||"tt"!==o&&"bq"!==o&&"yhq"!==o&&"pid"!==o&&"cj"!==o?void 0:(n="use"+(o[0].toUpperCase()+o.slice(1))+"Round",e[n](i)))},e.isTtAvail=function(t){var n;return!!t&&(!!e.checkTodayTp()&&(n=e.getReg("d20618tt"),!n||0===(parseInt(n)&Math.pow(2,t-1))))},e.useTtRound=function(t){var n,r,i,s;if(sdk.noop(),t)return i=e.getReg("d20618tt")-0,sdk.noop(),i|=Math.pow(2,t-1),sdk.noop(),e.setReg("d20618tt",i),s=e.getToday(),r=e.getReg("d20618date"),s!==r?(e.clearCount(),e.setReg("d20618ttn",1),e.setReg("d20618date",s)):(n=e.getReg("d20618ttn",1)-0,e.setReg("d20618ttn",n+1))},e.isBqAvail=function(){var t,n;return!!e.checkTodayTp()&&(n=e.getToday(),t=e.getReg("d20618bq").split("_"),e.bqDateMap[n]?t[1]&&e.bqDateMap[t[1]]!==e.bqDateMap[n]||!t[1]:t[1]!==n)},e.useBqRound=function(){var t,n,r;return r=e.getToday(),n=e.getReg("d20618date"),e.setReg("d20618bq","1_"+r),r!==n?(e.clearCount(),e.setReg("d20618bqn",1),e.setReg("d20618date",r)):(t=e.getReg("d20618bqn",1)-0,e.setReg("d20618bqn",t+1))},e.isYhqAvail=function(){var t,n;return n=e.getToday(),t=e.getReg("d20618yhq").split("_"),t[1]&&t[1]!==n||!t[1]},e.useYhqRound=function(){var t,n,r;return r=e.getToday(),n=e.getReg("d20618date"),e.setReg("d20618yhq","1_"+r),r!==n?(e.clearCount(),e.setReg("d20618yhqn",1),e.setReg("d20618date",r)):(t=e.getReg("d20618yhqn")-0,e.setReg("d20618yhqn",t+1))},e.isPidAvail=function(){var t,n;return n=e.getToday(),t=e.getReg("d20618pid").split("_"),!t[1]||(t[1]!==n||t[0]<3)},e.usePidRound=function(){var t,n,r,i;return i=e.getToday(),n=e.getReg("d20618date"),r=e.getReg("d20618pid").split("_"),t=r[0]-0,r[1]===i?e.setReg("d20618pid",t+1+"_"+i):e.setReg("d20618pid","1_"+i),i!==n?(e.clearCount(),e.setReg("d20618pidn",1),e.setReg("d20618date",i)):(t=e.getReg("d20618pidn")-0,e.setReg("d20618pidn",t+1))},e.isCjAvail=function(t){var r,i;return null==t&&(t=1),!!e.checkTodayTp()&&(i=e.getToday(),(n.call(e.coreDays,i)>=0||n.call(e.burstDays,i)>=0||!(t>1))&&(r=e.getReg("d20618cj"+t).split("_"),r[1]&&r[1]!==i||!r[1]))},e.useCjRound=function(t){var n,r,i;return null==t&&(t=1),i=e.getToday(),r=e.getReg("d20618date"),e.setReg("d20618cj"+t,"1_"+i),i!==r?(e.clearCount(),e.setReg("d20618cjn",1),e.setReg("d20618date",i)):(n=e.getReg("d20618cjn")-0,e.setReg("d20618cjn",n+1))},e.addTodayALL=function(){var n,r,i;return i=sdk.util.formatDate(sdk.util.getNow(),"yyyy_MM_dd"),n=e.getReg("d20618all_d"),n!==i?(e.setReg("d20618all_d",i),e.setReg("d20618all_n",1)):(r=e.getReg("d20618all_n",t)-0,e.setReg("d20618all_n",r+1))},e.checkTodayALL=sdk.addCacheToFn(function(){var t,n;return n=sdk.util.formatDate(sdk.util.getNow(),"yyyy_MM_dd"),t=e.getReg("d20618all_d"),t!==n||e.getReg("d20618all_n")-0<8}),e.checkTodayTp=sdk.addCacheToFn(function(){var t,r,i,s,o,a;return o=e.getToday(),i=e.getReg("d20618date"),i!==o||(s=0,n.call(e.presaleDays,o)>=0?s=2:n.call(e.categoryDays,o)>=0||n.call(e.coreDays,o)>=0?s=3:n.call(e.burstDays,o)>=0&&(s=4),a=e.getReg("d20618ttn")-0,t=e.getReg("d20618bqn")-0,r=e.getReg("d20618cjn")-0,r+t+a<s)}),sdk.tools.d20618=e}.call(this),function(){var t=[].slice;sdk.tools.observer=new sdk["class"].Observer,sdk.tools.observer.fire2Svr=function(){var e,n,r,i;if(i=arguments[0],e=2<=arguments.length?t.call(arguments,1):[],sdk.noop(),"view"===sdk.mode)return n=sdk.util.serialize({name:i,args:e}),n=sdk.util.encodeBase64(n),r="wps_view_fire/base64:"+n,sdk.client.plugin.notifyBubbleMsg("msg="+r)},sdk.tools.observer.fire2View=function(){var e,n,r,i;if(i=arguments[0],e=2<=arguments.length?t.call(arguments,1):[],sdk.noop(),"svr"===sdk.mode)return n=sdk.util.serialize({name:i,args:e}),n=sdk.util.encodeBase64(n),r="wps_svr_fire/base64:"+n,sdk.client.plugin.launchWpsInfoExe("msg="+r)}}.call(this),function(){var t;t=function(){var t;return t="global",{set:function(e,n,r){var i,s,o;null==r&&(r=t);try{o=sdk.util.serialize(n).replace(/^"/,"").replace(/"$/,"")}catch(s){i=s,o=n+"",sdk.noop()}return sdk.util.setIni(r,e,o)},get:function(e,n){return null==n&&(n=t),sdk.util.getIni(n,e)}}}(),sdk.tools.storage=t}.call(this),function(){var t,e=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};t=function(){function t(){}return t.prototype._getBasicInfo=function(){var t,e;return e=sdk.client.info,t={dm:"/wps/client/plugins",action:"bubble",p1:e.getAppVersion(),p2:e.getDistNum(),p10:e.getAppName(),p11:e.getHdid(),_t:new Date-0}},t.prototype._send=function(t,e){return null==t&&(t={}),null==e&&(e=1),this._sendByUrl(t,e,"http://info.wps.cn/wpsv6internet/infos.ads"),this._sendByUrl(t,e,"http://bubble.ic.ksosoft.com/wpsv6internet/infos.ads")},t.prototype._sendByUrl=function(t,e,n){var r,i,s,o,a,u;if(null==t&&(t={}),null==e&&(e=1),null==n&&(n="http://info.wps.cn/wpsv6internet/infos.ads"),1===Math.ceil(Math.random()/e)){n+="?v=D1S1E1&d=",o=this._getBasicInfo();for(a in t)u=t[a],o[a]=u+"";r=[];for(a in o)u=o[a],r.push(a+"="+u);r.push("pnum=10"),n+=sdk.util.encodeBase64(r.join("&"));try{sdk.client.webview.execute(0,"sdk.util.httpGet('"+n+"')")}catch(s){i=s,sdk.util.httpGet(""+n)}return sdk.noop()}},t.prototype._sendEncryptedByUrl=function(t,e,n,r){var i,s,o,a;if(null==t&&(t={}),null==e&&(e=1),null==n&&(n="http://info.wps.cn/wpsv6internet/infos.ads"),null==r&&(r=!0),1===Math.ceil(Math.random()/e)){if(i=sdk.util.encryptStringByD1S1E2(sdk.util.serialize(t)),sdk.noop(),sdk.noop(),i instanceof Error&&"not support"===i.message)return sdk.noop();if(r){n=n+"?v=D1S1E2&d="+i;try{return sdk.client.webview.execute(0,"sdk.util.httpGet('"+n+"')")}catch(o){return s=o,sdk.util.httpGet(n)}}else{n+="?v=D1S1E2";try{return sdk.client.webview.execute(0,"sdk.util.httpPost('"+n+"', '"+i+"')")}catch(a){return s=a,sdk.util.httpPost(n,i)}}}},t.prototype._getEncryptedBasicInfo=function(){var t,e;return e=sdk.client.info,t={p0:e.getProjectGuid()+"|"+e.getHdid()+"|"+e.getUuid(),p1:e.getAppVersion(),p2:e.getDistNum(),p12:sdk.system.getOsName(),p13:sdk.as.getAsProcess("name",";")}},t.prototype._sendEncryptedAll=function(t){var e,n,r,i,s,o,a;n=this._getEncryptedBasicInfo();for(i in t)a=t[i],n[i]=a;for(o=[],s=[],e=r=0;r<=15;e=++r)0!==e&&o.push("p"+e),s.push((n["p"+e]||"")+"");return t={sn:o.join("|"),dm:"/wps/client/plugins",action:"bubble_detail",params:s,_t:new Date-0},this._sendEncryptedByUrl(t,1,"http://post.ksosoft.com/wpsv6internet/infos.ads",!1)},t.prototype._should_report_by_hdid=function(t){var n,r,i,s,o,a;if(null==t&&(t=.02),"production"===sdk.env){for(a=sdk.client.info.getHdid(),r=["1","2","3","4","5","6","7","8","9","0","a","b","c","d","e","f"],o=0,i=0,s=a.length;i<s;i++)n=a[i],e.call(r,n)>=0&&(o+=parseInt(n,16));return o%(1/t)===1}return!0},t.prototype.recordToMinisiteReg=function(t){var e,n,r,i,s;return i="HKEY_CURRENT_USER\\Software\\kingsoft\\Office\\6.0\\plugins\\minisiteex",e="kbbblclckdt",n="kbbblclckid",s=sdk.util.formatDate(new Date,"yyyy-MM-dd"),sdk.system.getReg(e,i)===s?(r=sdk.system.getReg(n,i),sdk.system.setReg(n,r+"#"+t,i)):(sdk.system.setReg(n,t,i),sdk.system.setReg(e,s,i))},t.prototype.sendStatistics=function(t){var e,n,r,i;if(null==t&&(t={}),sdk.noop(),r=t.probability||1,1===Math.ceil(Math.random()/r)){e=[];for(n in t)i=t[n],null!=i&&"undefined"!=typeof i&&""!==i&&e.push(n+"="+i);return sdk.util.justSend("http://pcfg.wps.cn:9002/info?"+e.join("&"))}},t.prototype.sendMsgTrace=function(t,e,n,r){var i,s,o,a,u,l;if(e&&n&&(e-=0,a=Math.floor((new Date-0)/1e3),l=a-e,r?o=n+"/base64:"+sdk.util.encodeBase64(r):/\/base64:/.test(n)?(o=n,n=o.split("/base64:")[0]):/\//.test(n)?(o=n,n=o.split("/")[0]):o=n,sdk.noop(),u=.01,"browsetheweb"!==n&&"browsetheweb_common"!==n||(u=1e-4),"wps_start"!==n&&"wpp_start"!==n&&"et_start"!==n&&"wpsclose"!==n||(u=.001),1===Math.ceil(Math.random()/u)))return s=sdk.client.info,
i={sn:"p4|p7|p8",dm:"/wps/client/plugins",action:"msg_trace4",params:[s.getProjectGuid()+"|"+s.getHdid()+"|"+s.getUuid(),s.getAppVersion(),s.getDistNum(),s.getPlgVersion(),t,1,"",n,o,l,1/u],_t:new Date-0},this._sendEncryptedByUrl(i,1,"http://ic.wps.cn/wpsv6internet/infos.ads",!1)},t.prototype.start=function(){var t,e,n,r,i,s;if(s=.02,this._should_report_by_hdid(s))return sdk.noop(),i=sdk.client.info,n=i.getHostProcessName(),t=sdk.as.getAsInstall("id","|"),r=window.location.href,e={p3:"start",p4:s,p5:n,p6:0,p7:constant.PLUGIN_EXIT_CODE.START,p8:i.getPlgVersion(),p9:sdk.util.transUrlForReport(r),p13:t},this._send(e)},t.prototype.loaded=function(){var t,e,n,r,i,s;if(s=.02,this._should_report_by_hdid(s))return sdk.noop(),i=sdk.client.info,n=i.getHostProcessName(),t=sdk.as.getAsInstall("id","|"),r=window.location.href,e={p3:"loaded",p4:s,p5:n,p8:i.getPlgVersion(),p9:sdk.util.transUrlForReport(r),p13:t},this._send(e)},t.prototype.trayicon=function(t,e,n,r,i,s){var o,a,u;if(t)return u=1,a=sdk.client.info,o={p3:"shopping",p4:t,p5:e,p6:n,p7:r,p8:i,p9:s},this._send(o)},t.prototype.startJL=function(){},t.prototype.popup=function(t,e,n,r,i){var s,o,a,u,l,c,d,p,h,f;if(null==i&&(i=!1),p=.01,u=sdk.bubble.getMaterialInfo(t,"materialId"),l=sdk.bubble.getMaterialInfo(t,"materialName"),n=n||sdk.bubble.getMaterialInfo(t,"abTestId"),h=sdk.bubble.getBubbleInfo(t,"substanceGroup"),h&&(sdk.bubble.setSubstancePopup(h),sdk.bubble.popupMutexToReg(t,h),sdk.bubble.kbStatusToReg("show",h)),f=sdk.util.iniCache.get(t+"_zOrder"),r=sdk.bubble.getBubbleInfo(t,"msg"),d=sdk.bubble.getBubbleInfo(t,"msgInfo"),o=sdk.bubble.getMaterialInfo(t,"keyword")||sdk.util.iniCache.get(t+"_msgKeyword")||"",i||(s={p3:"popup",p4:t,p5:e,p6:sdk.bubble.getBubbleInfo(t,"adType")||0,p9:u||sdk.bubble.getMaterialInfo(t,"adxId")||"",p15:l||""},this._send(s),this._sendEncryptedAll(sdk.util.assign(s,{p10:r||"",p11:d||"",p14:o||""}))),this.sendStatistics({action:"popup",probability:u||n?1:.01,bubbleId:t,abTestId:n,materialId:u,as:this.getUserAsInfo(),value:f,is_ad:sdk.bubble.getMaterialInfo(t,"isAd")}),a="",c="",u&&(n&&(c="&abTest_id="+n,n=""),a="?material_id="+u+c),(n||c)&&sdk.util.justSend("http://pcfg.wps.cn:9002/config/info/popup"+(n?"-"+n:"")+"/"+t+"/1/0"+a),1===Math.ceil(Math.random()/p)&&!n&&!c)return sdk.util.justSend("http://pcfg.wps.cn:9002/config/info/popup/"+t+"/"+p+"/0"+a)},t.prototype.close=function(t,e,n,r,i,s){var o,a,u,l,c,d,p;if(s=sdk.bubble.getMaterialInfo(t,"materialId"),d=sdk.bubble.getMaterialInfo(t,"materialName"),o=sdk.bubble.getMaterialInfo(t,"abTestId"),i=sdk.bubble.getBubbleInfo(t,"msg"),p=sdk.bubble.getBubbleInfo(t,"msgInfo"),c=sdk.bubble.getMaterialInfo(t,"keyword")||sdk.util.iniCache.get(t+"_msgKeyword")||"",u={p3:"close",p4:t,p5:e,p6:n/1e3,p7:r,p9:s||sdk.bubble.getMaterialInfo(t,"adxId")||"",p15:d||""},this._send(u),this._sendEncryptedAll(sdk.util.assign(u,{p10:i||"",p11:p||"",p14:c||""})),this.sendStatistics({action:"close",probability:1,bubbleId:t,abTestId:o,materialId:s,as:this.getUserAsInfo(),value:r,is_ad:sdk.bubble.getMaterialInfo(t,"isAd")}),1===r||5===r){try{a=o||window.location.href.match(/ks3_([a-zA-Z0-9]{32})/)[1]}catch(h){a=o||""}return l="sdk.tools.observer.fire('real_close','"+t+"','"+(s||"")+"','"+a+"')",l+=";sdk.tools.observer.fire2Svr('real_close','"+t+"','"+(s||"")+"','"+a+"')",sdk.noop(),sdk.client.webview.execute(0,l)}},t.prototype.click=function(t,e,n,r,i,s,o){var a,u,l,c,d,p,h,f,g,k,b,m;if(h=sdk.bubble.getMaterialInfo(t,"materialId"),f=sdk.bubble.getMaterialInfo(t,"materialName"),i=i||sdk.bubble.getMaterialInfo(t,"abTestId"),sdk.bubble.openUrl&&this.recordToMinisiteReg(t),b=sdk.util.getNow()-0,sdk.tools.storage.set("time_click",b,"bubble_"+t),1===o&&sdk.tools.storage.set("time_mistake_click",b),m=sdk.bubble.getBubbleInfo(t,"substanceGroup"),m&&(sdk.bubble.setSubstanceClick(m),sdk.bubble.clickMutexToReg(t,m)),sdk.bubble.addGlobalLastMonthAdClickNum(),s=sdk.bubble.getBubbleInfo(t,"msg"),k=sdk.bubble.getBubbleInfo(t,"msgInfo"),d=sdk.bubble.getMaterialInfo(t,"keyword")||sdk.util.iniCache.get(t+"_msgKeyword")||"",l={p3:"click",p4:t,p5:e,p6:n,p7:r+"_"+o,p9:h||sdk.bubble.getMaterialInfo(t,"adxId")||"",p15:f||""},this._send(l),this._sendEncryptedAll(sdk.util.assign(l,{p8:sdk.util.transUrlForReport(sdk.bubble.openUrl||"NULL")+"|"+(sdk.bubble.iconVersion||"NULL")+"|"+(sdk.bubble.openUrlByBrowser||"unknown"),p10:s||"",p11:k||"",p14:d||""})),this.sendStatistics({action:"click",probability:1,bubbleId:t,abTestId:i,materialId:h,as:this.getUserAsInfo(),name:n,value:r+"_"+o,is_ad:sdk.bubble.getMaterialInfo(t,"isAd")}),p="",g="",h&&(i&&(g="&abTest_id="+i,i=""),p="?material_id="+h+g),sdk.util.justSend("http://pcfg.wps.cn:9002/config/info/click"+(i?"-"+i:"")+"/"+t+"/1/"+r+(null!=o?"/"+o:"")+p),a="",0===o&&(a="real_click"),1===o&&(a="mis_click"),a){try{u=i||window.location.href.match(/ks3_([a-zA-Z0-9]{32})/)[1]}catch(y){u=i||""}return c="sdk.tools.observer.fire('"+a+"','"+t+"','"+(h||"")+"','"+u+"')",c+=";sdk.tools.observer.fire2Svr('"+a+"','"+t+"','"+(h||"")+"','"+u+"')",sdk.noop(),sdk.client.webview.execute(0,c)}},t.prototype.hidden=function(t,e,n){var r,i,s,o,a,u,l,c;if(o=sdk.bubble.getMaterialInfo(t,"materialId"),a=sdk.bubble.getMaterialInfo(t,"materialName"),r=r||sdk.bubble.getMaterialInfo(t,"abTestId"),this.sendStatistics({action:"hidden",probability:"production"!==sdk.env?1:.1,bubbleId:t,abTestId:r,materialId:o,value:n,as:this.getUserAsInfo()}),l=sdk.bubble.getBubbleInfo(t,"msgInfo"),s=sdk.bubble.getMaterialInfo(t,"keyword")||sdk.util.iniCache.get(t+"_msgKeyword")||"",u=sdk.bubble.getMaterialInfo(t,"msg"),i={p3:"hidden",p4:t,p5:e,p7:n,p9:o||sdk.bubble.getMaterialInfo(t,"adxId")||"",p15:a||""},this._send(i),this._sendEncryptedAll(sdk.util.assign(i,{p8:this.getDoubtfulProcess(),p10:u||"",p11:l||"",p14:s||""})),1===Math.ceil(Math.random()/.1)&&this.sendLog({bus:"pcfg",ctn:sdk.system.listProcesses(),dist:sdk.client.info.getDistNum(),ver:sdk.client.info.getAppVersion(),pver:sdk.client.info.getPlgVersion()}),c="production"!==sdk.env?1:.1,1===Math.ceil(Math.random()/c))return sdk.util.justSend("http://pcfg.wps.cn:9002/config/info/hidden/"+t+"/"+c+"/"+(this.getUserAsInfo()||0))},t.prototype.subscribe=function(t,e,n){var r,i;return i=sdk.bubble.getMaterialInfo(t,"materialId"),r={p3:"subscribe",p4:t,p5:e,p6:n,p9:i||sdk.bubble.getMaterialInfo(t,"adxId")||""},this._send(r),this._sendEncryptedAll(r)},t.prototype.bubbleInit=function(t,e){var n;return n={p3:"bubble_load",p4:t,p5:e},this._send(n,.001)},t.prototype.bubblePopupFail=function(t,e,n){var r;return r={p3:"popup_fail",p4:t,p5:e,p6:n},this._send(r)},t.prototype.pluginExit=function(t){var e,n,r,i,s,o,a;if(a=.02,this._should_report_by_hdid(a))return sdk.noop(),o=sdk.client.info,i=o.getHostProcessName(),n=sdk.as.getAsInstall("id","|"),e=sdk.util.getNow()-0-(window.service.getPluginLastLoadTime()-0),s=window.location.href,sdk.noop(),r={p3:"exit",p4:a,p5:i,p6:e,p7:t,p8:o.getPlgVersion(),p9:sdk.util.transUrlForReport(s),p13:n},this._send(r)},t.prototype.pluginInfo=function(t){null==t&&(t=.01)},t.prototype.send=function(t,e){return null==t&&(t={}),null==e&&(e=1),sdk.noop(),this._send(t,e)},t.prototype.getDoubtfulProcess=function(){var t,e,n,r,i;e=sdk.system.listProcesses()||[],r="",i=constant.DOUBTFUL_PROCESS;for(n in i)t=i[n],sdk.util.indexOf(n,e)>-1&&(r+=t+";");return r},t.prototype.getUserAsInfo=function(){var t,e,n,r,i,s;for(t=sdk.as.getAsProcess("brand"),s={},i=[],n=0,r=t.length;n<r;n++)e=t[n],s[e]||(s[e]=1,i.push(e));return i.join("_")},t.prototype.getDoubtfulProcess=function(){var t,e,n,r,i,s,o;for(t=sdk.system.listProcesses(),n="",o=constant.DOUBTFUL_PROCESS,r=i=0,s=o.length;i<s;r=++i)e=o[r],t.indexOf(e)>-1&&(n+=r+";");return n},t.prototype.getUserAsList=function(){return sdk.as.getAsProcess("id",";")},t.prototype.reportTag=function(t,e,n){return sdk.noop()},t.prototype.reportBubbleCloseMode=function(t,e,n,r,i){return sdk.noop()},t.prototype.sendLog=function(t){var e,n;return"string"!=typeof t&&(t=sdk.util.serialize(t)),e=sdk.util.generateAesKey(),t=sdk.util.aesEncryptEx(e,t),e=sdk.util.rsaEncrypt(e),sdk.noop(),n="http://log.u.wps.cn/v0/api/pl",sdk.util.httpPost(n,{key:encodeURIComponent(e),data:encodeURIComponent(t)},function(t){return sdk.noop()},function(t){return sdk.noop()})},t}(),sdk.service.info=new t}.call(this),function(){var t,e,n,r,i,s;s=sdk.client.webview.getCurrentViewId()-0;try{t=sdk.util.getUrlParam("bubble_id"),e=decodeURIComponent(sdk.util.getUrlParam("bubble_name"))}catch(r){n=r,sdk.noop()}window.stopShowing=function(){var e;return window.clearTimeout(i),e="sdk.tools.observer.fire('"+t+"_wait')",sdk.client.webview.execute(0,e),sdk.noop()},window.show=function(){var n;return window.clearTimeout(i),!window.bubbleShow&&t&&e&&0!==s&&(n="sdk.tools.observer.fire('"+t+"_show')",sdk.noop(),sdk.client.webview.execute(0,n),sdk.tools.observer.fire("show"),window.bubbleShow=!0),sdk.noop(),setTimeout(function(){if(t&&e&&0!==s&&window.jsexternal&&!window.jsexternal.domLoaded)return sdk.noop(),sdk.util.justSend("http://pcfg.wps.cn:9002/report/window/onload/0"),window.stop()},15e3)},window.stop=function(){var e;return e="sdk.tools.observer.fire('"+t+"_stop')",sdk.noop(),sdk.client.webview.execute(0,e)},setInterval(function(){var e;if(0!==s)return e="sdk.tools.observer.fire('"+t+"_heartbeat')",sdk.noop(),sdk.client.webview.execute(0,e)},5e3),i=setTimeout(function(){return window.show()},3e3)}.call(this),function(){window.setTimeout(function(){var t,e,n;if(t="1"===sdk.system.getReg("bubble_debug","HKEY_CURRENT_USER\\SOFTWARE\\kingsoft"),n=sdk.client.webview.getCurrentViewId(),t&&(e='sdk.client.webview.inspector({id : "'+n+'"}, true)',sdk.client.webview.execute(0,e)),0===n&&(sdk.client.webview.enableHeartbeat(1),setInterval(function(){if(!t||"1"!==sdk.system.getReg("bubble_disable_heartbeat","HKEY_CURRENT_USER\\SOFTWARE\\kingsoft"))return sdk.client.webview.heartbeat()},5e3)),t)return setInterval(function(){var t,e;try{}catch(e){return t=e,_alert(t.message)}},5e3)},1)}.call(this),function(){var t;sdk.bubble={},t=sdk.bubble,t.id=sdk.util.getUrlParam("bubble_id"),t.name=function(){try{return decodeURIComponent(sdk.util.getUrlParam("bubble_name"))}catch(t){return""}}(),t.msg=sdk.util.iniCache.get(this.id+"_msg")||sdk.util.getUrlParam("bubble_msg")||"",t.msgInfo=sdk.util.iniCache.get(this.id+"_msgInfo"),t.msgKeyword=sdk.util.iniCache.get(this.id+"_msgKeyword"),t.bubbleTestId=sdk.util.getUrlParam("bubble_testId"),t.closeBtnId=[],t.clickBtnId=[],sdk.tools.observer.on("show",function(){return sdk.bubble.width=document.body.clientWidth,sdk.bubble.height=document.body.clientHeight})}.call(this),function(){var t,e,n,r,i,s,o,a,u,l,c;e=sdk.bubble,t=function(){function t(t,e,n){this.iniKey=t,this.iniGroup=null!=e?e:"global",this.maxDays=null!=n?n:30}return t.prototype.getValue=function(){return sdk.util.getIni(this.iniGroup,this.iniKey)},t.prototype.setValue=function(t){return sdk.util.setIni(this.iniGroup,this.iniKey,t)},t.prototype.getLastDaysNum=function(t){var e,n,r,i,s,o,a,u;for(null==t&&(t=this.maxDays),t=Math.min(t,this.maxDays),e=sdk.util.getNow()-24*t*3600*1e3,o=sdk.util.getNow()-24*this.maxDays*3600*1e3,s=this.getValue().split("|"),n=0,a=0,r=0,i=s.length;r<i;r++)u=s[r],u-0<=o&&n++,u-0>e&&a++;return n&&(s=s.slice(n),this.setValue(s.join("|"))),a},t.prototype.addTime=function(t){var e;return null==t&&(t=sdk.util.getNow()),e=this.getValue().split("|"),e.sort(),e.push(t-0),this.setValue(e.join("|"))},t}(),c="time_last_exec",e.getGlobalLastExecDate=function(){var t;return t=sdk.tools.storage.get(c),t?new Date(t-0):null},e.setGlobalLastExecDate=function(t){return null==t&&(t=new sdk.util.getNow),sdk.tools.storage.set(c,t-0)},u="time_last_click",e.getGlobalLastClickTime=function(){var t;return t=sdk.tools.storage.get(u),t?new Date(t-0):null},e.setGlobalLastClickTime=function(t){return null==t&&(t=new sdk.util.getNow),sdk.tools.storage.set(u,t-0)},e.getGlobalLastMistakeClickTime=function(){var t;return t=sdk.tools.storage.get(constant.STORAGE_KEY_BUBBLE_DATE_MISTAKE_CLICK),t?new Date(t-0):null},l="last_exec_ad_time",e.getGlobalLastExecAdTime=sdk.addCacheToFn(function(){var t;return t=sdk.tools.storage.get(l),t?new Date(t-0):null}),e.setGlobalLastExecAdTime=function(t){return null==t&&(t=sdk.util.getNow()),sdk.tools.storage.set(l,t-0)},i=new t("last_30day_popup_time"),e.getGlobalLastMonthPopupNum=sdk.addCacheToFn(function(){return i.getLastDaysNum(30)}),e.getGlobalLastWeekPopupNum=sdk.addCacheToFn(function(){return i.getLastDaysNum(7)}),e.getGlobalTodayPopupNum=sdk.addCacheToFn(function(){var t,e,n;return e=sdk.util.getNow(),n=sdk.util.parseDateTo0amStamp(),t=(e-n)/1e3/3600/24,i.getLastDaysNum(t)}),e.addGlobalLastMonthPopupNum=function(t){return null==t&&(t=sdk.util.getNow()),i.addTime(t)},r=new t("last_30day_ad_time"),e.getGlobalLastMonthAdNum=sdk.addCacheToFn(function(){return r.getLastDaysNum(30)}),e.getGlobalLastWeekAdNum=sdk.addCacheToFn(function(){return r.getLastDaysNum(7)}),e.addGlobalLastMonthAdNum=function(t){return null==t&&(t=sdk.util.getNow()),r.addTime(t)},n=new t("last_30day_ad_click_time"),e.getGlobalLastMonthAdClickNum=sdk.addCacheToFn(function(){return n.getLastDaysNum(30)}),e.addGlobalLastMonthAdClickNum=function(t){return null==t&&(t=sdk.util.getNow()),n.addTime(t)},a="last_fb_rd",e.getRecentCount=sdk.addCacheToFn(function(){var t,e,n,r,i,s,o,u;for(s=0,t=0,u=sdk.tools.storage.get(a),i=u?u.split("|"):[],n=0,r=i.length;n<r;n++)o=i[n],o&&(s++,e=o.split("#"),e.length>=3&&"2"===e[2]&&t++);return{popup:s,click:t}}),e.getRecentCountIntervalHour=function(){var t,e;return e=sdk.bubble.getRecentCount().popup,t=sdk.bubble.getRecentCount().click,e<3?8:0===t?120:(t=Math.min(t,3),8*(3-t+1))},e.addRecentPopup=function(t,e,n){var r,i;if(null==n&&(n=sdk.util.getNow()),!/优惠券|单品/.test(e))return i=sdk.tools.storage.get(a),r=i?i.split("|"):[],r.length>=3&&(r=r.slice(r.length-2)),r.push(t+"#"+(n-0)),sdk.tools.storage.set(a,r.join("|"))},e.addRecentClose=function(t,e,n,r){if(null==r&&(r=sdk.util.getNow()),!/优惠券|单品/.test(e))return setTimeout(function(){var e,i,s,o,u,l,c;for(c=sdk.tools.storage.get(a),u=c?c.split("|"):[],u=u.reverse(),i=s=0,o=u.length;s<o;i=++s)if(e=u[i],l=e.split("#"),2===l.length&&l[0]===t){u[i]+="#"+n+"#"+(r-0);break}return u=u.reverse(),sdk.tools.storage.set(a,u.join("|"))},window.config.bubble_is_hidden_timeout)},o="plugin_load_num_"+sdk.client.info.getAppName()+"_",s=864e5,e.getLast3DaysPluginLoadNum=sdk.addCacheToFn(function(){return sdk.bubble.getLastDaysPluginLoadNum(3)}),e.getLastDaysPluginLoadNum=function(t){var e,n,r,i,a,u;for(u=sdk.util.parseDateTo0amStamp(),i=0,n=r=0,a=t-1;0<=a?r<=a:r>=a;n=0<=a?++r:--r)e=sdk.util.formatDate(u-n*s,"yyyy_MM_dd"),i+=sdk.tools.storage.get(o+e)-0||0;return i}}.call(this),function(){var t,e,n,r,i;i=sdk.bubble,t="1",e="2",r="99",n="1",i.getMiniRegLastMonthAdNum=sdk.addCacheToFn(function(){return sdk.bubble.getMiniRegLastDaysAdNum(30)}),i.getMiniLastMonthAdNum=sdk.addCacheToFn(function(){return sdk.bubble.getMiniRegLastDaysAdNum(30,e)}),i.getMiniRegTodayNum=sdk.addCacheToFn(function(){var t,e,n;return e=sdk.util.getNow(),n=sdk.util.parseDateTo0amStamp(),t=(e-n)/1e3/3600/24,sdk.bubble.getMiniRegLastDaysAdNum(t)}),i.getMiniRegTodayNormalNum=sdk.addCacheToFn(function(){var t,e,n;return e=sdk.util.getNow(),n=sdk.util.parseDateTo0amStamp(),t=(e-n)/1e3/3600/24,sdk.bubble.getMiniRegLastDaysAdNum(t,null,"0")}),i.getMiniRegTodayPriorityNum=sdk.addCacheToFn(function(){var t,e,n;return e=sdk.util.getNow(),n=sdk.util.parseDateTo0amStamp(),t=(e-n)/1e3/3600/24,sdk.bubble.getMiniRegLastDaysAdNum(t,null,"1")}),i.getMiniRegLastWeekNum=sdk.addCacheToFn(function(){return sdk.bubble.getMiniRegLastDaysAdNum(7)}),i.addMiniLastMonthAdNum=function(e,n){var i,s,o,a,u,l,c,d,p;for(null==e&&(e=sdk.util.getNow()),null==n&&(n="0"),c=sdk.util.formatDate(e)+"#"+t,"1"===n&&(c+="#"+r),i=sdk.util.formatDate(sdk.util.getNow()-7776e6),l=[],p=sdk.system.getReg("ovrlppprcrd","HKEY_CURRENT_USER\\Software\\Kingsoft\\Office\\6.0\\plugins\\kbubble"),u=p?p.split(","):[],o=0,a=u.length;o<a;o++)s=u[o],d=s.split("#"),d.length&&d[0]>i&&l.push(s);return l.push(c),sdk.system.setReg("ovrlppprcrd",l.join(","),"HKEY_CURRENT_USER\\Software\\Kingsoft\\Office\\6.0\\plugins\\kbubble")},i.getMiniRegLastDaysAdNum=function(t,e,i){var s,o,a,u,l,c,d,p;for(null==t&&(t=30),null==e&&(e=null),null==i&&(i=null),s=sdk.util.formatDate(sdk.util.getNow()-24*t*3600*1e3),c=0,p=sdk.system.getReg("ovrlppprcrd","HKEY_CURRENT_USER\\Software\\Kingsoft\\Office\\6.0\\plugins\\kbubble"),l=p.split(","),a=0,u=l.length;a<u;a++)if(o=l[a],d=o.split("#"),d.length>=2&&d[0]>s&&(!e||d[1]===e))switch(i){case"0":(3===d.length&&d[2]===n||2===d.length)&&c++;break;case"1":3===d.length&&d[2]===r&&c++;break;default:c++}return c}}.call(this),function(){var shopping,indexOf=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};sdk.shopping={},shopping=sdk.shopping,shopping.getUnique=function(t){var e,n,r,i,s;for(s=[],n={},e=0,i=t.length;e<i;e++)r=t[e],r.id&&(!n[r.id]&&s.push(r),n[r.id]=1);return s},shopping.dataTransform=function(t){return Array.isArray(t)||(t=[t]),t=t.map(function(t){var e;switch(e={title:t.t2||t.d.t||"",detail:t.de||"",tags:t.bs||[],source:t.d.s||"",type:t.t,send_time:t.m,price_desc:t.price_desc||""},t.t){case 1:e.id=t.t+"_"+t.d.iid,e.pict_url=t.d.i,e.click_url=t.d.url,e.gp=t.d.gp,e.cp=t.d.v,e.et=t.d.et;break;case 2:e.id=t.t+"_"+t.d.iid,e.pict_url=t.d.i,e.click_url=t.d.url,e.gp=t.d.p;break;case 3:e.id=t.t+"_"+t.d.i,e.pict_url=t.d.p,e.click_url=t.d.u,e.gp=t.d.r_p,e.cp=t.d.r_p-t.d.z_p,e.et=t.d.e_t;break;case 4:e.id=t.t+"_"+t.d.id,e.pict_url=t.d.i,e.click_url=t.d.u,e.et=t.d.et;break;case 5:e.id=t.t+"_"+t.d.i,e.pict_url=t.d.img,e.click_url=t.d.u}return e})},shopping.sceneDataTransform=function(t,e){var n;return Array.isArray(t)||(t=[t]),n=Math.floor(sdk.util.getNow()/1e3),t=t.map(function(t){return{id:"0_"+t.itemId,title:t.title||"",source:t.source-0||1,type:0,pict_url:t.pictUrl,click_url:t.clickUrl,gt:n,gp:(t.zkFinalPrice||t.reservePrice||0)-0,cp:(t.couponAmount||0)-0,ccp:(t.couponStartFee||0)-0,crt:e||"1",et:t.couponEndTime}}),t.filter(function(t){return!t.ccp||t.gp>=t.ccp})},shopping.dataClean=function(t){var e;return Array.isArray(t)||(t=[t]),e=Math.floor(sdk.util.getNow()/1e3),t.filter(function(t){return t.et?e<t.et:t})},shopping.dataSort=function(t){return t.sort(function(t,e){return 2===t.type?-1:4===t.type?1:2===e.type?1:4===e.type?-1:t.type-e.type})},shopping.getObj=function(t){return Function("return ("+t+")")()},shopping.getSubscribeFromIni=function(t,e){var n,r,i,s,o,a,u,l,c,d;for(c=sdk.client.trayicon.getIni("Notify","hmsg"),n=c&&sdk.shopping.getObj(sdk.util.decodeC64(c))||[],n=sdk.shopping.dataClean(n),d=sdk.client.trayicon.getBaseData().subscribe_type||"",d=d.split(";"),u=[],l=[],i=r=0,s=n.length;r<s;i=++r)o=n[i],a=""+o.type,indexOf.call(d,a)<0||(u.length||e!==o.type?l.push(o):u.push(o));return sdk.client.trayicon.setIni("Notify","hmsg",sdk.util.encodeC64(JSON.stringify(l))),!!u.length&&(sdk.util.iniCache.set(t+"_shopping",sdk.util.encodeC64(JSON.stringify(u))),!0)},shopping.setUnread=function(t){var e,n;return Array.isArray(t)||(t=[t]),n=sdk.client.trayicon.getIni("Recommend","uri"),e=n&&sdk.shopping.getObj(sdk.util.decodeC64(n))||[],e=e.concat(t),sdk.client.trayicon.setIni("Recommend","uri",sdk.util.encodeC64(JSON.stringify(e))),sdk.client.trayicon.setIni("Recommend","ulen",e.length),sdk.shopping.updateToolTip(),sdk.client.trayicon.setIconMessage()},shopping.saveIsRead=function(){return sdk.client.trayicon.setIni("Recommend","uri",""),sdk.client.trayicon.setIni("Recommend","ulen",0),sdk.shopping.updateToolTip()},shopping.setPopup=function(t){var e,n;return n=sdk.client.trayicon.getIni("Recommend","hpi"),e=n&&sdk.shopping.getObj(sdk.util.decodeC64(n))||[],e.unshift(t),e=e.slice(0,150),sdk.client.trayicon.setIni("Recommend","hpi",sdk.util.encodeC64(JSON.stringify(e)))},shopping.hasPopup=function(t){var e,n,r,i,s,o,a,u,l,c,d;if(!t)return sdk.noop(),!1;for(u=t.split("_"),d=u[0],o=u[1],o||(o=d),c=sdk.client.trayicon.getIni("Recommend","hpi"),i=c&&sdk.shopping.getObj(sdk.util.decodeC64(c))||[],s=0,a=i.length;s<a;s++)if(n=i[s]){if(l=n.split("_"),r=l[0],e=l[1],e||(e=r),("4"===d||"5"===d)&&d===r&&e===o)return sdk.noop(),!0;if(e===o)return sdk.noop(),!0}return!1},shopping.dataStoreToRecommend=function(t,e){var n,r;return null==t&&(t=[]),null==e&&(e=!1),Array.isArray(t)||(t=[t]),e?n=t:(r=sdk.client.trayicon.getIni("Recommend","hlist"),n=r&&sdk.shopping.getObj(sdk.util.decodeC64(r))||[],n=t.concat(n)),n=sdk.shopping.dataClean(n),n=n.sort(function(t,e){return e.gt-t.gt}).slice(0,100),sdk.client.trayicon.setIni("Recommend","hlist",sdk.util.encodeC64(JSON.stringify(n)))},shopping.getManualData=function(callback,failback){var url;return url="https://service.dg.wps.cn/msp/p/manual",sdk.util.httpGet(url,{hdid:sdk.client.info.getHdid()},function(res){var err,error,list;sdk.noop();try{return res=eval("("+res+")"),0!==res.s?failback&&failback():(res.d?(list=sdk.shopping.dataTransform(res.d),list=sdk.shopping.getUnique(list),list=sdk.shopping.dataClean(list),list=list.sort(function(t,e){return e.gt-t.gt})):list=[],callback&&callback(list))}catch(error){return err=error,sdk.noop(),failback&&failback()}},function(t){return sdk.noop(),failback&&failback()})},shopping.getSubscribeData=function(callback,failback){var url;return url="https://service.dg.wps.cn/msp/p/get",sdk.util.httpGet(url,{hdid:sdk.client.info.getHdid()},function(res){var err,error,list;sdk.noop();try{return res=eval("("+res+")"),res.s<0?failback&&failback():(res.d?(list=sdk.shopping.dataTransform(res.d),list=sdk.shopping.getUnique(list),list=sdk.shopping.dataClean(list),list=list.sort(function(t,e){return e.gt-t.gt})):list=[],callback&&callback(list))}catch(error){return err=error,sdk.noop(),failback&&failback()}},function(t){return sdk.noop(),failback&&failback()})},shopping.getPrecisionScene=function(param,callback,failback){var couponType,ec,url;return couponType=param.coupon_type||1,(ec=sdk.util.aesEncryptEx_ECB("886b1ab6f1fc1d6670efa2d121039a56",JSON.stringify(param)))?(url="https://service.dg.wps.cn/assistant/api/r/assistant/GetPrecisionCoupon",sdk.noop(),sdk.util.httpPostWithHeader(url,JSON.stringify({ec:ec}),{"Content-Type":"application/json"},function(res){var err,error,list;sdk.noop();try{return res=eval("("+res+")"),0!==res.s?failback&&failback():(list=res.d.coupon_list||[],list.length?(list=sdk.shopping.sceneDataTransform(list,couponType),list=sdk.shopping.dataClean(list),callback&&callback(list)):callback&&callback([]))}catch(error){return err=error,sdk.noop(),failback&&failback()}},function(t){return sdk.noop(),failback&&failback()})):(sdk.noop(),failback&&failback())},shopping.getSimilarScene=function(param,callback,failback){var couponType,ec,url;return couponType=param.coupon_type||2,(ec=sdk.util.aesEncryptEx_ECB("886b1ab6f1fc1d6670efa2d121039a56",JSON.stringify(param)))?(url="https://service.dg.wps.cn/assistant/api/r/assistant/GetSimilarCoupon",sdk.noop(),sdk.util.httpPostWithHeader(url,JSON.stringify({ec:ec}),{"Content-Type":"application/json"},function(res){var err,error,list;sdk.noop();try{return res=eval("("+res+")"),0!==res.s?failback&&failback():(list=res.d.coupon_list||[],list.length?(list=sdk.shopping.sceneDataTransform(list,couponType),list=sdk.shopping.dataClean(list),callback&&callback(list)):callback&&callback([]))}catch(error){return err=error,sdk.noop(),failback&&failback()}},function(t){return sdk.noop(),failback&&failback()})):(sdk.noop(),failback&&failback())},shopping.dataStoreToScene=function(t){var e,n;try{return n=sdk.client.trayicon.getIni("Notify","hcrl"),e=n&&sdk.shopping.getObj(sdk.util.decodeC64(n))||[],e=e.concat(t),sdk.client.trayicon.setIni("Notify","hcrl",sdk.util.encodeC64(JSON.stringify(e)))}catch(r){sdk.noop()}},shopping.storeSceneData=function(){},shopping.setUserPopup=function(t){var e,n;return n="https://service.dg.wps.cn/assistant/api/r/assistant/BrowseHistoryReport",Array.isArray(t)||(t=[t]),e=sdk.util.aesEncryptEx_ECB("886b1ab6f1fc1d6670efa2d121039a56",JSON.stringify({hid:sdk.client.info.getHdid(),items:t})),sdk.util.httpPostWithHeader(n,JSON.stringify({ec:e}),{"Content-Type":"application/json"},function(t){return sdk.noop()},function(t){return sdk.noop()})},shopping.getUserData=function(){var t,e,n,r;t=sdk.client.trayicon.getBaseData()||{},r={hdid:sdk.client.info.getHdid(),open:sdk.client.trayicon.isSubscribe()?1:0,realtime:sdk.client.trayicon.isSilence()?0:1,coupon_radar:"true"===t.coupon_radar?1:0},e={coupon_new:1,item_new:2,seckill_new:3,activity_new:4,article_new:5};for(n in e)r[n]=t.subscribe_type.indexOf(e[n])>-1?1:0;return r},shopping.setUserData=function(callback,failback){var str,url;return url="https://service.dg.wps.cn/msp/p/set",str=JSON.stringify(shopping.getUserData()),sdk.util.httpPostWithHeader(url,str,{"Content-Type":"application/json"},function(res){var err,error;sdk.noop();try{return res=eval("("+res+")"),res.s<0?failback&&failback():callback&&callback()}catch(error){return err=error,sdk.noop(),failback&&failback()}},function(t){return sdk.noop(),failback&&failback()})},shopping.updateToolTip=function(){var t,e,n;return e="",t=sdk.client.trayicon.getBaseData(),n=sdk.client.trayicon.getIni("Recommend","ulen")-0,sdk.client.trayicon.isSilence()&&(e+="勿扰模式: 开启\n"),e+="隐藏券自动查找: "+("true"===t.coupon_radar?"开启":"关闭")+"\n",e+="未读优惠消息: "+n+"条",sdk.client.trayicon.setToolTip(e)},shopping.createShortCut=function(t,e,n){var r,i,s,o;if(null==e&&(e="豆花消费助手"),null==n&&(n="豆花消费助手 推送优惠购物信息"),t)return r=sdk.system.getStorageLocation("desktop")+("\\"+e+".lnk"),i="/kbubble msg=tray_icon_shortcut",o=sdk.system.getReg("InstallRoot","HKEY_CURRENT_USER\\Software\\kingsoft\\Office\\6.0\\Common"),o=o.replace(/\\\d{1,2}\.\d\.\d\.\d{4}$/,"\\"),s=o+"ksolaunch.exe",sdk.system.downloadAndThen(t,function(t){return t&&sdk.system.createExeShortcut(r,s,i,t,n,o,1)})}}.call(this),function(){var bubble,configPath,group,parseTagsV2,parseTagsV3,pickerMap,substanceIniPath;bubble=sdk.bubble,configPath="%appdata%\\kingsoft\\wps\\addons\\data\\win-i386\\kbubble_config.ini",bubble.isTimeEffect=function(){var t,e;return e=function(t){var e,n,r,i,s,o,a,u,l,c,d,p,h;for(null==t&&(t=""),d=[],u="\n",i=/(\d{4}.*\d{2}.*\d{2}.*\d{2}.*\d{2}.*\d{2}).*(\d{4}.*\d{2}.*\d{2}.*\d{2}.*\d{2}.*\d{2})/,p=t.split(u),s=0,o=p.length;s<o;s++){l=p[s];try{a=l.match(i),a instanceof Array&&(h=a[1],c=a[2],e=[sdk.util.parseDate(h),sdk.util.parseDate(c)]),d.push(e)}catch(r){n=r}}return d},t=function(t){var e,n,r,i,s,o;for(null==t&&(t=[]),s=new Date,r=0,i=t.length;r<i;r++){o=t[r];try{if(o[0]<=s&&o[1]>=s)return!0}catch(n){e=n}}return!1},function(n){var r;return r=e(n),t(r)}}(),parseTagsV2=function(t){return sdk.util.bubbleCrypto.decompress(t)},parseTagsV3=function(str){var base64Str,error,key,oMap,tagsObj;if(tagsObj=eval("("+str+")"),key=sdk.util.getRsaSK(),oMap=sdk.util._rsaDecrypt(key,tagsObj.key),!oMap)return sdk.noop(),"";try{oMap=sdk.util.obfuscate.str2Map(oMap),base64Str=sdk.util.obfuscate.decryptBase64(tagsObj.data,oMap)}catch(error){return sdk.noop(),""}return sdk.util.decodeBase64(base64Str)},bubble.getDiffEffectTags=function(callback){var canReport,port,probability,tagsBase,tagsVer,url;return tagsVer=sdk.util.getIniByPath("material","tags_version",configPath)||0,tagsBase=sdk.util.getIniByPath("material","tags_base",configPath),tagsBase=sdk.util.decodeBase64(tagsBase),"production"===sdk.env?(port="",url="http://switch.pcfg.cache.wpscdn.cn/materials/effect_tags_2"):(port=":9080",url="http://js1.pcfg.cache.wpscdn.cn/materials/effect_tags_2"),probability="production"===sdk.env?.001:1,canReport=Math.random()<probability,sdk.util.ajax({url:"//df.cache.wpscdn.cn"+port+"/api/v1/diff/fetch/"+sdk.util.encodeBase64(url)+"?version="+tagsVer+"&key=p1-e1",type:"get",timeout:10,success:function(ret){var error,tagDiff,tagStr;try{return ret=eval("("+ret+")"),200!==ret.result?callback(new Error("request error"),""):(sdk.util.setIniByPath("material","tags_version",ret.data.version||0,configPath),ret.data.updated===!1&&(sdk.noop(),canReport&&sdk.util.justSend("http://pcfg.wps.cn:9002/report/effect_tags/req/diff/0/"+(ret.data.code||"unknown")),tagStr=tagsBase),ret.data.diff&&(canReport&&sdk.util.justSend("http://pcfg.wps.cn:9002/report/effect_tags/req/diff/1"),tagDiff=JSON.parse(parseTagsV2(ret.data.diff)),tagStr=sdk.util.diffRecover(tagsBase,tagDiff)),ret.data.content&&(canReport&&sdk.util.justSend("http://pcfg.wps.cn:9002/report/effect_tags/req/diff/2/"+(ret.data.code||"unknown")),tagStr=parseTagsV2(ret.data.content)),sdk.util.setIniByPath("material","tags_base",sdk.util.encodeBase64(tagStr),configPath),callback("",tagStr))}catch(error){}return callback(new Error("parse error"),"")},error:function(t){return callback(t,"")}})},bubble.getWholeEffectTags=function(t){return sdk.util.ajax({url:"//switch.pcfg.cache.wpscdn.cn/materials/effect_tags_2",type:"get",timeout:10,success:function(e){var n;return n=parseTagsV2(e),sdk.util.setIniByPath("material","tags_version","",configPath),sdk.util.setIniByPath("material","tags_base",sdk.util.encodeBase64(n),configPath),t&&t("",n)},error:function(e){return t(e,"")}})},bubble.setMaterialTagsToIni=function(_callback){var callback,canReport,last,probability,update;return callback=function(t){return sdk.noop(),_callback&&_callback(t)},"ruby"!==sdk.platform?callback&&callback(!1):(last=sdk.util.getIni("material","last_exec_time")-0,sdk.util.getNow()-last<36e5?callback&&callback(!1):(probability="production"===sdk.env?.001:1,canReport=Math.random()<probability,update=function(str){var allTags,allTagsMap,err,error,i,id,len,tag,tags,tagsMap;sdk.util.removeIniGroup("material"),sdk.util.setIni("material","last_exec_time",sdk.util.getNow()-0);try{tagsMap=eval("("+str+")"),allTagsMap={};for(id in tagsMap)for(tags=tagsMap[id],sdk.util.setIni("material",id+"_tags",sdk.util.encodeBase64(tags.join(";"))),i=0,len=tags.length;i<len;i++)tag=tags[i],allTagsMap[tag]=1;allTags=[];for(tag in allTagsMap)allTags.push(tag);sdk.util.setIni("material","tags",sdk.util.encodeBase64(allTags.join(";")))}catch(error){return err=error,sdk.noop(),canReport&&sdk.util.justSend("http://pcfg.wps.cn:9002/report/effect_tags/err/parse/"+(err.message||"unknown").slice(0,20)),callback&&callback(!1)}return sdk.noop(),canReport&&sdk.util.justSend("http://pcfg.wps.cn:9002/report/effect_tags/done"),callback&&callback(!0)},canReport&&sdk.util.justSend("http://pcfg.wps.cn:9002/report/effect_tags/req/diff"),sdk.bubble.getDiffEffectTags(function(t,e){return t?(sdk.noop(),canReport&&sdk.util.justSend("http://pcfg.wps.cn:9002/report/effect_tags/err/diff/"+(t.message||"unknown").slice(0,20)),canReport&&sdk.util.justSend("http://pcfg.wps.cn:9002/report/effect_tags/req/full"),sdk.bubble.getWholeEffectTags(function(t,e){return t?(canReport&&sdk.util.justSend("http://pcfg.wps.cn:9002/report/effect_tags/err/full/"+(t.message||"unknown").slice(0,20)),sdk.noop(),callback&&callback(!1)):update(e)})):update(e)})))},bubble.getMaterialTagsFromIni=function(t){var e;return e="tags",t&&(e=t+"_"+e),sdk.util.decodeBase64(sdk.util.getIni("material",e))},pickerMap={},bubble.getMaterialPicker=function(t){var e;return pickerMap[t]?pickerMap[t]:(e=sdk.bubble.getMaterialTagsFromIni(t),pickerMap[t]=new window.Picker({wordMinLen:1}),pickerMap[t].reloadLib(e.split(";")),pickerMap[t])},bubble.refreshMaterialPicker=function(){return pickerMap={}},bubble.hasKeyWord=function(t,e){var n,r,i,s;for(s=e.split(/[,%]/),n=0,r=s.length;n<r;n++)if(i=s[n],t.indexOf(i)<0)return!1;return!0},bubble.ifMatchTags=function(t,e){var n,r,i,s;if(!t||!e)return!1;for(r=e.split(";"),i=0,s=r.length;i<s;i++)if(n=r[i],n&&this.hasKeyWord(t,n))return sdk.noop(),n;return!1},bubble.getAllMatchTags=function(t,e){var n,r,i,s,o;if(!t||!e)return!1;for(o=[],r=e.split(";"),i=0,s=r.length;i<s;i++)n=r[i],n&&this.hasKeyWord(t,n)&&o.push(n);return!!o.length&&(sdk.noop(),o.join(";"))},bubble.getAllMatchTitles=function(t,e){var n,r,i,s,o,a,u,l,c;if(!t||!e)return!1;for(u=[],c=t.split(";"),r=e.split(";"),
i=0,o=c.length;i<o;i++)if(l=c[i])for(s=0,a=r.length;s<a;s++)if(n=r[s],n&&this.hasKeyWord(l,n)){u.indexOf(l)<0&&u.push(l);break}return!!u.length&&(sdk.noop(),u.join(";"))},bubble.addMaterialFailedNum=function(){var t;return t=sdk.bubble.getMaterialFailedNum(),sdk.bubble.setMaterialFailedNum(t+1)},bubble.getMaterialFailedNum=function(){var t;return t=sdk.util.formatDate(sdk.util.getNow(),"yyyy_MM_dd"),sdk.util.getIni("material",t+"_failed_num")-0},bubble.setMaterialFailedNum=function(t){var e;return e=sdk.util.formatDate(sdk.util.getNow(),"yyyy_MM_dd"),sdk.util.setIni("material",e+"_failed_num",t)},bubble.ifCurrentMsgInfoMatchMaterial=function(t){var e;return e=sdk.util.cache.get("currentMsgInfo"),sdk.noop(),this.ifMatchMaterial(e,t)},bubble.ifMatchMaterial=function(t,e){var n;return n=this.getMaterialTagsFromIni(e),sdk.noop(),sdk.noop(),this.ifMatchTags(t,n)},bubble.rmBrowserName=function(t){null==t&&(t="");try{return"string"!=typeof t&&(t=JSON.stringify(t)),t.replace(/\s\-\s[\u4e00-\u9fa5\w\s\.]+$/,"")}catch(e){}},bubble.parseBrowserInfo=function(msgInfo){var browserInfo,i,info,len,multiAll,multiMain,multiUrl;browserInfo={},multiMain=[],multiAll=[],multiUrl=[];try{for(msgInfo=eval("("+msgInfo+")").browserinfo,i=0,len=msgInfo.length;i<len;i++)info=msgInfo[i],info.isactive&&(browserInfo.top_main=JSON.stringify({name:info.name,pid:info.pid,text:sdk.bubble.rmBrowserName(info.text)}),info.tabname.length&&(browserInfo.top_all=JSON.stringify({name:info.name,pid:info.pid,text:info.tabname.join(";")})),info.url&&(browserInfo.top_url=JSON.stringify({name:info.name,pid:info.pid,text:info.url}))),info.text&&multiMain.push(sdk.bubble.rmBrowserName(info.text)),multiAll=multiAll.concat(info.tabname.length?info.tabname:sdk.bubble.rmBrowserName(info.text)),info.url&&(multiUrl=multiUrl.concat(info.url));multiMain.length&&(browserInfo.multi_main=JSON.stringify({text:multiMain.join(";")})),multiAll.length&&(browserInfo.multi_all=JSON.stringify({text:multiAll.join(";")})),multiUrl.length&&(browserInfo.multi_url=JSON.stringify({text:multiUrl.join(";")}))}catch(undefined){}return browserInfo},bubble.setMaterialInfo=function(t,e){var n,r,i;n="";for(r in e)i=e[r],sdk.bubble[r]=i,n+="sdk.util.cache.set('"+t+"_"+r+"', '"+i+"');";return sdk.noop(),sdk.client.webview.execute(0,n)},bubble.getBubbleInfo=bubble.getMaterialInfo=function(t,e){return e||(e=t,t=bubble.id),sdk.util.iniCache.get(t+"_"+e)||sdk.bubble[e]||sdk.util.cache.get(t+"_"+e)||""},substanceIniPath="%appdata%\\kingsoft\\wps\\addons\\data\\win-i386\\kbubble_sub.ini",group="bubble",bubble.setSubstancePopup=function(t){return this.setSubstance("popup",t)},bubble.setSubstanceClick=function(t){return this.setSubstance("click",t)},bubble.getSubstancePopup=function(t){return this.getAllSubstancePopup()[t]-0||0},bubble.getSubstanceClick=function(t){return this.getAllSubstanceClick()[t]-0||0},bubble.checkSubstancePopup=function(t,e){return null==e&&(e=24),new Date-this.getSubstancePopup(t)>3600*e*1e3},bubble.checkSubstanceClick=function(t,e){return null==e&&(e=72),new Date-this.getSubstanceClick(t)>3600*e*1e3},bubble.getAllSubstancePopup=function(){var t;return t=null,function(){return t||(t=this._getAllSubstance("popup"),setTimeout(function(){return t=null},1)),t||{}}}(),bubble.getAllSubstanceClick=function(){var t;return t=null,function(){return t||(t=this._getAllSubstance("click"),setTimeout(function(){return t=null},1)),t||{}}}(),bubble._getAllSubstance=function(t){var e,n,r,i,s,o,a,u,l,c,d,p,h;for(c=sdk.util.getIniByPath(group,t+"_list",substanceIniPath).split(";"),""===c[0]&&c.pop(),d={},r=0,a=c.length;r<a;r++)i=c[r],d[i+"_"+t]="";for(p={},p[group]=d,n=sdk.util.getIniByPathWithObj(substanceIniPath,p)[group]||{},e=[],s=0,u=c.length;s<u;s++)i=c[s],new Date-n[i+"_"+t]<2592e6&&e.push(i);for(e.length<c.length&&sdk.util.setIniByPath(group,t+"_list",e.join(";"),substanceIniPath),h={},o=0,l=e.length;o<l;o++)i=e[o],h[i]=n[i+"_"+t];return h},bubble.setSubstance=function(t,e){var n;if(sdk.util.setIniByPath(group,e+"_"+t,sdk.util.getNow()-0,substanceIniPath),n=sdk.util.getIniByPath(group,t+"_list",substanceIniPath).split(";"),""===n[0]&&n.pop(),sdk.util.indexOf(e,n)<0)return n.push(e),sdk.util.setIniByPath(group,t+"_list",n.join(";"),substanceIniPath)},bubble.getSubstance=function(t,e){return sdk.util.getIniByPath(group,e+"_"+t,substanceIniPath)},bubble.getMiniPopup=function(t){var e,n,r,i;if(r=sdk.util.cache.get("mini_popup_"+t))return r;if(i=sdk.system.getReg("adtryicnpppinf","HKEY_CURRENT_USER\\Software\\kingsoft\\Office\\6.0\\plugins\\minisiteex"),i&&(i=i.split(",")))for(e=i.length-1;e>=0;e+=-1)if(n=i[e]){if(n=n.split("#"),r=sdk.util.parseDate(n[4])-0,new Date-r>1296e6)return sdk.util.cache.set("mini_popup_"+t,0,300),0;if(5===n.length&&n[1]===t)return sdk.util.cache.set("mini_popup_"+t,r,300),r}return 0},bubble.getMiniLastPopup=function(){var t;return t=sdk.system.getReg("adtryicnlstppptm","HKEY_CURRENT_USER\\Software\\kingsoft\\Office\\6.0\\plugins\\minisiteex"),t?sdk.util.parseDate(t)-0:0},bubble.getMiniClick=function(t){var e,n,r,i;if(r=sdk.util.cache.get("mini_click_"+t))return r;if(i=sdk.system.getReg("adtryicnclkinf","HKEY_CURRENT_USER\\Software\\kingsoft\\Office\\6.0\\plugins\\minisiteex"),i&&(i=i.split(",")))for(e=i.length-1;e>=0;e+=-1)if(n=i[e]){if(n=n.split("#"),r=sdk.util.parseDate(n[4])-0,new Date-r>1296e6)return sdk.util.cache.set("mini_click_"+t,0,300),0;if(5===n.length&&n[1]===t)return sdk.util.cache.set("mini_click_"+t,r,300),r}return 0},bubble.getMiniLastClick=function(){var t;return t=sdk.system.getReg("adtryicnlstclstm","HKEY_CURRENT_USER\\Software\\kingsoft\\Office\\6.0\\plugins\\minisiteex")||0,t?sdk.util.parseDate(t)-0:0},bubble.checkMiniPopup=function(t,e){return null==e&&(e=72),new Date-sdk.bubble.getMiniPopup(t)>3600*e*1e3},bubble.checkMiniClick=function(t,e){return null==e&&(e=72),new Date-sdk.bubble.getMiniClick(t)>3600*e*1e3},bubble.checkMiniAlive=function(){return"show"===sdk.system.getReg("adtryicnstts","HKEY_CURRENT_USER\\Software\\kingsoft\\Office\\6.0\\plugins\\minisiteex")},bubble.checkClickMutex=function(t,e){return null==t&&(t=""),null==e&&(e=1728),t.indexOf("#")<0?sdk.bubble.checkSubstanceClick(t,e):sdk.bubble.checkSubstanceClick(t,e)&&sdk.bubble.checkMiniClick(t.split("#")[1],e)},bubble.checkSubstanceMutex=function(t,e){var n;return null==t&&(t=""),!e||(n=e.split("#"),!(sdk.bubble.checkMiniAlive()&&new Date-sdk.bubble.getMiniLastPopup()<3600*n[0]*1e3)&&sdk.bubble.checkClickMutex(t,n[1]))},bubble.popupMutexToReg=function(t,e){var n,r,i,s,o;if(null==e&&(e=""),!(e.indexOf("#")<0))return i=e.split("#")[1],s="HKEY_CURRENT_USER\\Software\\kingsoft\\Office\\6.0\\plugins\\minisiteex",n="kbtrypopinf",r=sdk.system.getReg(n,s)||"",r=r.split(",").slice(-60),o=sdk.util.formatDate(new Date,"yyyy-MM-dd hh:mm:ss"),r.push(o+"#"+i+"#"+t),sdk.system.setReg(n,r.join(","),s)},bubble.clickMutexToReg=function(t,e){var n,r,i,s,o;if(null==e&&(e=""),!(e.indexOf("#")<0))return i=e.split("#")[1],s="HKEY_CURRENT_USER\\Software\\kingsoft\\Office\\6.0\\plugins\\minisiteex",n="kbtryclcinf",r=sdk.system.getReg(n,s)||"",r=r.split(",").slice(-60),o=sdk.util.formatDate(new Date,"yyyy-MM-dd hh:mm:ss"),r.push(o+"#"+i+"#"+t),sdk.system.setReg(n,r.join(","),s)},bubble.kbStatusToReg=function(t,e){var n,r;if(null==t&&(t="show"),null==e&&(e=""),r="HKEY_CURRENT_USER\\Software\\kingsoft\\Office\\6.0\\plugins\\minisiteex",n="kbtrystatus",!(e.indexOf("#")<0&&"show"===t))return sdk.system.setReg(n,t,r)},bubble.hasMiniBox=sdk.addCacheToFn(function(){var t,e,n,r;try{return!!(r=sdk.system.getReg("minisiteparam","HKEY_CURRENT_USER\\Software\\Kingsoft\\Office\\6.0\\plugins\\minisiteex"))&&(t=JSON.parse(sdk.util.decodeBase64(r)),sdk.system.isPathExists(t.path))}catch(n){return e=n,sdk.noop(),!1}}),bubble.inSeriousScene=sdk.addCacheToFn(function(){var t,e,n,r,i,s,o,a,u,l,c,d,p,h,f,g,k,b,m,y,w,v,x,_,T,E,S,R,C,I,D,P,N,B,A,O,M,U,j,L;if("production"!==sdk.env)return sdk.noop(),[];A=[],O=sdk.system.getTopProcess(),D=sdk.system.listProcesses(),I=sdk.system.listProcessesEx(),U=["微博","facebook","twitter"],x=["foxmail.exe","qqmail.exe","flashmail.exe"],_=["邮箱","邮件","mail"],e=["qq.exe","tim.exe","wechat.exe"],L=["wps.exe","et.exe","wpp.exe","wpspdf.exe","winword.exe","pptview.exe","excel.exe"],j=["axurerp.exe","mockingbot.exe","photoshop.exe","illustrator.exe","acad.exe","3dsmax.exe","visio.exe","coredraw.exe","smartdraw.exe","dingtalk.exe"],M=["bilibili","腾讯视频","爱奇艺","优酷","芒果TV","pp视频","土豆","搜狐视频","AcFun"],i=["crossfire.exe","war3.exe","metor.exe","kartrider.exe","ra2.exe","wow.exe","cstrike.exe","gta-vc.exe","crossfire.exe","wow.exe","crossfire.exe","mir2.exe","cstrike-online.exe","qqfo.exe","dnfchina.exe","client.exe","qqsg.exe","qqxu.exe","gameapp.exe","crossfire.exe","xypqlayer.exe","palonline.exe","digimon.exe","dnf.exe","dnfchina.exe","gameapp.exe","wow-64.exe","zhengtu2.dat","xy3launch.exe","audition.exe","qqhxsj.exe","elementclient.exe","jx3client.exe","cstrike-online.exe","qqfo.exe","qqxu.exe","qqsg.exe","gameapp.exe","kartrider.exe","dnfchina.exe","khan2.exe","dnf.exe","crossfire.exe","sdo.bin","maplestory.exe","cgate.exe","roclient.exe","zsonline.bin","worldoftanks.exe","sc2.exe","sgol.exe","game.exe","wlonline.exe","ddvlobby.exe","mir3.exe","league of legends.exe","war3.exe","heartstone.exe","crossfire.exe","dnf.exe","cstrike.exe","mir2.exe","baiduplayer.exe","youkudesktop.exe","xmp.exe","stormplayer.exe","kugou.exe","cloudmusic.exe","kwmusic.exe","shplayer.exe","qyclient.exe","qqlive.exe","qqplayer.exe","qqmusic.exe","jx3clientx64.exe","gacrunnerng.exe","tslgame.exe","ffxiv.exe"],u=["easinote.exe","pcs.exe ","txedu.exe","ljshell.exe","cctalk.exe","tz100.exe","cef3browser.exe","futurecloud.exe","classom.exe","小学数学同步课堂.exe","101ppt.exe","小学英语同步课堂.exe","小学语文同步课堂.exe","新东方在线.exe","vipkid.exe","actalk.exe","hujiangclass.exe"],w=["dytool.exe","obs32.exe","obs64.exe","huyaclient.exe","egamelive32.exe","livehime.exe"],T=["lark.exe","wxwork.exe","welink.exe","zoom.exe","teams.exe","fastmeeting.exe","wemeetlauncher.exe","zhumu.exe","talkline.exe","tangclient.exe","xylinkclient.exe"],l=["简单学习网","新东方在线","学而思网校","中小学教育网","学大教育","掌门1对1","黄冈网校","精华在线","101教育","德智教育","果肉网校","猿辅导"];try{for((sdk.system.isAnyProcessFullScreen()&&!sdk.existsApi("krwebview.setZOrder")||sdk.system.isProjectorConnected()||8!==sdk.client.plugin.getDisplayMode()||sdk.client.user.isAdvancedUser()||/filemon|putty|procmon|softsnoop|iris|wpe\spro|wireshark|httpanalyzerstd|regmon|regsnap|regshot|gmer|icesword|xuetr/.test(D))&&(sdk.noop(),A[0]=!0),O.name&&O.text||(O={isActive:"0",name:"",showState:"0",text:""}),sdk.noop(),s=0,c=U.length;s<c;s++)if(t=U[s],O.text.indexOf(t)>-1){sdk.noop(),A[1]=!0;break}for(o=0,d=M.length;o<d;o++)if(t=M[o],O.text.indexOf(t)>-1){sdk.noop(),A[2]=!0;break}for(a=0,p=i.length;a<p;a++)if(t=i[a],O.name===t||O.text.indexOf("游戏")>-1){sdk.noop(),A[3]=!0;break}for(v=0,h=j.length;v<h;v++)if(t=j[v],O.name===t){sdk.noop(),A[4]=!0;break}for(E=0,f=L.length;E<f;E++)if(t=L[E],O.name===t){sdk.noop(),A[4]=!0;break}for(R=u.concat(w,T),S=0,g=I.length;S<g;S++)if(t=I[S],R.indexOf(t.name)>-1){sdk.noop(),A[4]=!0;break}for(C=0,k=l.length;C<k;C++)if(t=l[C],O.text.indexOf(t)>-1){sdk.noop(),A[4]=!0;break}for(P=0,b=x.length;P<b;P++)if(t=x[P],O.name===t||O.name.indexOf("mail")>-1){sdk.noop(),A[5]=!0;break}for(N=0,m=_.length;N<m;N++)if(t=_[N],O.text.indexOf(t)>-1){sdk.noop(),A[5]=!0;break}for(B=0,y=e.length;B<y;B++)if(t=e[B],O.name===t){sdk.noop(),A[6]=!0;break}}catch(r){n=r,sdk.noop()}return A}),bubble.blockSeriousScene=function(t,e){var n,r,i,s;for(null==t&&(t=""),null==e&&(e=[]),n=t.split(";"),r=0,s=n.length;r<s;r++)if(i=n[r],e[i])return!0;return!1}}.call(this),function(){var t;t=sdk.feature,t.setFeatureScore=function(t,e){return t=sdk.util.encodeBase64Escape(sdk.util.bubbleCrypto.encrypt(t)),sdk.util.setIni("feature",t,e)},t.getFeatureScore=function(t){var e;return t=sdk.util.encodeBase64Escape(sdk.util.bubbleCrypto.encrypt(t)),e=sdk.util.getIni("feature",t),e?e-0:-1}}.call(this);
// 4F527FB6B01A6C6E8718DEBE4FCEF7A43786FAC30C82E7359AE9531D50864BE74E58B8D12EF8A7A6F47CC38B5B6C08774B1465A3449E1FB1EF6C2FEEA587F4A4